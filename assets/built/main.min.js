function dropdown(){const i=window.matchMedia("(max-width: 991px)"),o=document.querySelector(".gh-head-menu"),r=o?.querySelector(".nav");if(r){const e=document.querySelector(".gh-head-logo"),t=r.innerHTML;i.matches&&r.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"});const n=function(){if(!i.matches){for(var e=[];r.offsetWidth+64>o.offsetWidth&&r.lastElementChild;)e.unshift(r.lastElementChild),r.lastElementChild.remove();if(e.length){const t=document.createElement("button"),n=(t.setAttribute("class","nav-more-toggle gh-icon-btn"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));n.setAttribute("class","gh-dropdown"),10<=e.length?(document.body.classList.add("is-dropdown-mega"),n.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):document.body.classList.remove("is-dropdown-mega"),e.forEach(function(e){n.appendChild(e)}),t.appendChild(n),r.appendChild(t),document.body.classList.add("is-dropdown-loaded"),window.addEventListener("click",function(e){document.body.classList.contains("is-dropdown-open")?document.body.classList.remove("is-dropdown-open"):t.contains(e.target)&&document.body.classList.add("is-dropdown-open")})}else document.body.classList.add("is-dropdown-loaded")}};imagesLoaded(e,function(){n()}),window.addEventListener("load",function(){e||n()}),window.addEventListener("resize",function(){setTimeout(()=>{r.innerHTML=t,n()},1)})}}function lightbox(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){var t=e;t.preventDefault();for(var n,i=[],o=0,r=t.target.closest(".kg-card").previousElementSibling;r&&(r.classList.contains("kg-image-card")||r.classList.contains("kg-gallery-card"));){var a=[];r.querySelectorAll("img").forEach(function(e){a.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),o+=1}),r=r.previousElementSibling,i=a.concat(i)}t.target.classList.contains("kg-image")?i.push({src:t.target.getAttribute("src"),msrc:t.target.getAttribute("src"),w:t.target.getAttribute("width"),h:t.target.getAttribute("height"),el:t.target}):(n=!1,t.target.closest(".kg-gallery-card").querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),n||e===t.target?n=!0:o+=1}));for(var s=t.target.closest(".kg-card").nextElementSibling;s&&(s.classList.contains("kg-image-card")||s.classList.contains("kg-gallery-card"));)s.querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e})}),s=s.nextElementSibling;e=document.querySelectorAll(".pswp")[0];new PhotoSwipe(e,PhotoSwipeUI_Default,i,{bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:o,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){var e=i[e].el,t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}).init()})})}function pagination(e,s,l=!1){const c=document.querySelector(".gh-feed");if(!c)return;let t=!1;async function n(){var t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelectorAll(".gh-feed:not(.gh-featured):not(.gh-related) > *");const r=document.createDocumentFragment(),a=[];i.forEach(function(e){e=document.importNode(e,!0);l&&(e.style.visibility="hidden"),r.appendChild(e),a.push(e)}),c.appendChild(r),s&&s(a,u);var o=n.querySelector("link[rel=next]");o&&o.href?t.href=o.href:(t.remove(),d&&d.remove())}catch(e){throw t.remove(),d&&d.remove(),e}}const i=c.nextElementSibling||c.parentElement.nextElementSibling||document.querySelector(".gh-foot"),d=document.querySelector(".gh-loadmore"),u=(!document.querySelector("link[rel=next]")&&d&&d.remove(),async function(){i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await n()});const o=new IntersectionObserver(async function(e){if(!t){if(t=!0,e[0].isIntersecting)if(l)await n();else for(;i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await n();t=!1,document.querySelector("link[rel=next]")||o.disconnect()}});e?o.observe(i):d.addEventListener("click",n)}function flyingPages(){var n,o,i,t,r,e,a,s,l,c=new Set,d=new Set,u=document.createElement("link"),u=u.relList&&u.relList.supports&&u.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype;navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"))||!u||(n=function(i){return new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=i,n.onload=e,n.onerror=t,document.head.appendChild(n)})},o=function(e){var t=setTimeout(function(){return l()},5e3);n(e).catch(function(){return l()}).finally(function(){return clearTimeout(t)})},i=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!d.has(e)&&!c.has(e)){var n=window.location.origin;if(e.substring(0,n.length)===n&&window.location.href!==e){for(var i=0;i<window.FPConfig.ignoreKeywords.length;i++)if(e.includes(window.FPConfig.ignoreKeywords[i]))return;(t?(o(e),d):c).add(e)}}},t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e=e.target.href,i(e,!window.FPConfig.maxRPS))})}),r=null,e=function(e){var t=e.target.closest("a");t&&t.href&&!d.has(t.href)&&(r=setTimeout(function(){i(t.href,!0)},window.FPConfig.hoverDelay))},a=function(e){e=e.target.closest("a");e&&e.href&&!d.has(e.href)&&i(e.href,!0)},s=function(e){e=e.target.closest("a");e&&e.href&&!d.has(e.href)&&clearTimeout(r)},u=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return(0,Math.max)(0,50-(Date.now()-t))}})},1)},l=function(){document.querySelectorAll("a").forEach(function(e){return t.unobserve(e)}),c.clear(),document.removeEventListener("mouseover",e,!0),document.removeEventListener("mouseout",s,!0),document.removeEventListener("touchstart",a,!0)},window.FPConfig=Object.assign({delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50},window.FPConfig),setInterval(function(){Array.from(c).slice(0,window.FPConfig.maxRPS).forEach(function(e){o(e),d.add(e),c.delete(e)})},1e3),u(function(){return setTimeout(function(){return document.querySelectorAll("a").forEach(function(e){return t.observe(e)})},1e3*window.FPConfig.delay)}),u={capture:!0,passive:!0},document.addEventListener("mouseover",e,u),document.addEventListener("mouseout",s,u),document.addEventListener("touchstart",a,u))}!function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;return e&&t&&((n=(n=this._events=this._events||{})[e]=n[e]||[]).includes(t)||n.push(t)),this},t.once=function(e,t){var n;return e&&t&&(this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];var i,o=this._onceEvents&&this._onceEvents[e];for(i of n)o&&o[i]&&(this.off(e,i),delete o[i]),i.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let r=t.jQuery,a=t.console;function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);let i=e;var o;(i="string"==typeof e?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?[...o]:[o]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(i||e))}(s.prototype=Object.create(e.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11],l=(s.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t,n,i=e["nodeType"];if(i&&o.includes(i)){for(t of e.querySelectorAll("img"))this.addImage(t);if("string"==typeof this.options.background)for(n of e.querySelectorAll(this.options.background))this.addElementBackgroundImages(n)}},/url\((['"])?(.*?)\1\)/gi);function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var n=getComputedStyle(t);if(n){let e=l.exec(n.backgroundImage);for(;null!==e;){var i=e&&e[2];i&&this.addBackground(i,t),e=l.exec(n.backgroundImage)}}},s.prototype.addImage=function(e){e=new n(e);this.images.push(e)},s.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length){let t=(e,t,n)=>{setTimeout(()=>{this.progress(e,t,n)})};this.images.forEach(function(e){e.once("progress",t),e.check()})}else this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e;e=this.img.parentNode,e="PICTURE"===e.nodeName?e:this.img;this.emitEvent("progress",[this,e,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(r(this))})})(),s}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,s){function e(e){if(E)return!0;e=e||window.event,C.timeToIdle&&C.mouseUsed&&!y&&l();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<D.length;o++)(t=D[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),E=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){E=!1},e))}function n(){var e=1===C.getNumItemsFn();e!==S&&($(h,"ui--one-slide",e),S=e)}function a(){$(v,"share-modal--hidden",M)}function o(){if((M=!M)?(s.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){M&&a()},300)):(a(),setTimeout(function(){M||s.addClass(v,"pswp__share-modal--fade-in")},30)),!M){for(var e,t,n,i,o="",r=0;r<C.shareButtons.length;r++)e=C.shareButtons[r],t=C.getImageURLForShare(e),n=C.getPageURLForShare(e),i=C.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",C.parseShareButtonOut&&(o=C.parseShareButtonOut(e,o));v.children[0].innerHTML=o,v.children[0].onclick=R}}function r(e){for(var t=0;t<C.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+C.closeElClasses[t]))return!0}function l(){clearTimeout(A),O=0,y&&I.setIdle(!1)}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(A),A=setTimeout(function(){I.setIdle(!0)},C.timeToIdleOutside))}function d(e){k!==e&&($(x,"preloader--active",!e),k=e)}function u(e){var t,n=e.vGap;!i.likelyTouchDevice||C.mouseUsed||screen.width>C.fitControlsWidth?(t=C.barsSize,C.captionEl&&"auto"===t.bottom?(g||((g=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),h.insertBefore(g,f),s.addClass(h,"pswp__ui--fit")),C.addCaptionHTMLFn(e,g,!0)?(e=g.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function z(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],r=o.className;for(var i=0;i<D.length;i++)a=D[i],-1<r.indexOf("pswp__"+a.name)&&(C[a.option]?(s.removeClass(o,"pswp__element--disabled"),a.onInit&&a.onInit(o)):s.addClass(o,"pswp__element--disabled"))}}e(h.children);var o,r,a,t=s.getChildByClass(h,"pswp__top-bar");t&&e(t.children)}var p,h,f,g,t,m,v,b,y,w,x,k,_,S,C,E,T,A,I=this,L=!1,P=!0,M=!0,N={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},$=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},R=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),M||o(),1))},O=0,D=[{name:"caption",option:"captionEl",onInit:function(e){f=e}},{name:"share-modal",option:"shareEl",onInit:function(e){v=e},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(e){m=e},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){x=e}}];I.init=function(){var t;s.extend(i.options,N,!0),C=i.options,h=s.getChildByClass(i.scrollWrap,"pswp__ui"),(w=i.listen)("onVerticalDrag",function(e){P&&e<.95?I.hideControls():!P&&.95<=e&&I.showControls()}),w("onPinchClose",function(e){P&&e<.9?(I.hideControls(),t=!0):t&&!P&&.9<e&&I.showControls()}),w("zoomGestureEnded",function(){(t=!1)&&!P&&I.showControls()}),w("beforeChange",I.update),w("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(C.getDoubleTapZoom(!1,i.currItem),e,333)}),w("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),w("bindEvents",function(){s.bind(h,"pswpTap click",e),s.bind(i.scrollWrap,"pswpTap",I.onGlobalTap),i.likelyTouchDevice||s.bind(i.scrollWrap,"mouseover",I.onMouseOver)}),w("unbindEvents",function(){M||o(),T&&clearInterval(T),s.unbind(document,"mouseout",c),s.unbind(document,"mousemove",l),s.unbind(h,"pswpTap click",e),s.unbind(i.scrollWrap,"pswpTap",I.onGlobalTap),s.unbind(i.scrollWrap,"mouseover",I.onMouseOver),p&&(s.unbind(document,p.eventK,I.updateFullscreen),p.isFullscreen()&&(C.hideAnimationDuration=0,p.exit()),p=null)}),w("destroy",function(){C.captionEl&&(g&&h.removeChild(g),s.removeClass(f,"pswp__caption--empty")),v&&(v.children[0].onclick=null),s.removeClass(h,"pswp__ui--over-close"),s.addClass(h,"pswp__ui--hidden"),I.setIdle(!1)}),C.showAnimationDuration||s.removeClass(h,"pswp__ui--hidden"),w("initialZoomIn",function(){C.showAnimationDuration&&s.removeClass(h,"pswp__ui--hidden")}),w("initialZoomOut",function(){s.addClass(h,"pswp__ui--hidden")}),w("parseVerticalMargin",u),z(),C.shareEl&&m&&v&&(M=!0),n(),C.timeToIdle&&w("mouseUsed",function(){s.bind(document,"mousemove",l),s.bind(document,"mouseout",c),T=setInterval(function(){2===++O&&I.setIdle(!0)},C.timeToIdle/2)}),C.fullscreenEl&&!s.features.isOldAndroid&&((p=p||I.getFullscreenAPI())?(s.bind(document,p.eventK,I.updateFullscreen),I.updateFullscreen(),s.addClass(i.template,"pswp--supports-fs")):s.removeClass(i.template,"pswp--supports-fs")),C.preloaderEl&&(d(!0),w("beforeChange",function(){clearTimeout(_),_=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||d(!1):d(!0)},C.loadingIndicatorDelay)}),w("imageLoadComplete",function(e,t){i.currItem===t&&d(!0)}))},I.setIdle=function(e){$(h,"ui--idle",y=e)},I.update=function(){L=!(!P||!i.currItem||(I.updateIndexIndicator(),C.captionEl&&(C.addCaptionHTMLFn(i.currItem,f),$(f,"caption--empty",!i.currItem.title)),0)),M||o(),n()},I.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,s.getScrollY())},50),s[(p.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},I.updateIndexIndicator=function(){C.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+C.indexIndicatorSep+C.getNumItemsFn())},I.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!E)if(e.detail&&"mouse"===e.detail.pointerType)r(t)?i.close():s.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?C.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(C.tapToToggleControls&&(P?I.hideControls():I.showControls()),C.tapToClose&&(s.hasClass(t,"pswp__img")||r(t)))return void i.close()},I.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;$(h,"ui--over-close",r(e))},I.hideControls=function(){s.addClass(h,"pswp__ui--hidden"),P=!1},I.showControls=function(){P=!0,L||I.update(),s.removeClass(h,"pswp__ui--hidden")},I.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},I.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return b=C.closeOnScroll,C.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return C.closeOnScroll=b,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(p,N,t,R){var h={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){h.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){h.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(h.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(h.features)return h.features;var e,t,n=h.createEl().style,i="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var r,a,s,l=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],d=0;d<4;d++){for(var i=c[d],u=0;u<3;u++)r=l[u],a=i+(i?r.charAt(0).toUpperCase()+r.slice(1):r),!o[r]&&a in n&&(o[r]=a);i&&!o.raf&&(i=i.toLowerCase(),o.raf=window[i+"RequestAnimationFrame"],o.raf)&&(o.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}return o.raf||(s=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=window.setTimeout(function(){e(t+n)},n);return s=t+n,i},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h.features=o}},f=(h.detectFeatures(),h.features.oldIE&&(h.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)}),this),F=25,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};h.extend(g,R);function e(){return{x:0,y:0}}function V(e,t){h.extend(f,t.publicMethods),He.push(e)}function j(e){var t=$();return t-1<e?e-t:e<0?t+e:e}function r(e,t){return Ye[e]||(Ye[e]=[]),Ye[e].push(t)}function B(e,t,n,i){i===f.currItem.initialZoomLevel?n[e]=f.currItem.initialPosition[e]:(n[e]=Je(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function U(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]())}function q(e){e&&(Ie||Ae||b||Ce)&&(e.preventDefault(),e.stopPropagation())}function H(){f.setScrollOffset(0,h.getScrollY())}function W(e){var t;"mousedown"===e.type&&0<e.button||(Jt?e.preventDefault():Ee&&"mousedown"===e.type||(Pt(e,!0)&&e.preventDefault(),_("pointerDown"),he&&((t=h.arraySearch(gt,e.pointerId,"id"))<0&&(t=gt.length),gt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Ft(e)).length,c=null,ct(),l&&1!==e||(l=De=!0,h.bind(window,ee,f),Se=Re=ze=Ce=Pe=Ie=Te=Ae=!1,Oe=null,_("firstTouchStart",t),T(je,y),Ve.x=Ve.y=0,T(P,t[0]),T(ft,P),mt.x=x.x*Be,vt=[{x:P.x,y:P.y}],ke=xe=S(),it(v,!0),Et(),Tt()),!d&&1<e&&!b&&!Pe&&(ne=v,d=Te=!(Ae=!1),Ve.y=Ve.x=0,T(je,y),T(I,t[0]),T(ht,t[1]),$t(I,ht,_t),kt.x=Math.abs(_t.x)-y.x,kt.y=Math.abs(_t.y)-y.y,Me=Ct(I,ht))))}function G(e){var t;e.preventDefault(),he&&-1<(t=h.arraySearch(gt,e.pointerId,"id"))&&((t=gt[t]).x=e.pageX,t.y=e.pageY),l&&(t=Ft(e),Oe||Ie||d?c=t:M.x!==x.x*Be?Oe="h":(e=Math.abs(t[0].x-P.x)-Math.abs(t[0].y-P.y),Math.abs(e)>=pt&&(Oe=0<e?"h":"v",c=t)))}function Y(e){if(s.isOldAndroid){if(Ee&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Ee),Ee=setTimeout(function(){Ee=0},600))}var t;_("pointerUp"),Pt(e,!1)&&e.preventDefault(),he&&-1<(r=h.arraySearch(gt,e.pointerId,"id"))&&(t=gt.splice(r,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(r=Ft(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(c=null);1===n&&T(ft,r[0]),0!==n||Oe||b||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),_("touchRelease",e,t));var i,o,r=-1;if(0===n&&(l=!1,h.unbind(window,ee,f),Et(),d?r=0:-1!==xt&&(r=S()-xt)),xt=1===n?S():-1,e=-1!==r&&r<150?"zoom":"swipe",d&&n<2&&(d=!1,1===n&&(e="zoomPointerUp"),_("zoomGestureEnded")),c=null,Ie||Ae||b||Ce)if(ct(),(_e=_e||Bt()).calculateSwipeSpeed("x"),Ce)Dt()<g.verticalDragRange?f.close():(i=y.y,o=Ne,dt("verticalDrag",0,1,300,h.easing.cubic.out,function(e){y.y=(f.currItem.initialPosition.y-i)*e+i,C((1-o)*e+o),E()}),_("onVerticalDrag",1));else{if((Pe||b)&&0===n){if(qt(e,_e))return;e="zoomPointerUp"}if(!b)return"swipe"!==e?void Wt():void(!Pe&&v>f.currItem.fitRatio&&Ut(_e))}}var Z,K,X,m,Q,J,ee,te,i,v,ne,ie,oe,re,ae,a,se,le,ce,de,ue,pe,he,o,fe,ge,me,ve,be,ye,s,we,xe,ke,_e,Se,Ce,Ee,l,Te,Ae,Ie,Le,Pe,c,d,Me,u,$e,b,Oe,De,ze,Ne,Re,Fe,Ve=e(),je=e(),y=e(),w={},Be=0,Ue={},x=e(),k=0,qe=!0,He=[],We={},Ge=!1,Ye={},_=function(e){var t=Ye[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(f,n)}},S=function(){return(new Date).getTime()},C=function(e){Ne=e,f.bg.style.opacity=e*g.bgOpacity},Ze=function(e,t,n,i,o){(!Ge||o&&o!==f.currItem)&&(i/=(o||f.currItem).fitRatio),e[pe]=ie+t+"px, "+n+"px"+oe+" scale("+i+")"},E=function(e){$e&&(e&&(v>f.currItem.fitRatio?Ge||(cn(f.currItem,!1,!0),Ge=!0):Ge&&(cn(f.currItem),Ge=!1)),Ze($e,y.x,y.y,v))},Ke=function(e){e.container&&Ze(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Xe=function(e,t){t[pe]=ie+e+"px, 0px"+oe},Qe=function(e,t){var n;!g.loop&&t&&(t=m+(x.x*Be-e)/x.x,n=Math.round(e-M.x),t<0&&0<n||t>=$()-1&&n<0)&&(e=M.x+n*g.mainScrollEndFriction),M.x=e,Xe(e,Q)},Je=function(e,t){var n=kt[e]-Ue[e];return je[e]+Ve[e]+n-t/ne*n},T=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(h.unbind(document,"mousemove",nt),h.addClass(p,"pswp--has_mouse"),g.mouseUsed=!0,_("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=sn(f.currItem,w,e);return t&&(u=e),e},ot=function(e){return(e=e||f.currItem).initialZoomLevel},rt=function(e){return 0<(e=e||f.currItem).w?g.maxSpreadZoom:1},A={},at=0,st=function(e){A[e]&&(A[e].raf&&ge(A[e].raf),at--,delete A[e])},lt=function(e){A[e]&&st(e),A[e]||(at++,A[e]={})},ct=function(){for(var e in A)A.hasOwnProperty(e)&&st(e)},dt=function(e,t,n,i,o,r,a){function s(){A[e]&&(l=S()-c,i<=l?(st(e),r(n),a&&a()):(r((n-t)*o(l/i)+t),A[e].raf=fe(s)))}var l,c=S();lt(e);s()},R={shout:_,listen:r,viewportSize:w,options:g,isMainScrollAnimating:function(){return b},getZoomLevel:function(){return v},getCurrentIndex:function(){return m},isDragging:function(){return l},isZooming:function(){return d},setScrollOffset:function(e,t){Ue.x=e,ye=Ue.y=t,_("updateScrollOffset",Ue)},applyZoomPan:function(e,t,n,i){y.x=t,y.y=n,v=e,E(i)},init:function(){if(!Z&&!K){f.framework=h,f.template=p,f.bg=h.getChildByClass(p,"pswp__bg"),me=p.className,Z=!0,s=h.detectFeatures(),fe=s.raf,ge=s.caf,pe=s.transform,be=s.oldIE,f.scrollWrap=h.getChildByClass(p,"pswp__scroll-wrap"),f.container=h.getChildByClass(f.scrollWrap,"pswp__container"),Q=f.container.style,f.itemHolders=a=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],a[0].el.style.display=a[2].el.style.display="none",pe?(t=s.perspective&&!o,ie="translate"+(t?"3d(":"("),oe=s.perspective?", 0px)":")"):(pe="left",h.addClass(p,"pswp--ie"),Xe=function(e,t){t.left=e+"px"},Ke=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},E=function(){var e,t,n,i;$e&&(e=$e,n=(i=1<(t=f.currItem).fitRatio?1:t.fitRatio)*t.w,i=i*t.h,e.width=n+"px",e.height=i+"px",e.left=y.x+"px",e.top=y.y+"px")}),i={resize:f.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){w.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:H,keydown:U,click:q};var e,t=s.isOldIOSPhone||s.isOldAndroid||s.isMobileOpera;for(s.animationName&&s.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<He.length;e++)f["init"+He[e]]();N&&(f.ui=new N(f,h)).init(),_("firstUpdate"),m=m||g.index||0,(isNaN(m)||m<0||m>=$())&&(m=0),f.currItem=en(m),(s.isOldIOSPhone||s.isOldAndroid)&&(qe=!1),p.setAttribute("aria-hidden","false"),g.modal&&(qe?p.style.position="fixed":(p.style.position="absolute",p.style.top=h.getScrollY()+"px")),void 0===ye&&(_("initialLayout"),ye=ve=h.getScrollY());var n="pswp--open ";for(g.mainClass&&(n+=g.mainClass+" "),g.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=o?"pswp--touch":"pswp--notouch")+(s.animationName?" pswp--css_animation":""))+(s.svg?" pswp--svg":""),h.addClass(p,n),f.updateSize(),J=-1,k=null,e=0;e<3;e++)Xe((e+J)*x.x,a[e].el.style);be||h.bind(f.scrollWrap,te,f),r("initialZoomInEnd",function(){f.setContent(a[0],m-1),f.setContent(a[2],m+1),a[0].el.style.display=a[2].el.style.display="block",g.focus&&p.focus(),h.bind(document,"keydown",f),s.transform&&h.bind(f.scrollWrap,"click",f),g.mouseUsed||h.bind(document,"mousemove",nt),h.bind(window,"resize scroll orientationchange",f),_("bindEvents")}),f.setContent(a[1],m),f.updateCurrItem(),_("afterInit"),qe||(re=setInterval(function(){at||l||d||v!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),h.addClass(p,"pswp--visible")}var t},close:function(){Z&&(K=!(Z=!1),_("close"),h.unbind(window,"resize scroll orientationchange",f),h.unbind(window,"scroll",i.scroll),h.unbind(document,"keydown",f),h.unbind(document,"mousemove",nt),s.transform&&h.unbind(f.scrollWrap,"click",f),l&&h.unbind(window,ee,f),clearTimeout(we),_("unbindEvents"),tn(f.currItem,null,!0,f.destroy))},destroy:function(){_("destroy"),Kt&&clearTimeout(Kt),p.setAttribute("aria-hidden","true"),p.className=me,re&&clearInterval(re),h.unbind(f.scrollWrap,te,f),h.unbind(window,"scroll",f),Et(),ct(),Ye=null},panTo:function(e,t,n){n||(e>u.min.x?e=u.min.x:e<u.max.x&&(e=u.max.x),t>u.min.y?t=u.min.y:t<u.max.y&&(t=u.max.y)),y.x=e,y.y=t,E()},handleEvent:function(e){e=e||window.event,i[e.type]&&i[e.type](e)},goTo:function(e){var t=(e=j(e))-m;k=t,m=e,f.currItem=en(m),Be-=t,Qe(x.x*Be),ct(),b=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(e){var t;e&&_("beforeChange",0),$e=a[1].el.children.length&&(t=a[1].el.children[0],h.hasClass(t,"pswp__zoom-wrap"))?t.style:null,u=f.currItem.bounds,ne=v=f.currItem.initialZoomLevel,y.x=u.center.x,y.y=u.center.y,e&&_("afterChange")},invalidateCurrItems:function(){ae=!0;for(var e=0;e<3;e++)a[e].item&&(a[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==k){var t,n=Math.abs(k);if(!(e&&n<2)){f.currItem=en(m),Ge=!1,_("beforeChange",k),3<=n&&(J+=k+(0<k?-3:3),n=3);for(var i=0;i<n;i++)0<k?(t=a.shift(),a[2]=t,Xe((++J+2)*x.x,t.el.style),f.setContent(t,m-n+i+1+1)):(t=a.pop(),a.unshift(t),Xe(--J*x.x,t.el.style),f.setContent(t,m+n-i-1-1));$e&&1===Math.abs(k)&&(e=en(se)).initialZoomLevel!==v&&(sn(e,w),cn(e),Ke(e)),k=0,f.updateCurrZoomItem(),se=m,_("afterChange")}}},updateSize:function(e){if(!qe&&g.modal){var t=h.getScrollY();if(ye!==t&&(p.style.top=t+"px",ye=t),!e&&We.x===window.innerWidth&&We.y===window.innerHeight)return;We.x=window.innerWidth,We.y=window.innerHeight,p.style.height=We.y+"px"}if(w.x=f.scrollWrap.clientWidth,w.y=f.scrollWrap.clientHeight,H(),x.x=w.x+Math.round(w.x*g.spacing),x.y=w.y,Qe(x.x*Be),_("beforeResize"),void 0!==J){for(var n,i,o,r=0;r<3;r++)n=a[r],Xe((r+J)*x.x,n.el.style),o=m+r-1,g.loop&&2<$()&&(o=j(o)),(i=en(o))&&(ae||i.needsUpdate||!i.bounds)?(f.cleanSlide(i),f.setContent(n,o),1===r&&(f.currItem=i,f.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&f.setContent(n,o),i&&i.container&&(sn(i,w),cn(i),Ke(i));ae=!1}ne=v=f.currItem.initialZoomLevel,(u=f.currItem.bounds)&&(y.x=u.center.x,y.y=u.center.y,E(!0)),_("resize")},zoomTo:function(t,e,n,i,o){e&&(ne=v,kt.x=Math.abs(e.x)-y.x,kt.y=Math.abs(e.y)-y.y,T(je,y));function r(e){1===e?(v=t,y.x=a.x,y.y=a.y):(v=(t-s)*e+s,y.x=(a.x-l.x)*e+l.x,y.y=(a.y-l.y)*e+l.y),o&&o(e),E(1===e)}var e=it(t,!1),a={},s=(B("x",e,a,t),B("y",e,a,t),v),l={x:y.x,y:y.y};et(a);n?dt("customZoomTo",0,1,n,i||h.easing.sine.inOut,r):r(1)}},ut=30,pt=10,I={},ht={},L={},P={},ft={},gt=[],mt={},vt=[],bt={},yt=0,wt=e(),xt=0,M=e(),kt=e(),_t=e(),St=function(e,t){return e.x===t.x&&e.y===t.y},Ct=function(e,t){return bt.x=Math.abs(e.x-t.x),bt.y=Math.abs(e.y-t.y),Math.sqrt(bt.x*bt.x+bt.y*bt.y)},Et=function(){Le&&(ge(Le),Le=null)},Tt=function(){l&&(Le=fe(Tt),jt())},At=function(){return!("fit"===g.scaleMode&&v===f.currItem.initialZoomLevel)},It=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:It(e.parentNode,t))},Lt={},Pt=function(e,t){return Lt.prevent=!It(e.target,g.isClickableElement),_("preventDragEvent",e,t,Lt),Lt.prevent},Mt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},$t=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ot=function(e,t,n){var i;50<e-ke&&((i=2<vt.length?vt.shift():{}).x=t,i.y=n,vt.push(i),ke=e)},Dt=function(){var e=y.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(w.y/2))},zt={},Nt={},Rt=[],Ft=function(e){for(;0<Rt.length;)Rt.pop();return he?(Fe=0,gt.forEach(function(e){0===Fe?Rt[0]=e:1===Fe&&(Rt[1]=e),Fe++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Rt[0]=Mt(e.touches[0],zt),1<e.touches.length)&&(Rt[1]=Mt(e.touches[1],Nt)):(zt.x=e.pageX,zt.y=e.pageY,zt.id="",Rt[0]=zt),Rt},Vt=function(e,t){var n,i,o,r=y[e]+t[e],a=0<t[e],s=M.x+t.x,l=M.x-mt.x,c=r>u.min[e]||r<u.max[e]?g.panEndFriction:1,r=y[e]+t[e]*c;return!g.allowPanToNext&&v!==f.currItem.initialZoomLevel||($e?"h"!==Oe||"x"!==e||Ae||(a?(r>u.min[e]&&(c=g.panEndFriction,u.min[e],n=u.min[e]-je[e]),(n<=0||l<0)&&1<$()?(o=s,l<0&&s>mt.x&&(o=mt.x)):u.min.x!==u.max.x&&(i=r)):(r<u.max[e]&&(c=g.panEndFriction,u.max[e],n=je[e]-u.max[e]),(n<=0||0<l)&&1<$()?(o=s,0<l&&s<mt.x&&(o=mt.x)):u.min.x!==u.max.x&&(i=r))):o=s,"x"!==e)?void(b||Pe||v>f.currItem.fitRatio&&(y[e]+=t[e]*c)):(void 0!==o&&(Qe(o,!0),Pe=o!==mt.x),u.min.x!==u.max.x&&(void 0!==i?y.x=i:Pe||(y.x+=t.x*c)),void 0!==o)},jt=function(){var e,t,n,i,o,r;c&&0!==(e=c.length)&&(T(I,c[0]),L.x=I.x-P.x,L.y=I.y-P.y,d&&1<e?(P.x=I.x,P.y=I.y,!L.x&&!L.y&&St(c[1],ht)||(T(ht,c[1]),Ae||(Ae=!0,_("zoomGestureStarted")),e=Ct(I,ht),(t=Ht(e))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(Re=!0),n=1,i=ot(),o=rt(),t<i?g.pinchToClose&&!Re&&ne<=f.currItem.initialZoomLevel?(C(r=1-(i-t)/(i/1.2)),_("onPinchClose",r),ze=!0):t=i-(n=1<(n=(i-t)/i)?1:n)*(i/3):o<t&&(t=o+(n=1<(n=(t-o)/(6*i))?1:n)*i),n<0&&(n=0),$t(I,ht,wt),Ve.x+=wt.x-_t.x,Ve.y+=wt.y-_t.y,T(_t,wt),y.x=Je("x",t),y.y=Je("y",t),Se=v<t,v=t,E())):Oe&&(De&&(De=!1,Math.abs(L.x)>=pt&&(L.x-=c[0].x-ft.x),Math.abs(L.y)>=pt)&&(L.y-=c[0].y-ft.y),P.x=I.x,P.y=I.y,0===L.x&&0===L.y||("v"===Oe&&g.closeOnVerticalDrag&&!At()?(Ve.y+=L.y,y.y+=L.y,r=Dt(),Ce=!0,_("onVerticalDrag",r),C(r),E()):(Ot(S(),I.x,I.y),Ie=!0,u=f.currItem.bounds,Vt("x",L)||(Vt("y",L),et(y),E())))))},Bt=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<vt.length?(t=S()-ke+50,vt[vt.length-2]):(t=S()-xe,ft))[e],i.lastFlickOffset[e]=P[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(y[t]>u.min[t]?i.backAnimDestination[t]=u.min[t]:y[t]<u.max[t]&&(i.backAnimDestination[t]=u.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05)&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,dt("bounceZoomPan"+t,y[t],i.backAnimDestination[t],e||300,h.easing.sine.out,function(e){y[t]=e,E()})))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,y[e]+=i.distanceOffset[e])},panAnimLoop:function(){A.zoomPan&&(A.zoomPan.raf=fe(i.panAnimLoop),i.now=S(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),E(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05)&&i.speedDecelerationRatioAbs.y<.05&&(y.x=Math.round(y.x),y.y=Math.round(y.y),E(),st("zoomPan"))}};return i},Ut=function(e){return e.calculateSwipeSpeed("y"),u=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=S(),void e.panAnimLoop())},qt=function(e,t){var n,i,o;b||(yt=m),"swipe"===e&&(e=P.x-ft.x,r=t.lastFlickDist.x<10,ut<e&&(r||20<t.lastFlickOffset.x)?i=-1:e<-ut&&(r||t.lastFlickOffset.x<-20)&&(i=1)),i&&((m+=i)<0?(m=g.loop?$()-1:0,o=!0):m>=$()&&(m=g.loop?0:$()-1,o=!0),o&&!g.loop||(k+=i,Be-=i,n=!0));var e=x.x*Be,r=Math.abs(e-M.x),a=n||e>M.x==0<t.lastFlickSpeed.x?(a=0<Math.abs(t.lastFlickSpeed.x)?r/Math.abs(t.lastFlickSpeed.x):333,a=Math.min(a,400),Math.max(a,250)):333;return yt===m&&(n=!1),b=!0,_("mainScrollAnimStart"),dt("mainScroll",M.x,e,a,h.easing.cubic.out,Qe,function(){ct(),b=!1,yt=-1,!n&&yt===m||f.updateCurrItem(),_("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Ht=function(e){return 1/Me*e*ne},Wt=function(){var e=v,t=ot(),n=rt();v<t?e=t:n<v&&(e=n);var i,o=Ne;return ze&&!Se&&!Re&&v<t?f.close():(ze&&(i=function(e){C((1-o)*e+o)}),f.zoomTo(e,0,200,h.easing.cubic.out,i)),!0};V("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){le=e+t,ce=e+n,de=e+i,ue=o?e+o:""}(he=s.pointerEvent)&&s.touch&&(s.touch=!1),he?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):s.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),ee=ce+" "+de+" "+ue,te=le,he&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=o,i[le]=W,i[ce]=G,i[de]=Y,ue&&(i[ue]=i[de]),s.touch&&(te+=" mousedown",ee+=" mousemove mouseup",i.mousedown=i[le],i.mousemove=i[ce],i.mouseup=i[de]),o||(g.allowPanToNext=!1)}}});function Gt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=h.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Yt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),1)}function Zt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var Kt,Xt,Qt,Jt,en,$,tn=function(r,e,a,t){function s(){st("initialZoom"),a?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(C(1),e&&(e.style.display="block"),h.addClass(p,"pswp--animated-in"),_("initialZoom"+(a?"OutEnd":"InEnd"))),t&&t(),Jt=!1}Kt&&clearTimeout(Kt),Qt=Jt=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(m);var l,c,d,u=a?g.hideAnimationDuration:g.showAnimationDuration;u&&l&&void 0!==l.x?(c=X,d=!f.currItem.src||f.currItem.loadError||g.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),a||(v=l.w/r.w,y.x=l.x,y.y=l.y-ve,f[d?"template":"bg"].style.opacity=.001,E()),lt("initialZoom"),a&&!c&&h.removeClass(p,"pswp--animated-in"),d&&(a?h[(c?"remove":"add")+"Class"](p,"pswp--animate_opacity"):setTimeout(function(){h.addClass(p,"pswp--animate_opacity")},30)),Kt=setTimeout(function(){var t,n,i,o,e;_("initialZoom"+(a?"Out":"In")),a?(t=l.w/r.w,n={x:y.x,y:y.y},i=v,o=Ne,e=function(e){1===e?(v=t,y.x=l.x,y.y=l.y-ye):(v=(t-i)*e+i,y.x=(l.x-n.x)*e+n.x,y.y=(l.y-ye-n.y)*e+n.y),E(),d?p.style.opacity=1-e:C(o-e*o)},c?dt("initialZoom",0,1,u,h.easing.cubic.out,e,s):(e(1),Kt=setTimeout(s,u+20))):(v=r.initialZoomLevel,T(y,r.initialPosition),E(),C(1),d?p.style.opacity=1:C(1),Kt=setTimeout(s,u+20))},a?25:90)):(_("initialZoom"+(a?"Out":"In")),v=r.initialZoomLevel,T(y,r.initialPosition),E(),p.style.opacity=a?0:1,C(1),u?setTimeout(function(){s()},u):s())},O={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var i=e.bounds;i.center.x=Math.round((O.x-t)/2),i.center.y=Math.round((O.y-n)/2)+e.vGap.top,i.max.x=t>O.x?Math.round(O.x-t):i.center.x,i.max.y=n>O.y?Math.round(O.y-n)+e.vGap.top:i.center.y,i.min.x=t>O.x?0:i.center.x,i.min.y=n>O.y?e.vGap.top:i.center.y},sn=function(e,t,n){var i,o;return e.src&&!e.loadError?((i=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),_("parseVerticalMargin",e)),O.x=t.x,O.y=t.y-e.vGap.top-e.vGap.bottom,i&&(t=O.x/e.w,o=O.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=g.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=rn())),n?(an(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,cn(t,i,t===f.currItem&&Ge),n.appendChild(i),r)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},cn=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")};V("Controller",{publicMethods:{lazyLoadItem:function(e){e=j(e);var t=en(e);t&&(!t.loaded&&!t.loading||ae)&&(_("gettingData",e,t),t.src)&&Gt(t)},initController:function(){h.extend(g,on,!0),f.items=Xt=t,en=f.getItemAt,$=g.getNumItemsFn,g.loop,$()<3&&(g.loop=!1),r("beforeChange",function(e){for(var t=g.preload,n=null===e||0<=e,i=Math.min(t[0],$()),o=Math.min(t[1],$()),r=1;r<=(n?o:i);r++)f.lazyLoadItem(m+r);for(r=1;r<=(n?i:o);r++)f.lazyLoadItem(m-r)}),r("initialLayout",function(){f.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(m)}),r("mainScrollAnimComplete",Zt),r("initialZoomInEnd",Zt),r("destroy",function(){for(var e,t=0;t<Xt.length;t++)(e=Xt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==Xt[e]&&Xt[e]},allowProgressiveImg:function(){return g.forceProgressiveLoading||!o||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=j(n));var e=f.getItemAt(t.index);e&&(e.container=null);var i,o,r,e=f.getItemAt(n);e?(_("gettingData",n,e),t.index=n,o=(t.item=e).container=h.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?o.appendChild(e.html):o.innerHTML=e.html),Yt(e),sn(e,w),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((i=h.createEl("pswp__img","img")).style.opacity=1,i.src=e.src,cn(e,i),ln(n,e,o,i,!0)):(e.loadComplete=function(e){if(Z){if(t&&t.index===n){if(Yt(e,!0))return e.loadComplete=e.img=null,sn(e,w),Ke(e),void(t.index===m&&f.updateCurrZoomItem());e.imageAppended?!Jt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):s.transform&&(b||Jt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,o,e.img,b||Jt,!0)}e.loadComplete=null,e.img=null,_("imageLoadComplete",n,e)}},h.features.transform&&(r="pswp__img pswp__img--placeholder",r+=e.msrc?"":" pswp__img--placeholder--blank",r=h.createEl(r,e.msrc?"img":""),e.msrc&&(r.src=e.msrc),cn(e,r),o.appendChild(r),e.placeholder=r),e.loading||Gt(e),f.allowProgressiveImg()&&(!Qt&&s.transform?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t}):ln(n,e,o,e.img,!0,!0))),Qt||n!==m?Ke(e):($e=o.style,tn(e,i||e.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function dn(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}var un,D,pn={};V("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",f.onTapStart),r("touchRelease",f.onTapRelease),r("destroy",function(){pn={},un=null})},onTapStart:function(e){1<e.length&&(clearTimeout(un),un=null)},onTapRelease:function(e,t){var n,i,o;!t||Ie||Te||at||(n=t,un&&(clearTimeout(un),un=null,i=n,o=pn,Math.abs(i.x-o.x)<F)&&Math.abs(i.y-o.y)<F?_("doubleTap",n):"mouse"===t.type?dn(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||h.hasClass(e.target,"pswp__single-tap")?dn(e,t):(T(pn,n),un=setTimeout(function(){dn(e,t),un=null},300)))}}}),V("DesktopZoom",{publicMethods:{initDesktopZoom:function(){be||(o?r("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){D={};var t="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){h.bind(p,t,f.handleMouseWheel)}),r("unbindEvents",function(){D&&h.unbind(p,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function n(){f.mouseZoomedIn&&(h.removeClass(p,"pswp--zoomed-in"),f.mouseZoomedIn=!1),v<1?h.addClass(p,"pswp--zoom-allowed"):h.removeClass(p,"pswp--zoom-allowed"),o()}var i,o=function(){i&&(h.removeClass(p,"pswp--dragging"),i=!1)};r("resize",n),r("afterChange",n),r("pointerDown",function(){f.mouseZoomedIn&&(i=!0,h.addClass(p,"pswp--dragging"))}),r("pointerUp",o),e||n()},handleMouseWheel:function(e){if(v<=f.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||at||l?e.preventDefault():pe&&2<Math.abs(e.deltaY)&&(X=!0,f.close())),!0;if(e.stopPropagation(),D.x=0,"deltaX"in e)1===e.deltaMode?(D.x=18*e.deltaX,D.y=18*e.deltaY):(D.x=e.deltaX,D.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(D.x=-.16*e.wheelDeltaX),e.wheelDeltaY?D.y=-.16*e.wheelDeltaY:D.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;D.y=e.detail}it(v,!0);var t=y.x-D.x,n=y.y-D.y;(g.modal||t<=u.min.x&&t>=u.max.x&&n<=u.min.y&&n>=u.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:w.x/2+Ue.x,y:w.y/2+Ue.y};var t=g.getDoubleTapZoom(!0,f.currItem),n=v===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),h[(n?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}});function hn(){gn&&clearTimeout(gn),vn&&clearTimeout(vn)}function fn(){var e=En(),t={};if(!(e.length<5)){var n,i=e.split("&");for(r=0;r<i.length;r++)!i[r]||(n=i[r].split("=")).length<2||(t[n[0]]=n[1]);if(g.galleryPIDs){for(var o=t.pid,r=t.pid=0;r<Xt.length;r++)if(Xt[r].pid===o){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var gn,mn,vn,bn,yn,wn,n,xn,kn,_n,z,Sn,Cn={history:!0,galleryUID:1},En=function(){return z.hash.substring(1)},Tn=function(){var e,t;vn&&clearTimeout(vn),at||l?vn=setTimeout(Tn,500):(bn?clearTimeout(mn):bn=!0,t=m+1,(e=en(m)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+g.galleryUID+"&pid="+t,xn||-1===z.hash.indexOf(e)&&(_n=!0),t=z.href.split("#")[0]+"#"+e,Sn?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?z.replace(t):z.hash=e,xn=!0,mn=setTimeout(function(){bn=!1},60))};V("History",{publicMethods:{initHistory:function(){var e,t;h.extend(g,Cn,!0),g.history&&(z=window.location,xn=kn=_n=!1,n=En(),Sn="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",f.updateURL),r("unbindEvents",function(){h.unbind(window,"hashchange",f.onHashChange)}),e=function(){wn=!0,kn||(_n?history.back():n?z.hash=n:Sn?history.pushState("",document.title,z.pathname+z.search):z.hash=""),hn()},r("unbindEvents",function(){X&&e()}),r("destroy",function(){wn||e()}),r("firstUpdate",function(){m=fn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){Z&&h.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return En()===n?(kn=!0,void f.close()):void(bn||(yn=!0,f.goTo(fn().pid),yn=!1))},updateURL:function(){hn(),yn||(xn?gn=setTimeout(Tn,800):Tn())}}}),h.extend(f,R)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}return function(e,o){return void 0===o&&(o="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,i;-1!==e.className.split(" ").indexOf(o)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=o,(i=n.style).position="relative",i.width="100%",i.paddingTop=t+"%",(i=e.style).position="absolute",i.width="100%",i.height="100%",i.left="0",i.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(i=e.parentNode)&&i.removeChild(e),n.appendChild(e))})}}),function(){var e=document.querySelector(".gh-burger");e&&e.addEventListener("click",function(){document.body.classList.contains("is-head-open")?document.body.classList.remove("is-head-open"):document.body.classList.add("is-head-open")})}(),lightbox(".kg-image-card > .kg-image[width][height], .kg-gallery-image > img"),reframe(document.querySelectorAll(['.gh-content iframe[src*="youtube.com"]','.gh-content iframe[src*="youtube-nocookie.com"]','.gh-content iframe[src*="player.vimeo.com"]','.gh-content iframe[src*="kickstarter.com"][src*="video.html"]',".gh-content object",".gh-content embed"].join(","))),dropdown(),flyingPages(),function(t,n){var i,o,r,a,s,l,c,d;function u(){var e;404===this.status?(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)):(this.response.querySelectorAll("article.post-card").forEach(function(e){o.appendChild(n.importNode(e,!0))}),(e=this.response.querySelector("link[rel=next]"))?i.href=e.href:(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)),d=n.documentElement.scrollHeight,s=a=!1)}function e(){var e;s||(l+c<=d-r?a=!1:(s=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",i.href),e.send(null)))}function p(){a||t.requestAnimationFrame(e),a=!0}function h(){l=t.scrollY,p()}function f(){c=t.innerHeight,d=n.documentElement.scrollHeight,p()}n.documentElement.classList.contains("no-infinite-scroll")||(i=n.querySelector("link[rel=next]"))&&(o=n.querySelector(".post-feed"))&&(s=a=!(r=300),l=t.scrollY,c=t.innerHeight,d=n.documentElement.scrollHeight,t.addEventListener("scroll",h,{passive:!0}),t.addEventListener("resize",f),p())}(window,document),pagination(!0),function(){if(document.body.classList.contains("post-template")){const e=document.querySelector(".gh-cover");if(e){const t=e.querySelector(".gh-cover-image");window.addEventListener("load",function(){e.style.setProperty("--cover-height",t.clientWidth*t.naturalHeight/t.naturalWidth+"px"),e.classList.remove("loading")})}}}();const removeAccents=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");function darkMode(){document.querySelector(".it-dark-light").addEventListener("click",function(){html.classList.contains("dark")?html.classList.remove("dark"):html.classList.add("dark")})}const readingProgress=(e,t)=>{const n=document.querySelector(e),i=document.querySelector(t),o=()=>{var e=n.getBoundingClientRect(),t=window.innerHeight/2;Math.round(i.max-i.value),e.top>t&&(i.value=0),e.top<t&&(i.value=i.max),e.top<=t&&e.bottom>=t&&(i.value=i.max*Math.abs(e.top-t)/e.height),window.addEventListener("scroll",o)};window.addEventListener("scroll",o)},flktySlider=(document.querySelector(".post-progress")&&readingProgress(".post-content",".post-progress"),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return n={134:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var t=n(817),i=n.n(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r(s.prototype,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",t=window.pageYOffset||document.documentElement.scrollTop,this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==o(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]);const a=s;function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.resolveOptions(e),this.initSelection()}var t=n(279),l=n.n(t),t=n(370),c=n.n(t);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if(e="data-clipboard-".concat(e),t.hasAttribute(e))return t.getAttribute(e)}const g=function(){var e=r,t=l();if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t);n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();var n,i,o=function(){var e=h(n),t=i?(t=h(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;if(!t||"object"!==d(t)&&"function"!=typeof t){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t};function r(e,t){var n;if(this instanceof r)return(n=o.call(this)).resolveOptions(t),n.listenClick(e),n;throw new TypeError("Cannot call a class as a function")}return e=[{key:"isSupported",value:function(){var e="string"==typeof(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"])?[e]:e,t=!!document.queryCommandSupported;return e.forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}],u((t=r).prototype,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=c()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget,this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){if(e=f("target",e))return document.querySelector(e)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),u(t,e),r}()},828:e=>{var t;"undefined"==typeof Element||Element.prototype.matches||((t=Element.prototype).matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:(e,t,n)=>{var a=n(828);function r(e,t,n,i,o){var r=function(t,n,e,i){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,i,o)}))}},879:(e,n)=>{n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:(e,t,n)=>{var c=n(879),d=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return(a=e).addEventListener(s=t,l=n),{destroy:function(){a.removeEventListener(s,l)}};if(c.nodeList(e))return i=e,o=t,r=n,Array.prototype.forEach.call(i,function(e){e.addEventListener(o,r)}),{destroy:function(){Array.prototype.forEach.call(i,function(e){e.removeEventListener(o,r)})}};if(c.string(e))return d(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,o,r,a,s,l}},817:e=>{e.exports=function(e){var t,n="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t),n.toString());return n}},279:e=>{function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},o={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(134).default;function i(e){var t;return(o[e]||(t=o[e]={exports:{}},n[e](t,t.exports,i),t)).exports}var n,o}),new ClipboardJS("#copy"),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return i={352:e=>{function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function m(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";var r,d={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",background:"var(--bg-color-80, rgba(255, 255, 255, .98))",zIndex:1e6,beforeShow:void 0,afterShow:void 0,beforeHide:void 0,afterHide:void 0},u={};function a(e){var t=u[e];if(t){if("function"!=typeof t)throw"config.".concat(e," must be a function!");Reflect.apply(t,u,[u])}}function s(t){t.src&&!t.classList.contains("lightense-target")&&(t.classList.add("lightense-target"),t.addEventListener("click",function(e){if(u.keyboard&&(e.metaKey||e.ctrlKey))return window.open(t.src,"_blank");var n,i,o;e=this,u.target=e,u.target.classList.contains("lightense-open")?h():(a("beforeShow"),u.scrollY=window.scrollY,n=u.target,i="transitionend",o=function(){a("afterShow")},n.addEventListener(i,function e(t){Reflect.apply(o,this,t),n.removeEventListener(i,e)}),(e=new Image).onload=function(){var e,t,n,i,o,r,a,s,l,c;t=(e=this).width,e=e.height,n=window.pageYOffset||document.documentElement.scrollTop||0,i=window.pageXOffset||document.documentElement.scrollLeft||0,o=u.target.getBoundingClientRect(),r=t/o.width,a=window.innerWidth||document.documentElement.clientWidth||0,s=window.innerHeight||document.documentElement.clientHeight||0,l=u.target.getAttribute("data-lightense-padding")||u.target.getAttribute("data-padding")||u.padding,c=l<a?a-l:a-d.padding,l=l<s?s-l:s-d.padding,u.scaleFactor=t<c&&e<l?r:t/e<c/l?l/e*r:c/t*r,l=a/2,e=n+s/2,c=o.left+i+o.width/2,t=o.top+n+o.height/2,u.translateX=Math.round(l-c),u.translateY=Math.round(e-t),u.target.classList.add("lightense-open"),u.wrap=document.createElement("div"),u.wrap.className="lightense-wrap",setTimeout(function(){u.target.style.transform="scale("+u.scaleFactor+")"},20),u.target.parentNode.insertBefore(u.wrap,u.target),u.wrap.appendChild(u.target),setTimeout(function(){u.wrap.style.transform="translate3d("+u.translateX+"px, "+u.translateY+"px, 0)"},20),r={cubicBezier:u.target.getAttribute("data-lightense-cubic-bezier")||u.cubicBezier,background:u.target.getAttribute("data-lightense-background")||u.target.getAttribute("data-background")||u.background,zIndex:u.target.getAttribute("data-lightense-z-index")||u.zIndex},r=m(m({},u),r),p("lightense-images-css-computed","\n    :root {\n      --lightense-z-index: ".concat(r.zIndex-1,";\n      --lightense-backdrop: ").concat(r.background,";\n      --lightense-duration: ").concat(r.time,"ms;\n      --lightense-timing-func: ").concat(r.cubicBezier,";\n    }")),u.container.style.visibility="visible",setTimeout(function(){u.container.style.opacity="1"},20),window.addEventListener("keyup",g,!1),window.addEventListener("scroll",f,!1),u.container.addEventListener("click",h,!1)},e.src=u.target.src)},!1))}function p(e,t){var n=document.head||document.getElementsByTagName("head")[0],i=(document.getElementById(e)&&document.getElementById(e).remove(),document.createElement("style"));i.id=e,i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),n.appendChild(i)}function h(){a("beforeHide"),window.removeEventListener("keyup",g,!1),window.removeEventListener("scroll",f,!1),u.container.removeEventListener("click",h,!1),u.target.classList.remove("lightense-open"),u.wrap.style.transform="",u.target.style.transform="",u.target.classList.add("lightense-transitioning"),u.container.style.opacity="",setTimeout(function(){a("afterHide"),u.container.style.visibility="",u.container.style.backgroundColor="",u.wrap.parentNode.replaceChild(u.target,u.wrap),u.target.classList.remove("lightense-transitioning")},u.time)}function f(){Math.abs(u.scrollY-window.scrollY)>=u.offset&&h()}function g(e){e.preventDefault(),27===e.keyCode&&h()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(r=function(e){switch(l(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}(e),u=m(m({},d),t),p("lightense-images-css","\n:root {\n  --lightense-z-index: ".concat(u.zIndex-1,";\n  --lightense-backdrop: ").concat(u.background,";\n  --lightense-duration: ").concat(u.time,"ms;\n  --lightense-timing-func: ").concat(u.cubicBezier,";\n}\n\n.lightense-backdrop {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: calc(var(--lightense-z-index) - 1);\n  padding: 0;\n  margin: 0;\n  transition: opacity var(--lightense-duration) ease;\n  cursor: zoom-out;\n  opacity: 0;\n  background-color: var(--lightense-backdrop);\n  visibility: hidden;\n}\n\n@supports (-webkit-backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    -webkit-backdrop-filter: blur(30px);\n  }\n}\n\n@supports (backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    backdrop-filter: blur(30px);\n  }\n}\n\n.lightense-wrap {\n  position: relative;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  z-index: var(--lightense-z-index);\n  pointer-events: none;\n}\n\n.lightense-target {\n  cursor: zoom-in;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  pointer-events: auto;\n}\n\n.lightense-open {\n  cursor: zoom-out;\n}\n\n.lightense-transitioning {\n  pointer-events: none;\n}")),null===document.querySelector(".lightense-backdrop")?(u.container=document.createElement("div"),u.container.className="lightense-backdrop",document.body.appendChild(u.container)):u.container=document.querySelector(".lightense-backdrop"),r),i=n.length;if(i)for(var o=0;o<i;o++)s(n[o]);else s(n)}}();e.exports=n}},o={},function e(t){var n=o[t];return void 0!==n||(n=o[t]={exports:{}},i[t](n,n.exports,e)),n.exports}(352);var i,o}),window.addEventListener("load",function(){var e=document.querySelector(".post-content .kg-card img"),t=document.querySelectorAll(".post-content .kg-image-card a img");if(t)for(var n=0;n<t.length;n++)t[n].classList.add("no-lightense");e&&Lightense(".post-content .kg-image-card img:not(.no-lightense),.post-content .kg-gallery-card img:not(.no-lightense)",{padding:60,offset:0})},!1),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).reframe=t()}(this,function(){"use strict";return function(e,t){var n="string"==typeof e?document.querySelectorAll(e):e,i=t||"js-reframe";"length"in n||(n=[n]);for(var o=0;o<n.length;o+=1){var r,a,s,l=n[o];-1===l.className.split(" ").indexOf(i)&&(r=l.getAttribute("height"),-1<(a=l.getAttribute("width")).indexOf("%")||-1<l.style.width.indexOf("%")||(r=(r||l.offsetHeight)/(a||l.offsetWidth)*100,(a=document.createElement("div")).className=i,(s=a.style).position="relative",s.width="100%",s.paddingTop=r+"%",(s=l.style).position="absolute",s.width="100%",s.height="100%",s.left="0",s.top="0",l.parentNode.insertBefore(a,l),l.parentNode.removeChild(l),a.appendChild(l)))}}}),reframe(".post-content iframe:not(.reframe-off)"),!function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";var n=Array.prototype.slice,i=e.console,u=void 0===i?function(){}:function(e){i.error(e)};function o(l,c,d){(d=d||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){d.isPlainObject(e)&&(this.options=d.extend(!0,this.options,e))}),d.fn[l]=function(e){var t,i,o,r,a,s;return"string"==typeof e?(t=n.call(arguments,1),o=t,a="$()."+l+'("'+(i=e)+'")',(t=this).each(function(e,t){var n,t=d.data(t,l);t?(n=t[i])&&"_"!=i.charAt(0)?(n=n.apply(t,o),r=void 0===r?n:r):u(a+" is not a valid method"):u(l+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==r?r:t):(s=e,this.each(function(e,t){var n=d.data(t,l);n?(n.option(s),n._init()):(n=new c(t,s),d.data(t,l,n))}),this)},r(d))}function r(e){e&&!e.bridget&&(e.bridget=o)}return r(t||e.jQuery),o}),!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),!function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function m(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=v.length;function y(e){e=getComputedStyle(e);return e||t("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var w,x=!1;function k(e){if(x||(x=!0,(d=document.createElement("div")).style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box",(c=document.body||document.documentElement).appendChild(d),r=y(d),w=200==Math.round(m(r.width)),k.isBoxSizeOuter=w,c.removeChild(d)),(e="string"==typeof e?document.querySelector(e):e)&&"object"==typeof e&&e.nodeType){var t=y(e);if("none"==t.display){for(var n={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<b;i++)n[v[i]]=0;return n}for(var o={},r=(o.width=e.offsetWidth,o.height=e.offsetHeight,o.isBorderBox="border-box"==t.boxSizing),a=0;a<b;a++){var s=v[a],l=t[s],l=parseFloat(l);o[s]=isNaN(l)?0:l}var c=o.paddingLeft+o.paddingRight,d=o.paddingTop+o.paddingBottom,e=o.marginLeft+o.marginRight,u=o.marginTop+o.marginBottom,p=o.borderLeftWidth+o.borderRightWidth,h=o.borderTopWidth+o.borderBottomWidth,f=r&&w,g=m(t.width),g=(!1!==g&&(o.width=g+(f?0:c+p)),m(t.height));return!1!==g&&(o.height=g+(f?0:d+h)),o.innerWidth=o.width-(c+p),o.innerHeight=o.height-(d+h),o.outerWidth=o.width+e,o.outerHeight=o.height+u,o}}return k}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),!function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,r){var l={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,c=(l.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},l.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},l.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},l.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.filterFindElements=function(e,i){e=l.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},l.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r],t=(clearTimeout(e),arguments),n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},l.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},l.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return l.htmlInit=function(a,s){l.docReady(function(){var e=l.toDashed(s),i="data-"+e,t=document.querySelectorAll("["+i+"]"),e=document.querySelectorAll(".js-"+e),t=l.makeArray(t).concat(l.makeArray(e)),o=i+"-options",r=n.jQuery;t.forEach(function(e){var t=e.getAttribute(i)||e.getAttribute(o);try{n=t&&JSON.parse(t)}catch(t){return void(c&&c.error("Error parsing "+i+" on "+e.className+": "+t))}var n=new a(e,n);r&&r.data(e,s,n)})})},l}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(e){return t(0,e)}):"object"==typeof module&&module.exports?module.exports=t(0,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(0,e.getSize))}(window,function(e,t){function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},i.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t="left"===this.parent.originSide?1:-1,e=this.parent.options.percentPosition?e*t*(this.parent.size.innerWidth/this.size.width):e*t;this.element.style.transform="translateX("+this.parent.getPositionValue(e)+")"},i.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},i.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){var t;this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length&&(this.x=e.x,t=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=e.size[t])},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),t=t?t.size[e]:0,e=this.outerWidth-(this.firstMargin+t);this.target=this.x+this.firstMargin+e*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach(function(e){e.select()})},t.unselect=function(){this.cells.forEach(function(e){e.unselect()})},t.getCellElements=function(){return this.cells.map(function(e){return e.element})},e}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(e){return t(0,e)}):"object"==typeof module&&module.exports?module.exports=t(0,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(0,e.fizzyUIUtils))}(window,function(e,t){var n={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e,t=this.x;this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating&&(e=this,requestAnimationFrame(function(){e.animate()}))},positionSlider:function(){var e=this.x;this.options.wrapAround&&1<this.cells.length&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;e=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+e+",0,0)":"translateX("+e+")"},dispatchScrollEvent:function(){var e,t=this.slides[0];t&&(e=(t=-this.x-t.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[e,t]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e,t=(this._shiftCells(this.beforeShiftCells,t,-1),this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition));this._shiftCells(this.afterShiftCells,t,1)},_shiftCells:function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];o.wrapShift(0<t?n:0),t-=o.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var e;this.isDraggable&&this.isPointerDown&&(e=this.dragX-this.x-this.velocity,this.applyForce(e))},applySelectedAttraction:function(){var e;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(e))}};return n}),!function(a,s){var e;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(e,t,n,i,o,r){return s(a,e,t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=s(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(e=a.Flickity,a.Flickity=s(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype))}(window,function(i,e,t,a,n,s,o){var r=i.jQuery,l=i.getComputedStyle,c=i.console;function d(e,t){for(e=a.makeArray(e);e.length;)t.appendChild(e.shift())}var u=0,p={};function h(e,t){var n,i=a.getQueryElement(e);if(i){if(this.element=i,this.element.flickityGUID)return(n=p[this.element.flickityGUID])&&n.option(t),n;r&&(this.$element=r(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(t),this._create()}else c&&c.error("Bad element for Flickity: "+(i||e))}h.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},h.createMethods=[];var f=h.prototype,g=(a.extend(f,e.prototype),f._create=function(){var e,t=this.guid=++u;for(e in this.element.flickityGUID=t,(p[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&i.addEventListener("resize",this),this.options.on){var n=this.options.on[e];this.on(e,n)}h.createMethods.forEach(function(e){this[e]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(e){a.extend(this.options,e)},f.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},f._filterFindCellElements=function(e){return a.filterFindElements(e,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(e){return this._filterFindCellElements(e).map(function(e){return new n(e,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(e){this.maxCellHeight=(e=e||0)&&this.maxCellHeight||0;for(var t,n=0,i=(0<e&&(n=(t=this.cells[e-1]).x+t.size.outerWidth),this.cells.length),o=e;o<i;o++){var r=this.cells[o];r.setPosition(n),n+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=n,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(e){e.forEach(function(e){e.getSize()})},f.updateSlides=function(){var i,o,r;this.slides=[],this.cells.length&&(i=new s(this),this.slides.push(i),o="left"==this.originSide?"marginRight":"marginLeft",r=this._getCanCellFit(),this.cells.forEach(function(e,t){var n;i.cells.length&&(n=i.outerWidth-i.firstMargin+(e.size.outerWidth-e.size[o]),r.call(this,t,n)||(i.updateTarget(),i=new s(this),this.slides.push(i))),i.addCell(e)},this),i.updateTarget(),this.updateSelectedSlide())},f._getCanCellFit=function(){var t,n,e=this.options.groupCells;return e?"number"==typeof e?(t=parseInt(e,10),function(e){return e%t!=0}):(e="string"==typeof e&&e.match(/^(\d+)%$/),n=e?parseInt(e[1],10)/100:1,function(e,t){return t<=(this.size.innerWidth+1)*n}):function(){return!1}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=t(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign},{center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}});return f.setCellAlign=function(){var e=g[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){var e;this.options.setGallerySize&&(e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=e+"px")},f._getWrapShiftCells=function(){var e,t;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),e=this.cursorPosition,t=this.cells.length-1,this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1))},f._getGapCells=function(e,t,n){for(var i=[];0<e;){var o=this.cells[t];if(!o)break;i.push(o),t+=n,e-=o.size.outerWidth}return i},f._containSlides=function(){var e,t,n,i,o,r;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(e=(t=this.options.rightToLeft)?"marginRight":"marginLeft",t=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[t],i=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(e){i?e.target=n*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,r))},this))},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;this.emitEvent(e,i),r&&this.$element&&(i=e+=this.options.namespaceJQueryEvents?".flickity":"",t&&((t=new r.Event(t)).type=e,i=t),this.$element.trigger(i,n))},f.select=function(e,t,n){this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=a.modulo(e,this.slides.length)),this.slides[e])&&(t=this.selectedIndex,this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=t&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect"))},f._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&1<t))return e;var n=a.modulo(e,t),i=Math.abs(n-this.selectedIndex),o=Math.abs(n+t-this.selectedIndex),n=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&o<i?e+=t:!this.isDragSelect&&n<i&&(e-=t),e<0?this.x-=this.slideableWidth:t<=e&&(this.x+=this.slideableWidth)},f.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},f.next=function(e,t){this.select(this.selectedIndex+1,e,t)},f.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),(this.selectedSlide=e).select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e)if(this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},f.selectCell=function(e,t,n){var e=this.queryCell(e);e&&(e=this.getCellSlideIndex(e),this.select(e,t,n))},f.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},f.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},f.getCells=function(e){e=a.makeArray(e);var t=[];return e.forEach(function(e){e=this.getCell(e);e&&t.push(e)},this),t},f.getCellElements=function(){return this.cells.map(function(e){return e.element})},f.getParentCell=function(e){var t=this.getCell(e);return t||(e=a.getParent(e,".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(n<=1+2*e)return this.getCellElements();for(var i=[],o=t-e;o<=t+e;o++){var r=this.options.wrapAround?a.modulo(o,n):o,r=this.slides[r];r&&(i=i.concat(r.getCellElements()))}return i},f.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#.]?[\d/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(h,"onresize",150),f.resize=function(){var e;!this.isActive||this.isAnimating||this.isDragging||(this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),e=this.selectedElements&&this.selectedElements[0],this.selectCell(e,!1,!0))},f.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;this.options.accessibility&&!t&&(t=h.keyboardHandlers[e.keyCode])&&t.call(this)},h.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},f.focus=function(){var e=i.pageYOffset;this.element.focus({preventScroll:!0}),i.pageYOffset!=e&&i.scrollTo(i.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(e){e.destroy()}),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),i.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},a.extend(f,o),h.data=function(e){e=(e=a.getQueryElement(e))&&e.flickityGUID;return e&&p[e]},a.htmlInit(h,"flickity"),r&&r.bridget&&r.bridget("flickity",h),h.setJQuery=function(e){r=e},h.Cell=n,h.Slide=s,h}),!function(t,n){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.Unipointer=n(t,t.EvEmitter)}(window,function(i,e){function t(){}var e=t.prototype=Object.create(e.prototype),n=(e.bindStartEvent=function(e){this._bindStartEvent(e,!0)},e.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},e._bindStartEvent=function(e,t){var t=(t=void 0===t||t)?"addEventListener":"removeEventListener",n="mousedown";"ontouchstart"in i?n="touchstart":i.PointerEvent&&(n="pointerdown"),e[t](n,this)},e.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},e.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},e.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},e.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},e.onpointerdown=function(e){this._pointerDown(e,e)},e._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},e.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},{mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]});return e._bindPostStartEvents=function(e){e&&((e=n[e.type]).forEach(function(e){i.addEventListener(e,this)},this),this._boundPointerEvents=e)},e._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){i.removeEventListener(e,this)},this),delete this._boundPointerEvents)},e.onmousemove=function(e){this._pointerMove(e,e)},e.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},e.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},e._pointerMove=function(e,t){this.pointerMove(e,t)},e.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},e.onmouseup=function(e){this._pointerUp(e,e)},e.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},e.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},e._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},e.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},e._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},e._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},e.pointerDone=function(){},e.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},e.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},e._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},e.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},t.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},t}),!function(t,n){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("unipointer")):t.Unidragger=n(t,t.Unipointer)}(window,function(r,e){function t(){}var n=t.prototype=Object.create(e.prototype),i=(n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){for(var t=(e=void 0===e||e)?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",i=0;i<this.handles.length;i++){var o=this.handles[i];this._bindStartEvent(o,e),o[t]("click",this),r.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))},{TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0}),o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(e){var t=i[e.target.nodeName],e=o[e.target.type],t=!t||e;return t||this._pointerReset(),t},n.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},n.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},n._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},n.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},n.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},n._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},n._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},n.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},n._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},n.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},n._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},n.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},n.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},n._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},t.getPointerPoint=e.getPointerPoint,t}),!function(i,o){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(e,t,n){return o(i,e,t,n)}):"object"==typeof module&&module.exports?module.exports=o(i,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):i.Flickity=o(i,i.Flickity,i.Unidragger,i.fizzyUIUtils)}(window,function(n,e,t,r){r.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var i=e.prototype,o=(r.extend(i,t.prototype),i._touchActionValue="pan-y",i._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},i.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},i.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},i.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},i.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},i.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},i._uiChangeDrag=function(){delete this.isFreeScrolling},i.pointerDown=function(e,t){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),n.addEventListener("scroll",this),this._pointerDownDefault(e,t)):this._pointerDownDefault(e,t)},i._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])},{INPUT:!0,TEXTAREA:!0,SELECT:!0});function a(){return{x:n.pageXOffset,y:n.pageYOffset}}return i.pointerDownFocus=function(e){o[e.target.nodeName]||this.focus()},i._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,n="touch"==e.pointerType,i=o[e.target.nodeName];t||n||i||e.preventDefault()},i.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},i.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},i.pointerDone=function(){n.removeEventListener("scroll",this),delete this.pointerDownScroll},i.dragStart=function(e,t){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),n.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[t]))},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},i.dragMove=function(e,t,n){var i,o;this.isDraggable&&(e.preventDefault(),this.previousDragX=this.dragX,i=this.options.rightToLeft?-1:1,this.options.wrapAround&&(n.x%=this.slideableWidth),i=this.dragStartPosition+n.x*i,!this.options.wrapAround&&this.slides.length&&(i=(i=(o=Math.max(-this.slides[0].target,this.dragStartPosition))<i?.5*(i+o):i)<(o=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(i+o):i),this.dragX=i,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n]))},i.dragEnd=function(e,t){var n,i;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),n=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(i=this.getRestingPosition(),this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target):this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t]))},i.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),e=this._getClosestResting(e,t,-1);return(n.distance<e.distance?n:e).index},i._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(o=t,null!==(t=this.getSlideDistance(-e,i+=n)));)t=Math.abs(t);return{distance:o,index:i-n}},i.getSlideDistance=function(e,t){var n=this.slides.length,i=this.options.wrapAround&&1<n,o=i?r.modulo(t,n):t,o=this.slides[o];return o?(i=i?this.slideableWidth*Math.floor(t/n):0,e-(o.target+i)):null},i.dragEndBoostSelect=function(){var e,t;return void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime?0:(e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX,0<e&&0<t?1:e<0&&t<0?-1:0)},i.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,n=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,n])},i.onscroll=function(){var e=a(),t=this.pointerDownScroll.x-e.x,e=this.pointerDownScroll.y-e.y;(3<Math.abs(t)||3<Math.abs(e))&&this._pointerDone()},e}),!function(e,i){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,n){return i(0,e,t,n)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(0,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,function(e,t,n,i){"use strict";var o="http://www.w3.org/2000/svg";function r(e,t){this.direction=e,this.parent=t,this._create()}(r.prototype=Object.create(n.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1,e=(this.isLeft=this.direction==e,this.element=document.createElement("button")),t=(e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next"),this.createSVG());e.appendChild(t),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},r.prototype.createSVG=function(){var e=document.createElementNS(o,"svg"),t=(e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100"),document.createElementNS(o,"path")),n="string"!=typeof(n=this.parent.options.arrowShape)?"M "+n.x0+",50 L "+n.x1+","+(n.y1+50)+" L "+n.x2+","+(n.y2+50)+" L "+n.x3+",50  L "+n.x2+","+(50-n.y2)+" L "+n.x1+","+(50-n.y1)+" Z":n;return t.setAttribute("d",n),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},r.prototype.handleEvent=i.handleEvent,r.prototype.onclick=function(){var e;this.isEnabled&&(this.parent.uiChange(),e=this.isPrevious?"previous":"next",this.parent[e]())},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var e=this.parent.slides;this.parent.options.wrapAround&&1<e.length?this.enable():(e=e.length?e.length-1:0,e=this.isPrevious?0:e,this[this.parent.selectedIndex==e?"disable":"enable"]())},r.prototype.destroy=function(){this.deactivate(),this.allOff()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");n=t.prototype;return n._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r(-1,this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},n.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},n.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=r,t}),!function(e,i){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,n){return i(0,e,t,n)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(0,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,function(e,t,n,i){function o(e){this.parent=e,this._create()}(o.prototype=Object.create(n.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;0<e?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[],i=this.dots.length,o=i+e,r=i;r<o;r++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(r+1)),t.appendChild(a),n.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(n)},o.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach(function(e){this.holder.removeChild(e)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(e){var e=e.target;"LI"==e.nodeName&&(this.parent.uiChange(),e=this.dots.indexOf(e),this.parent.select(e))},o.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=o,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");n=t.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/profile",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,function(e,t,n){function i(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(i.prototype=Object.create(e.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},i.prototype.tick=function(){var e,t;"playing"==this.state&&(e="number"==typeof(e=this.parent.options.autoPlay)?e:3e3,(t=this).clear(),this.timeout=setTimeout(function(){t.parent.next(!0),t.tick()},e))},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");e=n.prototype;return e._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},e.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},e.playPlayer=function(){this.player.play()},e.stopPlayer=function(){this.player.stop()},e.pausePlayer=function(){this.player.pause()},e.unpausePlayer=function(){this.player.unpause()},e.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},e.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},e.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n}),!function(e,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("fizzy-ui-utils")):n(0,e.Flickity,e.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;return n.insert=function(e,t){var n,i,o,r,a,e=this._makeCells(e);e&&e.length&&(n=this.cells.length,t=void 0===t?n:t,a=e,i=document.createDocumentFragment(),a.forEach(function(e){i.appendChild(e.element)}),a=i,(o=t==n)?this.slider.appendChild(a):(r=this.cells[t].element,this.slider.insertBefore(a,r)),0===t?this.cells=e.concat(this.cells):o?this.cells=this.cells.concat(e):(a=this.cells.splice(t,n-t),this.cells=this.cells.concat(e).concat(a)),this._sizeCells(e),this.cellChange(t,!0))},n.append=function(e){this.insert(e,this.cells.length)},n.prepend=function(e){this.insert(e,0)},n.remove=function(e){var n,e=this.getCells(e);e&&e.length&&(n=this.cells.length-1,e.forEach(function(e){e.remove();var t=this.cells.indexOf(e);n=Math.min(t,n),i.removeFrom(this.cells,e)},this),this.cellChange(n,!0))},n.cellSizeChange=function(e){var e=this.getCell(e);e&&(e.getSize(),e=this.cells.indexOf(e),this.cellChange(e))},n.cellChange=function(e,t){var n=this.selectedElement,n=(this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize(),this.getCell(n));n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}),!function(e,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("fizzy-ui-utils")):n(0,e.Flickity,e.fizzyUIUtils)}(window,function(e,t,o){"use strict";t.createMethods.push("_createLazyload");var n=t.prototype;function i(e,t){this.img=e,this.flickity=t,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t,e=this.options.lazyLoad;e&&(e=this.getAdjacentCellElements("number"==typeof e?e:0),t=[],e.forEach(function(e){e=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),n=e.getAttribute("data-flickity-lazyload-src"),i=e.getAttribute("data-flickity-lazyload-srcset");if(t||n||i)return[e]}t=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(t)}(e);t=t.concat(e)}),t.forEach(function(e){new i(e,this)},this))},i.prototype.handleEvent=o.handleEvent,i.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},i.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},i.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},i.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),n=n&&n.element;this.flickity.cellSizeChange(n),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,n)},t.LazyLoader=i,t}),!function(e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./profile","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./profile"),require("./add-remove-cell"),require("./lazyload")))}((window,function(e){return e})),!function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,function(n,i){n.createMethods.push("_createAsNavFor");var e=n.prototype;return e._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e,t=this.options.asNavFor;t&&(e=this,setTimeout(function(){e.setNavCompanion(t)}))},e.setNavCompanion=function(e){e=i.getQueryElement(e);var t,e=n.data(e);e&&e!=this&&(this.navCompanion=e,(t=this).onNavCompanionSelect=function(){t.navCompanionSelect()},e.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},e.navCompanionSelect=function(e){var t,n,i=this.navCompanion&&this.navCompanion.selectedCells;i&&(t=i[0],t=this.navCompanion.cells.indexOf(t),i=t+i.length-1,n=Math.floor((n=this.navCompanion.cellAlign,(i-t)*n+t)),this.selectCell(n,!1,e),this.removeNavSelectedElements(),n>=this.cells.length||(e=this.cells.slice(t,1+i),this.navSelectedElements=e.map(function(e){return e.element}),this.changeNavSelectedClass("add")))},e.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},e.activateAsNavFor=function(){this.navCompanionSelect(!0)},e.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},e.onNavStaticClick=function(e,t,n,i){"number"==typeof i&&this.navCompanion.selectCell(i)},e.deactivateAsNavFor=function(){this.removeNavSelectedElements()},e.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),!function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var r=t.jQuery,a=t.console;function s(e,t){for(var n in t)e[n]=t[n];return e}var l=Array.prototype.slice;function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);var i,o=e;(o="string"==typeof e?document.querySelectorAll(e):o)?(this.elements=(i=o,Array.isArray(i)?i:"object"==typeof i&&"number"==typeof i.length?l.call(i):[i]),this.options=s({},this.options),"function"==typeof t?n=t:s(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(o||e))}(c.prototype=Object.create(e.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}};var d={1:!0,9:!0,11:!0};function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return c.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},c.prototype.addImage=function(e){e=new n(e);this.images.push(e)},c.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},c.prototype.check=function(){var i=this;function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},c.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},c.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(c.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new c(this,e,t).jqDeferred.promise(r(this))})})(),c}),!function(e,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("flickity"),require("imagesloaded")):e.Flickity=n(0,e.Flickity,e.imagesLoaded)}(window,function(e,t,i){"use strict";t.createMethods.push("_createImagesLoaded");var n=t.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){var n;this.options.imagesLoaded&&i((n=this).slider).on("progress",function(e,t){t=n.getParentCell(t.img),n.cellSizeChange(t&&t.element),n.options.freeScroll||n.positionSliderAtSelected()})},t}),document.querySelector(".featured-wrap")),flktyBtnPrevious=document.querySelector(".featured-btn-previous"),flktyBtnNext=document.querySelector(".featured-btn-next");if(flktySlider){flktyDragThreshold=matchMedia("(min-width:1281px)").matches?(flktyGroupCells=2,flktySelectedAttraction=.025,flktyFriction=.28,5):(flktyGroupCells=1,flktySelectedAttraction=.2,flktyFriction=.8,10);var flktyGroupCells,flktySelectedAttraction,flktyFriction,flktyDragThreshold,tapArea,startX,item,flkty=new Flickity(flktySlider,{cellAlign:"left",contain:!0,groupCells:flktyGroupCells,prevNextButtons:!1,pageDots:!1,dragThreshold:flktyDragThreshold,selectedAttraction:flktySelectedAttraction,friction:flktyFriction,imagesLoaded:!0}),flktyObserver=new IntersectionObserver(onIntersection,{root:null,threshold:0});function onIntersection(e,t){e.forEach(e=>e.target.classList.toggle("is-visible",e.isIntersecting)),document.querySelector(".is-visible")?flktyBtnNext.classList.toggle("is-end"):flktyBtnNext.classList.remove("is-end")}flktyObserver.observe(document.querySelector(".item .item-image .is-last")),flkty.on("change",function(e){0<e?flktyBtnPrevious.classList.add("is-prev"):flktyBtnPrevious.classList.remove("is-prev")}),flktyBtnPrevious.addEventListener("click",function(){flkty.previous()}),flktyBtnNext.addEventListener("click",function(){flkty.next()});for(item of(tapArea=document.querySelectorAll(".featured-wrap"),startX=0,tapArea))item.ontouchstart=function(e){startX=e.touches[0].clientX},item.ontouchmove=function(e){5<Math.abs(e.touches[0].clientX-startX)&&e.cancelable&&e.preventDefault()}}var e,t;function e(r){return Object.keys(r).reduce((e,t)=>{var n,i=r[t];return e[t]=Object.assign({},i),o(i.value)&&(n=i.value,"[object Function]"!==Object.prototype.toString.call(n))&&!Array.isArray(i.value)&&(e[t].value=Object.assign({},i.value)),Array.isArray(i.value)&&(e[t].value=i.value.slice(0)),e},{})}function t(t){if(t)try{return JSON.parse(t)}catch(e){return t}}function n(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let i=JSON.stringify(n);e.__updating[t]=!0,"true"===i&&(i=""),e.setAttribute(t,i),Promise.resolve().then(()=>delete e.__updating[t])}function o(e){return null!=e&&("object"==typeof e||"function"==typeof e)}e=this,t=function(){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function o(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){var t;if(e)return"string"==typeof e?n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function g(e){return"string"==typeof e}function m(e){return"number"==typeof e}function v(e){return null!=e}function c(e){return!e.trim().length}function b(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var a=Object.prototype.hasOwnProperty,r=(e(s,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),s);function s(e){var t=this,n=(h(this,s),this._keys=[],this._keyMap={},0);e.forEach(function(e){e=l(e);n+=e.weight,t._keys.push(e),t._keyMap[e.id]=e,n+=e.weight}),this._keys.forEach(function(e){e.weight/=n})}function l(e){var t=null,n=null,i=null,o=1;if(g(e)||p(e))i=e,t=d(e),n=y(e);else{if(!a.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var r=e.name,i=r;if(a.call(e,"weight")&&(o=e.weight)<=0)throw new Error("Property 'weight' in key '".concat(r,"' must be a positive integer"));t=d(r),n=y(r)}return{path:t,id:n,weight:o,src:i}}function d(e){return p(e)?e:e.split(".")}function y(e){return p(e)?e.join("."):e}var O=o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var c=[],d=!1;return function e(t,n,i){if(v(t))if(n[i]){var o=t[n[i]];if(v(o))if(i===n.length-1&&(g(o)||m(o)||!0===(s=o)||!1===s||"object"===u(l=s)&&null!==l&&"[object Boolean]"==b(s)))c.push(null==(l=o)?"":"string"==typeof l?l:"0"==(s=l+"")&&1/l==-1/0?"-0":s);else if(p(o)){d=!0;for(var r=0,a=o.length;r<a;r+=1)e(o[r],n,i+1)}else n.length&&e(o,n,i+1)}else c.push(t);var s,l}(e,g(t)?t.split("."):t,0),d?c:c[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),w=/[^ ]+/g;e(k,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(function(e,t){n._keysMap[e.id]=t})}},{key:"create",value:function(){var n=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,g(this.docs[0])?this.docs.forEach(function(e,t){n._addString(e,t)}):this.docs.forEach(function(e,t){n._addObject(e,t)}),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();g(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)--this.records[t].i}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){v(e)&&!c(e)&&(t={v:e,i:t,n:this.norm.get(e)},this.records.push(t))}},{key:"_addObject",value:function(a,e){var s=this,l={i:e,$:{}};this.keys.forEach(function(e,t){var e=s.getFn(a,e.path);if(v(e))if(p(e)){for(var n=[],i=[{nestedArrIndex:-1,value:e}];i.length;){var o=i.pop(),r=o.nestedArrIndex,o=o.value;v(o)&&(g(o)&&!c(o)?(r={v:o,i:r,n:s.norm.get(o)},n.push(r)):p(o)&&o.forEach(function(e,t){i.push({nestedArrIndex:t,value:e})}))}l.$[t]=n}else c(e)||(e={v:e,n:s.norm.get(e)},l.$[t]=e)}),this.records.push(l)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);var x=k;function k(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn,e=void 0===e?O.getFn:e;h(this,k),this.norm=function(e){var e=0<arguments.length&&void 0!==e?e:3,n=new Map,i=Math.pow(10,e);return{get:function(e){var t,e=e.match(w).length;return n.has(e)?n.get(e):(t=1/Math.sqrt(e),t=parseFloat(Math.round(t*i)/i),n.set(e,t),t)},clear:function(){n.clear()}}}(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}function _(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn,n=void 0===n?O.getFn:n,n=new x({getFn:n});return n.setKeys(e.map(l)),n.setSources(t),n.create(),n}function D(e,t){var t=1<arguments.length&&void 0!==t?t:{},n=t.errors,i=t.currentLocation,o=t.expectedLocation,r=t.distance,r=void 0===r?O.distance:r,t=t.ignoreLocation,t=void 0===t?O.ignoreLocation:t,n=(void 0===n?0:n)/e.length;return t?n:(e=Math.abs((void 0===o?0:o)-(void 0===i?0:i)),r?n+e/r:e?1:n)}e(E,[{key:"searchIn",value:function(i){var o,r,a,s,l,c,d,u,p,e=this.options,t=e.isCaseSensitive,h=e.includeMatches;return t||(i=i.toLowerCase()),this.pattern===i?(e={isMatch:!0,score:0},h&&(e.indices=[[0,i.length-1]])):(t=this.options,o=t.location,r=t.distance,a=t.threshold,s=t.findAllMatches,l=t.minMatchCharLength,c=t.ignoreLocation,u=0,p=!(d=[]),this.chunks.forEach(function(e){var t=e.pattern,n=e.alphabet,e=e.startIndex,t=function(e,t,n,i){var i=3<arguments.length&&void 0!==i?i:{},o=i.location,o=void 0===o?O.location:o,r=i.distance,a=void 0===r?O.distance:r,r=i.threshold,r=void 0===r?O.threshold:r,s=i.findAllMatches,l=void 0===s?O.findAllMatches:s,s=i.minMatchCharLength,s=void 0===s?O.minMatchCharLength:s,c=i.includeMatches,c=void 0===c?O.includeMatches:c,i=i.ignoreLocation,d=void 0===i?O.ignoreLocation:i;if(32<t.length)throw new Error("Pattern length exceeds max of ".concat(32,"."));for(var u,p=t.length,h=e.length,f=Math.max(0,Math.min(o,h)),g=r,m=f,v=1<s||c,b=v?Array(h):[];-1<(u=e.indexOf(t,m));){var y=D(t,{currentLocation:u,expectedLocation:f,distance:a,ignoreLocation:d}),g=Math.min(y,g),m=u+p;if(v)for(var w=0;w<p;)w+=b[u+w]=1}m=-1;for(var x=[],k=1,_=p+h,S=1<<p-1,C=0;C<p;C+=1){for(var E=0,T=_;E<T;)D(t,{errors:C,currentLocation:f+T,expectedLocation:f,distance:a,ignoreLocation:d})<=g?E=T:_=T,T=Math.floor((_-E)/2+E);var _=T,A=Math.max(1,f-T+1),I=l?h:Math.min(f+T,h)+p,L=Array(I+2);L[I+1]=(1<<C)-1;for(var P=I;A<=P;--P){var M=P-1,$=n[e.charAt(M)];if(v&&(b[M]=+!!$),L[P]=(L[P+1]<<1|1)&$,C&&(L[P]|=(x[P+1]|x[P])<<1|1|x[P+1]),L[P]&S&&(k=D(t,{errors:C,currentLocation:M,expectedLocation:f,distance:a,ignoreLocation:d}))<=g){if(g=k,(m=M)<=f)break;A=Math.max(1,2*f-m)}}if(g<D(t,{errors:C+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:d}))break;x=L}i={isMatch:0<=m,score:Math.max(.001,k)};return v&&((o=function(e,t){for(var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length&&void 0!==t?t:O.minMatchCharLength,o=[],r=-1,a=0,s=n.length;a<s;a+=1){var l=n[a];l&&-1===r?r=a:l||-1===r||((l=a-1)-r+1>=i&&o.push([r,l]),r=-1)}return n[a-1]&&i<=a-r&&o.push([r,a-1]),o}(b,s)).length?c&&(i.indices=o):i.isMatch=!1),i}(i,t,n,{location:o+e,distance:r,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:h,ignoreLocation:c}),n=t.isMatch,e=t.score,t=t.indices;n&&(p=!0),u+=e,n&&t&&(d=[].concat(f(d),f(t)))}),e={isMatch:p,score:p?u/this.chunks.length:1},p&&h&&(e.indices=d)),e}}]);var S=E,C=[];function E(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.location,i=void 0===i?O.location:i,o=t.threshold,o=void 0===o?O.threshold:o,r=t.distance,r=void 0===r?O.distance:r,a=t.includeMatches,a=void 0===a?O.includeMatches:a,s=t.findAllMatches,s=void 0===s?O.findAllMatches:s,l=t.minMatchCharLength,l=void 0===l?O.minMatchCharLength:l,c=t.isCaseSensitive,c=void 0===c?O.isCaseSensitive:c,t=t.ignoreLocation,t=void 0===t?O.ignoreLocation:t;if(h(this,E),this.options={location:i,threshold:o,distance:r,includeMatches:a,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:t},this.pattern=c?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var d=function(e,t){n.chunks.push({pattern:e,alphabet:function(e){for(var t={},n=0,i=e.length;n<i;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}(e),startIndex:t})},i=this.pattern.length;if(32<i){for(var u=0,o=i%32,p=i-o;u<p;)d(this.pattern.substr(u,32),u),u+=32;o&&d(this.pattern.substr(r=i-32),r)}else d(this.pattern,0)}}function T(e,t){for(var n=0,i=C.length;n<i;n+=1){var o=C[n];if(o.condition(e,t))return new o(e,t)}return new S(e,t)}function A(e,n){e=e.matches;n.matches=[],v(e)&&e.forEach(function(e){var t;v(e.indices)&&e.indices.length&&(t={indices:e.indices,value:e.value},e.key&&(t.key=e.key.src),-1<e.idx&&(t.refIndex=e.idx),n.matches.push(t))})}function I(e,t){t.score=e.score}e(P,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof x))throw new Error("Incorrect 'index' type");this._myIndex=t||_(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,i=this._docs.length;n<i;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),--n,--i,t.push(o))}}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t,o,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===n?-1:n,i=this.options,r=i.includeMatches,a=i.includeScore,s=i.shouldSort,l=i.sortFn,i=i.ignoreFieldNorm,e=g(e)?g(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return t=e,o=void 0===(i=(i={ignoreFieldNorm:i}).ignoreFieldNorm)?O.ignoreFieldNorm:i,t.forEach(function(e){var i=1;e.matches.forEach(function(e){var t=e.key,n=e.norm,e=e.score,t=t?t.weight:null;i*=Math.pow(0===e&&t?Number.EPSILON:e,(t||1)*(o?1:n))}),e.score=i}),s&&e.sort(l),function(e,i,t){var t=2<arguments.length&&void 0!==t?t:{},n=void 0===(n=t.includeMatches)?O.includeMatches:n,t=t.includeScore,t=void 0===t?O.includeScore:t,o=[];return n&&o.push(A),t&&o.push(I),e.map(function(t){var e=t.idx,n={item:i[e],refIndex:e};return o.length&&o.forEach(function(e){e(t,n)}),n})}(e=m(n)&&-1<n?e.slice(0,n):e,this._docs,{includeMatches:r,includeScore:a})}},{key:"_searchStringList",value:function(e){var a=T(e,this.options),e=this._myIndex.records,s=[];return e.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=a.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&s.push({item:o,idx:r,matches:[{score:n,value:o,norm:e,indices:i}]})}),s}},{key:"_searchLogical",value:function(e){throw new Error("Logical search is not available")}},{key:"_searchObjectList",value:function(e){var o=this,r=T(e,this.options),e=this._myIndex,t=e.keys,e=e.records,a=[];return e.forEach(function(e){var n,i=e.$,e=e.i;v(i)&&(n=[],t.forEach(function(e,t){n.push.apply(n,f(o._findMatches({key:e,value:i[t],searcher:r})))}),n.length)&&a.push({idx:e,item:i,matches:n})}),a}},{key:"_findMatches",value:function(e){var a,t,n,i,s=e.key,o=e.value,l=e.searcher;return v(o)?(a=[],p(o)?o.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=l.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&a.push({score:n,key:s,value:o,idx:r,norm:e,indices:i})}):(e=o.v,o=o.n,t=(i=l.searchIn(e)).isMatch,n=i.score,i=i.indices,t&&a.push({score:n,key:s,value:e,norm:o,indices:i})),a):[]}}]);var L=P;function P(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(h(this,P),this.options=o({},O,{},t),this.options.useExtendedSearch)throw new Error("Extended search is not available");this._keyStore=new r(this.options.keys),this.setCollection(e,n)}return L.version="6.4.6",L.createIndex=_,L.parseIndex=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,t=void 0===t?O.getFn:t,n=e.keys,e=e.records,t=new x({getFn:t});return t.setKeys(n),t.setIndexRecords(e),t},L.config=O,L},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t(),document.addEventListener("DOMContentLoaded",function(){!function(i){"use strict";const e=document.body,n=document.querySelector(".search-section"),t=document.querySelectorAll(".search-open"),o=document.querySelector(".search-close"),r=document.querySelector(".search-input"),a=document.querySelector(".search-info"),s=document.querySelector(".search-counter"),l=document.querySelector(".search-results"),c=document.querySelector(".search-counter-results"),d=document.querySelector(".search-overlay");function u(){e.classList.remove("search-is-active"),e.classList.add("search-no-active"),r.value="",l.innerHTML="",s.classList.add("is-hide"),a.classList.remove("is-hide"),window.scrollTo(0,0)}var p;n&&(e.addEventListener("keyup",function(e){27==e.keyCode&&u()}),o.addEventListener("click",u),d.addEventListener("click",u),t.forEach(function(t){t.addEventListener("click",function(){e.classList.add("search-is-active"),e.classList.remove("search-no-active"),n.style.display="block",r.focus()}),t.addEventListener("click",function(){var e,n;!1===p&&(e=options.api,(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){var e,t;200<=n.status&&n.status<400&&(n.response,e=JSON.parse(n.responseText),t=new Fuse(e.posts,options),r.onkeyup=function(e){c.innerHTML="",l.innerHTML="",2<this.value.length&&(a.classList.add("is-hide"),s.classList.remove("is-hide")),this.value.length<3&&(a.classList.remove("is-hide"),s.classList.add("is-hide")),this.value.length<=2||(e=t.search(e.target.value,{limit:options.limit}),c.innerHTML=e.length,e.map(function(e){var t,n=new Date(e.item.published_at).toLocaleDateString(document.documentElement.lang,{year:"numeric",month:"long",day:"numeric"}),i=document.createElement("time"),o=document.createElement("h5"),r=document.createElement("span"),a=document.createElement("a");!0===options.images&&(t=document.createElement("img"),null!==e.item.feature_image)&&(t.setAttribute("src",e.item.feature_image),a.appendChild(t)),i.textContent=i.innerHTML+=n,r.textContent=e.item.title,a.setAttribute("href",e.item.url),o.appendChild(r),l.appendChild(a),a.appendChild(o),a.appendChild(i)}))})},n.send(),t.removeEventListener("click",i)),p=!0})}),p=!1)}(window)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function t(e,i,o){var t,n,r,a,s,l,c,d=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),u=!1,p=(n=e)&&n.document&&9===n.document.nodeType?(s=(a=n).document,l=s.body,c=s.documentElement,{scrollHeight:function(){return Math.max(l.scrollHeight,c.scrollHeight,l.offsetHeight,c.offsetHeight,l.clientHeight,c.clientHeight)},height:function(){return a.innerHeight||c.clientHeight||l.clientHeight},scrollY:function(){return void 0!==a.pageYOffset?a.pageYOffset:(c||l.parentNode||l).scrollTop}}):(r=n,{scrollHeight:function(){return Math.max(r.scrollHeight,r.offsetHeight,r.clientHeight)},height:function(){return Math.max(r.offsetHeight,r.clientHeight)},scrollY:function(){return r.scrollTop}}),h=p.scrollY(),f={};function g(){var e=Math.round(p.scrollY()),t=p.height(),n=p.scrollHeight();f.scrollY=e,f.lastScrollY=h,f.direction=h<e?"down":"up",f.distance=Math.abs(e-h),f.isOutOfBounds=e<0||n<e+t,f.top=e<=i.offset[f.direction],f.bottom=n<=e+t,f.toleranceExceeded=f.distance>i.tolerance[f.direction],o(f),h=e,u=!1}function m(){u||(u=!0,t=requestAnimationFrame(g))}var v=!!d&&{passive:!0,capture:!1};return e.addEventListener("scroll",m,v),g(),{destroy:function(){cancelAnimationFrame(t),e.removeEventListener("scroll",m,v)}}}function n(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=n(this.tolerance),this.offset=n(this.offset),this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin)&&this.onPin.call(this)},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}),(()=>{var n={163:e=>{e.exports=function(s){var l,c=[].forEach,d=[].some,u=document.body,p=!0,h=" ";function a(e){var t=s.orderedList?"ol":"ul",t=document.createElement(t),n=s.listClass+h+s.extraListClasses;return e&&(n=(n+=h+s.collapsibleClass)+(h+s.isCollapsedClass)),t.setAttribute("class",n),t}return{enableTocAnimation:function(){p=!0},disableTocAnimation:function(e){e=e.target||e.srcElement;"string"==typeof e.className&&-1!==e.className.indexOf(s.linkClass)&&(p=!1)},render:function(e,t){var n=a(!1);if(t.forEach(function(e){!function t(e,n){var i,o,r,n=n.appendChild((n=e,i=document.createElement("li"),o=document.createElement("a"),s.listItemClass&&i.setAttribute("class",s.listItemClass),s.onClick&&(o.onclick=s.onClick),s.includeTitleTags&&o.setAttribute("title",n.textContent),s.includeHtml&&n.childNodes.length?c.call(n.childNodes,function(e){o.appendChild(e.cloneNode(!0))}):o.textContent=n.textContent,o.setAttribute("href",s.basePath+"#"+n.id),o.setAttribute("class",s.linkClass+h+"node-name--"+n.nodeName+h+s.extraLinkClasses),i.appendChild(o),i));e.children.length&&(r=a(e.isCollapsed),e.children.forEach(function(e){t(e,r)}),n.appendChild(r))}(e,n)}),null!==(l=e||l))return l.firstChild&&l.removeChild(l.firstChild),0===t.length?l:l.appendChild(n)},updateToc:function(e){var n=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop;s.positionFixedSelector&&(t=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop,o=document.querySelector(s.positionFixedSelector),"auto"===s.fixedSidebarOffset&&(s.fixedSidebarOffset=l.offsetTop),t>s.fixedSidebarOffset?-1===o.className.indexOf(s.positionFixedClass)&&(o.className+=h+s.positionFixedClass):o.className=o.className.split(h+s.positionFixedClass).join(""));var i,t,o,r,a=e;p&&null!==l&&0<a.length&&(d.call(a,function(e,t){return function e(t){var n=0;return null!==t&&(n=t.offsetTop,s.hasInnerContainers)&&(n+=e(t.offsetParent)),n}(e)>n+s.headingsOffset+10?(i=a[0===t?t:t-1],!0):t===a.length-1?(i=a[a.length-1],!0):void 0}),t=l.querySelectorAll("."+s.linkClass),c.call(t,function(e){e.className=e.className.split(h+s.activeLinkClass).join("")}),o=l.querySelectorAll("."+s.listItemClass),c.call(o,function(e){e.className=e.className.split(h+s.activeListItemClass).join("")}),(e=l.querySelector("."+s.linkClass+".node-name--"+i.nodeName+'[href="'+s.basePath+"#"+i.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]'))&&-1===e.className.indexOf(s.activeLinkClass)&&(e.className+=h+s.activeLinkClass),(r=e&&e.parentNode)&&-1===r.className.indexOf(s.activeListItemClass)&&(r.className+=h+s.activeListItemClass),r=l.querySelectorAll("."+s.listClass+"."+s.collapsibleClass),c.call(r,function(e){-1===e.className.indexOf(s.isCollapsedClass)&&(e.className+=h+s.isCollapsedClass)}),e&&e.nextSibling&&-1!==e.nextSibling.className.indexOf(s.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(h+s.isCollapsedClass).join("")),function e(t){return t&&-1!==t.className.indexOf(s.collapsibleClass)&&-1!==t.className.indexOf(s.isCollapsedClass)?(t.className=t.className.split(h+s.isCollapsedClass).join(""),e(t.parentNode.parentNode)):t}(e&&e.parentNode.parentNode))}}}},547:e=>{e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},971:function(e,t,m){var n=[],i=function(e){"use strict";var i,o,r,a,s=m(547),l={},c={},d=m(163),u=m(279),p=m(938),h=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||h)return a=Object.prototype.hasOwnProperty,c.destroy=function(){var e=g(l);null!==e&&(l.skipRendering||e&&(e.innerHTML=""),l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer).removeEventListener("resize",this._scrollListener,!1),i&&document.querySelector(l.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),i&&document.removeEventListener("click",this._clickListener,!1)))},c.init=function(e){if(h){l=function(){for(var e={},t=0;t<arguments.length;t++){var n,i=arguments[t];for(n in i)a.call(i,n)&&(e[n]=i[n])}return e}(s,e||{}),this.options=l,this.state={},l.scrollSmooth&&(l.duration=l.scrollSmoothDuration,l.offset=l.scrollSmoothOffset,c.scrollSmooth=m(374).initSmoothScrolling(l)),i=d(l),o=u(l),this._buildHtml=i,this._parseContent=o,this._headingsArray=r,c.destroy();e=function(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}(l);if(null!==e){var t,n=g(l);if(null!==n&&null!==(r=o.selectHeadings(e,l.headingSelector)))return e=o.nestHeadingsArray(r).nest,l.skipRendering||i.render(n,e),this._scrollListener=f(function(e){i.updateToc(r),l.disableTocScrollSync||p(l);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(i.updateToc(r),l.scrollEndCallback)&&l.scrollEndCallback(e)},l.throttleTimeout),this._scrollListener(),(l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer)):(document.addEventListener("scroll",this._scrollListener,!1),document)).addEventListener("resize",this._scrollListener,!1),t=null,this._clickListener=f(function(e){l.scrollSmooth&&i.disableTocAnimation(e),i.updateToc(r),t&&clearTimeout(t),t=setTimeout(function(){i.enableTocAnimation()},l.scrollSmoothDuration)},l.throttleTimeout),(l.scrollContainer&&document.querySelector(l.scrollContainer)?document.querySelector(l.scrollContainer):document).addEventListener("click",this._clickListener,!1),this}}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c;function f(i,o,r){var a,s;return o=o||250,function(){var e=r||this,t=+new Date,n=arguments;a&&t<a+o?(clearTimeout(s),s=setTimeout(function(){a=t,i.apply(e,n)},o)):(a=t,i.apply(e,n))}}function g(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}}(void 0!==m.g?m.g:this.window||this.global);void 0!==(t="function"==typeof i?i.apply(t,n):i)&&(e.exports=t)},279:e=>{e.exports=function(s){var t=[].reduce;function l(e){return e[e.length-1]}function c(e){var t;return e instanceof window.HTMLElement?!s.ignoreHiddenElements||e.offsetHeight&&e.offsetParent?(t=e.getAttribute("data-heading-label")||(s.headingLabelCallback?String(s.headingLabelCallback(e.textContent)):e.textContent.trim()),t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.toUpperCase().replace("H",""),textContent:t},s.includeHtml&&(t.childNodes=e.childNodes),s.headingObjectCallback?s.headingObjectCallback(t,e):t):null:e}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=c(t);if(t){for(var n=e.nest,t,i=(t=c(t)).headingLevel,o=n,r=l(o),a=i-(r?r.headingLevel:0);0<a&&(!(r=l(o))||i!==r.headingLevel);)r&&void 0!==r.children&&(o=r.children),a--;i>=s.collapseDepth&&(t.isCollapsed=!0),o.push(t)}return e},{nest:[]})},selectHeadings:function(e,t){var n=t;s.ignoreSelector&&(n=t.split(",").map(function(e){return e.trim()+":not("+s.ignoreSelector+")"}));try{return e.querySelectorAll(n)}catch(e){return console.warn("Headers not found with selector: "+n),null}}}}},374:(e,t)=>{t.initSmoothScrolling=function(d){var u=d.duration,p=d.offset,h=location.hash?f(location.href):location.href;function f(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",function(t){var e,n,i,o,r,a,s,l;function c(e){o=e-i,window.scrollTo(0,a.easing(o,r,s,l)),o<l?requestAnimationFrame(c):(window.scrollTo(0,r+s),"function"==typeof a.callback&&a.callback())}"a"!==(e=t.target).tagName.toLowerCase()||!(0<e.hash.length||"#"===e.href.charAt(e.href.length-1))||f(e.href)!==h&&f(e.href)+"#"!==h||-1<t.target.className.indexOf("no-smooth-scroll")||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||-1===t.target.className.indexOf(d.linkClass)||(e=t.target.hash,n={duration:u,offset:p,callback:function(){var e=t.target.hash;(e=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}},r=window.pageYOffset,a={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},n=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),s="string"==typeof e?a.offset+(e?n&&n.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,l="function"==typeof a.duration?a.duration(s):a.duration,requestAnimationFrame(function(e){c(i=e)}))},!1)}},938:e=>{e.exports=function(e){var t=e.tocElement||document.querySelector(e.tocSelector);t&&t.scrollHeight>t.clientHeight&&(e=t.querySelector("."+e.activeListItemClass))&&(t.scrollTop=e.offsetTop)}}},i={};function o(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e].call(t.exports,t,t.exports,o)),t.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o(971)})();let r;function i(i,l){const o=Object.keys(l);return class extends i{static get observedAttributes(){return o.map(e=>l[e].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(!this.__initialized){this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(a,i){const s=e(i);return Object.keys(i).forEach(r=>{const e=s[r],i=a.getAttribute(e.attribute),o=a[r];i&&(e.value=e.parse?t(i):i),null!=o&&(e.value=Array.isArray(o)?o.slice(0):o),e.reflect&&n(a,e.attribute,e.value),Object.defineProperty(a,r,{get:()=>e.value,set(i){var o=e.value;e.value=i,e.reflect&&n(this,e.attribute,e.value);for(let e=0,t=this.__propertyChangedCallbacks.length;e<t;e++)this.__propertyChangedCallbacks[e](r,i,o)},enumerable:!0,configurable:!0})}),s}(this,l);i=this.props;var i,o=Object.keys(i).reduce((e,t)=>(e[t]=i[t].value,e),{}),a=this.Component,s=r;try{(r=this).__initialized=!0,"function"==typeof a&&0===a.toString().indexOf("class")?new a(o,{element:this}):a(o,{element:this})}finally{r=s}}}async disconnectedCallback(){if(await Promise.resolve(),!this.isConnected){this.__propertyChangedCallbacks.length=0;for(var e=null;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}}attributeChangedCallback(e,n,i){this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in l&&(null==i&&!this[e]||(this[e]=l[e].parse?t(i):i))}lookupProp(t){if(l)return o.find(e=>t===e||t===l[e].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function a(n,a={},e={}){const{BaseElement:s=HTMLElement,extension:l}=e;return e=>{if(!n)throw new Error("tag is required to register a Component");let t=customElements.get(n);return t?t.prototype.Component=e:((t=i(s,(r=a)?Object.keys(r).reduce((e,t)=>{var n=r[t];return e[t]=o(n)&&"value"in n?n:{value:n},e[t].attribute||(e[t].attribute=t.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")),e[t].parse="parse"in e[t]?e[t].parse:"string"!=typeof e[t].value,e},{}):{})).prototype.Component=e,t.prototype.registeredTag=n,customElements.define(n,t,l)),t;var r}}const l={context:void 0,registry:void 0},s=Symbol("solid-proxy"),c=Symbol("solid-track"),d={equals:(e,t)=>e===t};let u=O;const p=1,g=2,h={owned:null,cleanups:null,context:null,owner:null};var f=null;let m=null,b=null,y=null,v=null,w=0;function x(e,t){const n=b,i=f,o=0===e.length,r=o?h:{owned:null,cleanups:null,context:null,owner:void 0===t?i:t},a=o?e:()=>e(()=>C(()=>F(r)));f=r,b=null;try{return N(a,!0)}finally{b=n,f=i}}function k(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},d,t):d).equals||void 0};return[I.bind(n),e=>("function"==typeof e&&(e=e(n.value)),P(n,e))]}function _(e,t,n){L(M(e,t,!1,p))}function $(e,t,n){u=z;e=M(e,t,!1,p);n&&n.render||(e.user=!0),v?v.push(e):L(e)}function S(e,t,n){n=n?Object.assign({},d,n):d;e=M(e,t,!0,0);return e.observers=null,e.observerSlots=null,e.comparator=n.equals||void 0,L(e),I.bind(e)}function C(e){if(null===b)return e();var t=b;b=null;try{return e()}finally{b=t}}function T(e){$(()=>C(e))}function E(e){return null!==f&&(null===f.cleanups?f.cleanups=[e]:f.cleanups.push(e)),e}function A(e){const t=S(e),n=S(()=>j(t()));return n.toArray=()=>{var e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function I(){var e;return this.sources&&this.state&&(this.state===p?L(this):(e=y,y=null,N(()=>B(this),!1),y=e)),b&&(e=this.observers?this.observers.length:0,b.sources?(b.sources.push(this),b.sourceSlots.push(e)):(b.sources=[this],b.sourceSlots=[e]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])),this.value}function P(i,e,t){var n=i.value;return i.comparator&&i.comparator(n,e)||(i.value=e,i.observers&&i.observers.length&&N(()=>{for(let e=0;e<i.observers.length;e+=1){var t=i.observers[e],n=m&&m.running;n&&m.disposed.has(t),(n?t.tState:t.state)||((t.pure?y:v).push(t),t.observers&&D(t)),n||(t.state=p)}if(1e6<y.length)throw y=[],new Error},!1)),e}function L(e){var t,n,i;e.fn&&(F(e),t=f,n=b,i=w,function(e,t,n){let i;try{i=e.fn(t)}catch(t){return e.pure&&(e.state=p,e.owned&&e.owned.forEach(F),e.owned=null),e.updatedAt=n+1,U(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?P(e,i):e.value=i,e.updatedAt=n)}(b=f=e,e.value,i),b=n,f=t)}function M(e,t,n,i=p,o){e={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:f,context:null,pure:n};return null!==f&&f!==h&&(f.owned?f.owned.push(e):f.owned=[e]),e}function R(t){if(0!==t.state){if(t.state===g)return B(t);if(t.suspense&&C(t.suspense.inFallback))return t.suspense.effects.push(t);const i=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<w);)t.state&&i.push(t);for(let e=i.length-1;0<=e;e--){var n;(t=i[e]).state===p?L(t):t.state===g&&(n=y,y=null,N(()=>B(t,i[0]),!1),y=n)}}}function N(e,t){if(y)return e();let n=!1;t||(y=[]),v?n=!0:v=[],w++;try{const t=e();var i=n;if(y&&(O(y),y=null),!i){const o=v;v=null,o.length&&N(()=>u(o),!1)}return t}catch(e){n||(v=null),y=null,U(e)}}function O(t){for(let e=0;e<t.length;e++)R(t[e])}function z(e){let t,n=0;for(t=0;t<e.length;t++){var i=e[t];i.user?e[n++]=i:R(i)}for(t=0;t<n;t++)R(e[t])}function B(t,n){for(let e=t.state=0;e<t.sources.length;e+=1){var i=t.sources[e];if(i.sources){const t=i.state;t===p?i!==n&&(!i.updatedAt||i.updatedAt<w)&&R(i):t===g&&B(i,n)}}}function D(t){for(let e=0;e<t.observers.length;e+=1){var n=t.observers[e];n.state||(n.state=g,(n.pure?y:v).push(n),n.observers&&D(n))}}function F(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const e=i.pop(),o=t.observerSlots.pop();n<i.length&&(e.sourceSlots[o]=n,i[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;0<=t;t--)F(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;0<=t;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function U(e,t=0){e=(e=e)instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e});throw e}function j(t){if("function"==typeof t&&!t.length)return j(t());if(Array.isArray(t)){var n=[];for(let e=0;e<t.length;e++){var i=j(t[e]);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return n}return t}const H=Symbol("fallback");function G(t){for(let e=0;e<t.length;e++)t[e]()}function V(e,t){return C(()=>e(t||{}))}function q(){return!0}const W={get:(e,t,n)=>t===s?n:e.get(t),has:(e,t)=>t===s||e.has(t),set:q,deleteProperty:q,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:q,deleteProperty:q}),ownKeys:e=>e.keys()};function K(e){return(e="function"==typeof e?e():e)||{}}function Y(){for(let e=0,t=this.length;e<t;++e){var n=this[e]();if(void 0!==n)return n}}function Z(...i){let n=!1;for(let e=0;e<i.length;e++){const r=i[e];n=n||!!r&&s in r,i[e]="function"==typeof r?(n=!0,S(r)):r}if(n)return new Proxy({get(t){for(let e=i.length-1;0<=e;e--){var n=K(i[e])[t];if(void 0!==n)return n}},has(t){for(let e=i.length-1;0<=e;e--)if(t in K(i[e]))return!0;return!1},keys(){var t=[];for(let e=0;e<i.length;e++)t.push(...Object.keys(K(i[e])));return[...new Set(t)]}},W);const o={},r={},a=new Set;for(let e=i.length-1;0<=e;e--){var l=i[e];if(l){var c=Object.getOwnPropertyNames(l);for(let e=0,t=c.length;e<t;e++){const n=c[e];if("__proto__"!==n&&"constructor"!==n){const d=Object.getOwnPropertyDescriptor(l,n);if(a.has(n)){const i=r[n];i?d.get?i.push(d.get.bind(l)):void 0!==d.value&&i.push(()=>d.value):void 0===o[n]&&(o[n]=d.value)}else d.get?(a.add(n),Object.defineProperty(o,n,{enumerable:!0,configurable:!0,get:Y.bind(r[n]=[d.get.bind(l)])})):(void 0!==d.value&&a.add(n),o[n]=d.value)}}}}return o}function X(n,...i){if(s in n){const o=new Set(1<i.length?i.flat():i[0]),r=i.map(t=>new Proxy({get:e=>t.includes(e)?n[e]:void 0,has:e=>t.includes(e)&&e in n,keys:()=>t.filter(e=>e in n)},W));return r.push(new Proxy({get:e=>o.has(e)?void 0:n[e],has:e=>!o.has(e)&&e in n,keys:()=>Object.keys(n).filter(e=>!o.has(e))},W)),r}const o={},r=i.map(()=>({}));for(const c of Object.getOwnPropertyNames(n)){var a=Object.getOwnPropertyDescriptor(n,c),l=!a.get&&!a.set&&a.enumerable&&a.writable&&a.configurable;let e=!1,t=0;for(const n of i)n.includes(c)&&(e=!0,l?r[t][c]=a.value:Object.defineProperty(r[t],c,a)),++t;e||(l?o[c]=a.value:Object.defineProperty(o,c,a))}return[...r,o]}let J=0;const Q=e=>`Stale read from <${e}>.`;function ee(e){var t="fallback"in e&&{fallback:()=>e.fallback};return S(function(n,f={}){let g=[],m=[],v=[],b=0,y=1<n.length?[]:null;return E(()=>G(v)),()=>{let d,u,p=e.each||[];return p[c],C(()=>{let e,t,n,i,o,r,a,s,l,c=p.length;if(0===c)0!==b&&(G(v),v=[],g=[],m=[],b=0,y=y&&[]),f.fallback&&(g=[H],m[0]=x(e=>(v[0]=e,f.fallback())),b=1);else if(0===b){for(m=new Array(c),u=0;u<c;u++)g[u]=p[u],m[u]=x(h);b=c}else{for(n=new Array(c),i=new Array(c),y&&(o=new Array(c)),r=0,a=Math.min(b,c);r<a&&g[r]===p[r];r++);for(a=b-1,s=c-1;a>=r&&s>=r&&g[a]===p[s];a--,s--)n[s]=m[a],i[s]=v[a],y&&(o[s]=y[a]);for(e=new Map,t=new Array(s+1),u=s;u>=r;u--)l=p[u],d=e.get(l),t[u]=void 0===d?-1:d,e.set(l,u);for(d=r;d<=a;d++)l=g[d],void 0!==(u=e.get(l))&&-1!==u?(n[u]=m[d],i[u]=v[d],y&&(o[u]=y[d]),u=t[u],e.set(l,u)):v[d]();for(u=r;u<c;u++)u in n?(m[u]=n[u],v[u]=i[u],y&&(y[u]=o[u],y[u](u))):m[u]=x(h);m=m.slice(0,b=c),g=p.slice(0)}return m});function h(e){if(v[u]=e,y){const[e,t]=k(u);return y[u]=t,n(p[u],e)}return n(p[u])}}}(e.children,t||void 0))}function te(n){const i=n.keyed,o=S(()=>n.when,void 0,{equals:(e,t)=>i?e===t:!e==!t});return S(()=>{const e=o();if(e){const t=n.children;return"function"==typeof t&&0<t.length?C(()=>t(i?e:()=>{if(C(o))return n.when;throw Q("Show")})):t}return n.fallback},void 0,void 0)}function ne(o){let r=!1;const e=A(()=>o.children),a=S(()=>{let t=e();Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){var n=t[e].when;if(n)return r=!!t[e].keyed,[e,n,t[e]]}return[-1]},void 0,{equals:(e,t)=>e[0]===t[0]&&(r?e[1]===t[1]:!e[1]==!t[1])&&e[2]===t[2]});return S(()=>{const[e,t,n]=a();if(e<0)return o.fallback;const i=n.children;return"function"==typeof i&&0<i.length?C(()=>i(r?t:()=>{if(C(a)[0]!==e)throw Q("Match");return n.when})):i},void 0,void 0)}function oe(e){return e}const re=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),ie=new Set(["innerHTML","textContent","innerText","children"]),ae=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),le=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}}),se=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ce={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},de="_$DX_DELEGATE";function ue(t,e,n){let i;const o=()=>{var e=document.createElement("template");return e.innerHTML=t,(n?e.content.firstChild:e.content).firstChild},r=e?()=>C(()=>document.importNode(i=i||o(),!0)):()=>(i=i||o()).cloneNode(!0);return r.cloneNode=r}function pe(n,i=window.document){var o=i[de]||(i[de]=new Set);for(let e=0,t=n.length;e<t;e++){var r=n[e];o.has(r)||(o.add(r),i.addEventListener(r,we))}}function ge(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function he(e,t){null==t?e.removeAttribute("class"):e.className=t}function fe(s,l={},c,e){const d={};return e||_(()=>d.children=xe(s,l.children,d.children)),_(()=>l.ref&&l.ref(s)),_(()=>{var e,[t,n,i,o,r={}]=[s,l,c,!0,d];n=n||{};for(const o in r)if(!(o in n)){if("children"===o)continue;r[o]=ve(t,o,null,r[o],i,!0)}for(const a in n)"children"===a?o||xe(t,n.children):(e=n[a],r[a]=ve(t,a,e,r[a],i,!0))}),d}function me(e,t,n){return C(()=>e(t,n))}function be(t,n,i,e){if(void 0!==i&&(e=e||[]),"function"!=typeof n)return xe(t,n,e,i);_(e=>xe(t,n(),e,i),e)}function ye(n,e,i){var o=e.trim().split(/\s+/);for(let e=0,t=o.length;e<t;e++)n.classList.toggle(o[e],i)}function ve(n,e,i,o,t,r){let a,s,l,c,d;if("style"===e){var u=n,p=i,h=o;if(!p)return h?ge(u,"style"):p;var f=u.style;if("string"==typeof p)return f.cssText=p;let e,t;for(t in"string"==typeof h&&(f.cssText=h=void 0),p=p||{},h=h||{})null==p[t]&&f.removeProperty(t),delete h[t];for(t in p)e=p[t],e!==h[t]&&(f.setProperty(t,e),h[t]=e);return h}if("classList"===e){var[g,m,v={}]=[n,i,o];const y=Object.keys(m||{}),w=Object.keys(v);let t,e;for(t=0,e=w.length;t<e;t++){const y=w[t];y&&"undefined"!==y&&!m[y]&&(ye(g,y,!1),delete v[y])}for(t=0,e=y.length;t<e;t++){const w=y[t],e=!!m[w];w&&"undefined"!==w&&v[w]!==e&&e&&(ye(g,w,!0),v[w]=e)}return v}if(i===o)return o;if("ref"===e)r||i(n);else if("on:"===e.slice(0,3)){const t=e.slice(3);o&&n.removeEventListener(t,o),i&&n.addEventListener(t,i)}else if("oncapture:"===e.slice(0,10)){const t=e.slice(10);o&&n.removeEventListener(t,o,!0),i&&n.addEventListener(t,i,!0)}else if("on"===e.slice(0,2)){const t=e.slice(2).toLowerCase(),r=se.has(t);if(!r&&o){const e=Array.isArray(o)?o[0]:o;n.removeEventListener(t,e)}(r||i)&&(function(t,e,n,i){if(i)Array.isArray(n)?(t["$$"+e]=n[0],t[`$$${e}Data`]=n[1]):t["$$"+e]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=e=>i.call(t,n[1],e))}else t.addEventListener(e,n)}(n,t,i,r),r)&&pe([t])}else if("attr:"===e.slice(0,5))ge(n,e.slice(5),i);else if((d="prop:"===e.slice(0,5))||(l=ie.has(e))||!t&&((c=function(e,t){e=le[e];return"object"==typeof e?e[t]?e.$:void 0:e}(e,n.tagName))||(s=re.has(e)))||(a=n.nodeName.includes("-")))d&&(e=e.slice(5),s=!0),"class"===e||"className"===e?he(n,i):!a||s||l?n[c||e]=i:n[e.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())]=i;else{const o=t&&-1<e.indexOf(":")&&ce[e.split(":")[0]];o?(u=n,r=o,t=e,null==(b=i)?u.removeAttributeNS(r,t):u.setAttributeNS(r,t,b)):ge(n,ae[e]||e,i)}var b;return i}function we(e){var t="$$"+e.type;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){var i=n[t];if(i&&!n.disabled){var o=n[t+"Data"];if(void 0!==o?i.call(n,o,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function xe(n,t,i,o,e){for(;"function"==typeof i;)i=i();if(t!==i){const p=typeof t,r=void 0!==o;if(n=r&&i[0]&&i[0].parentNode||n,"string"===p||"number"===p)if("number"===p&&(t=t.toString()),r){let e=i[0];e&&3===e.nodeType?e.data=t:e=document.createTextNode(t),i=$e(n,i,o,e)}else i=""!==i&&"string"==typeof i?n.firstChild.data=t:n.textContent=t;else if(null==t||"boolean"===p)i=$e(n,i,o);else{if("function"===p)return _(()=>{let e=t();for(;"function"==typeof e;)e=e();i=xe(n,e,i,o)}),()=>i;if(Array.isArray(t)){const p=[],a=i&&Array.isArray(i);if(ke(p,t,i,e))return _(()=>i=xe(n,p,i,o,!0)),()=>i;if(0===p.length){if(i=$e(n,i,o),r)return i}else if(a)if(0===i.length)_e(n,p,o);else{var c=n;var d=i;var u=p;let e=u.length,o=d.length,r=e,a=0,s=0,t=d[o-1].nextSibling,l=null;for(;a<o||s<r;)if(d[a]!==u[s]){for(;d[o-1]===u[r-1];)o--,r--;if(o===a){const d=r<e?s?u[s-1].nextSibling:u[r-s]:t;for(;s<r;)c.insertBefore(u[s++],d)}else if(r===s)for(;a<o;)l&&l.has(d[a])||d[a].remove(),a++;else if(d[a]===u[r-1]&&u[s]===d[o-1]){const e=d[--o].nextSibling;c.insertBefore(u[s++],d[a++].nextSibling),c.insertBefore(u[--r],e),d[o]=u[r]}else{if(!l){l=new Map;let e=s;for(;e<r;)l.set(u[e],e++)}const i=l.get(d[a]);if(null!=i)if(s<i&&i<r){let e,t=a,n=1;for(;++t<o&&t<r&&null!=(e=l.get(d[t]))&&e===i+n;)n++;if(n>i-s){const e=d[a];for(;s<i;)c.insertBefore(u[s++],e)}else c.replaceChild(u[s++],d[a++])}else a++;else d[a++].remove()}}else a++,s++}else i&&$e(n),_e(n,p);i=p}else if(t.nodeType){if(Array.isArray(i)){if(r)return i=$e(n,i,o,t);$e(n,i,null,t)}else null!=i&&""!==i&&n.firstChild?n.replaceChild(t,n.firstChild):n.appendChild(t);i=t}else console.warn("Unrecognized value. Skipped inserting",t)}}return i}function ke(o,r,a,s){let l=!1;for(let i=0,e=r.length;i<e;i++){let e,t=r[i],n=a&&a[i];if(null!=t&&!0!==t&&!1!==t)if("object"==(e=typeof t)&&t.nodeType)o.push(t);else if(Array.isArray(t))l=ke(o,t,n)||l;else if("function"==e)if(s){for(;"function"==typeof t;)t=t();l=ke(o,Array.isArray(t)?t:[t],Array.isArray(n)?n:[n])||l}else o.push(t),l=!0;else{const r=String(t);n&&3===n.nodeType&&n.data===r?o.push(n):o.push(document.createTextNode(r))}}return l}function _e(n,i,o=null){for(let e=0,t=i.length;e<t;e++)n.insertBefore(i[e],o)}function $e(n,i,o,e){if(void 0===o)return n.textContent="";var r=e||document.createTextNode("");if(i.length){let t=!1;for(let e=i.length-1;0<=e;e--){var a=i[e];if(r!==a){const i=a.parentNode===n;t||e?i&&a.remove():i?n.replaceChild(r,a):n.insertBefore(r,o)}else t=!0}}else n.insertBefore(r,o);return[r]}function Se(a){return(i,o)=>{const r=o["element"];return x(e=>{const n=function(t){var n=Object.keys(t),i={};for(let e=0;e<n.length;e++){const[o,r]=k(t[n[e]]);Object.defineProperty(i,n[e],{get:o,set(e){r(()=>e)}})}return i}(i);r.addPropertyChangedCallback((e,t)=>n[e]=t),r.addReleaseCallback(()=>{r.renderRoot.textContent="",e()});var t=a(n,o);return be(r.renderRoot,t)},function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return(t&&t.assignedSlot?t.assignedSlot:e)._$owner}(r))}}function Ce(e,t,n){return 2===arguments.length&&(n=t,t={}),a(e,t)(Se(n))}const Te={typebot:void 0,onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,isPreview:void 0,startFrom:void 0,prefilledVariables:void 0,apiHost:void 0,resultId:void 0},Ee={...Te,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},Ae={...Te,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0,onPreviewMessageClick:void 0,autoShowDelay:void 0};var Li,Ie='/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.-right-1{right:-4px}.-right-2{right:-8px}.-top-2{top:-8px}.bottom-20{bottom:80px}.bottom-24{bottom:96px}.bottom-5{bottom:20px}.left-0{left:0}.left-5{left:20px}.right-0{right:0}.right-5{right:20px}.top-0{top:0}.z-10{z-index:10}.z-20{z-index:20}.m-2{margin:8px}.m-auto{margin:auto}.mx-4{margin-left:16px;margin-right:16px}.my-2{margin-bottom:8px;margin-top:8px}.-mr-1{margin-right:-4px}.-mt-1{margin-top:-4px}.mb-3{margin-bottom:12px}.ml-2{margin-left:8px}.mt-1{margin-top:4px}.mt-4{margin-top:16px}.\\!block{display:block!important}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:40px}.h-12{height:48px}.h-16{height:64px}.h-2{height:8px}.h-2\\.5{height:10px}.h-3{height:12px}.h-32{height:128px}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-\\[80vh\\]{height:80vh}.h-\\[90\\%\\]{height:90%}.h-full{height:100%}.max-h-80{max-height:320px}.max-h-\\[464px\\]{max-height:464px}.min-h-full{min-height:100%}.w-10{width:40px}.w-12{width:48px}.w-16{width:64px}.w-2{width:8px}.w-3{width:12px}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-7{width:28px}.w-8{width:32px}.w-9{width:36px}.w-\\[90\\%\\]{width:90%}.w-full{width:100%}.min-w-0{min-width:0}.max-w-\\[256px\\]{max-width:256px}.max-w-full{max-width:100%}.max-w-lg{max-width:512px}.max-w-xs{max-width:320px}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.gap-6{gap:24px}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.rounded-md{border-radius:6px}.border{border-width:1px}.border-2{border-width:2px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:4px}.p-2{padding:8px}.p-4{padding:16px}.px-1{padding-left:4px;padding-right:4px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.px-8{padding-left:32px;padding-right:32px}.py-1{padding-bottom:4px;padding-top:4px}.py-2{padding-bottom:8px;padding-top:8px}.py-4{padding-bottom:16px;padding-top:16px}.py-6{padding-bottom:24px;padding-top:24px}.pb-0{padding-bottom:0}.pl-2{padding-left:8px}.pl-4{padding-left:16px}.pr-1{padding-right:4px}.pr-2{padding-right:8px}.pr-4{padding-right:16px}.pt-10{padding-top:40px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:24px;line-height:32px}.text-4xl{font-size:36px;line-height:40px}.text-base{font-size:16px;line-height:24px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.brightness-150{--tw-brightness:brightness(1.5)}.brightness-150,.brightness-200{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-200{--tw-brightness:brightness(2)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--typebot-container-bg-image:none;--typebot-container-bg-color:transparent;--typebot-container-font-family:"Open Sans";--typebot-container-color:#303235;--typebot-button-bg-color:#0042da;--typebot-button-bg-color-rgb:0,66,218;--typebot-button-color:#fff;--typebot-checkbox-bg-color:#fff;--typebot-host-bubble-bg-color:#f7f8ff;--typebot-host-bubble-color:#303235;--typebot-guest-bubble-bg-color:#ff8e21;--typebot-guest-bubble-color:#fff;--typebot-input-bg-color:#fff;--typebot-input-color:#303235;--typebot-input-placeholder-color:#9095a0;--typebot-header-bg-color:#fff;--typebot-header-color:#303235;--selectable-base-alpha:0;--typebot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--typebot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(2.5)}50%{transform:translateY(-2.5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}a{text-decoration:underline}ol,ul{margin-inline-end:0;margin-inline-start:0;padding-inline-start:40px}ol{list-style-type:decimal}ul{list-style-type:disc}li:not(:last-child){margin-bottom:8px}pre{word-wrap:break-word;max-height:100%;max-width:100%;overflow:auto;overflow-wrap:break-word;white-space:pre-wrap}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.text-input::placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.typebot-container{background-color:var(--typebot-container-bg-color);background-image:var(--typebot-container-bg-image);font-family:var(--typebot-container-font-family),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.typebot-button{background-color:var(--typebot-button-bg-color);border:1px solid var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-button-color);transition:all .3s ease}.typebot-button.selectable{background-color:var(--typebot-host-bubble-bg-color);border:1px solid var(--typebot-button-bg-color);color:var(--typebot-host-bubble-color)}.typebot-selectable{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .08));border:1px solid rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .25));border-radius:var(--typebot-border-radius);color:var(--typebot-container-color);transition:all .3s ease}.typebot-selectable:hover{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .12));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .3))}.typebot-selectable.selected{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .18));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .35))}.typebot-checkbox{background-color:var(--typebot-checkbox-bg-color);border:1px solid var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);border-radius:2px;color:var(--typebot-button-color);padding:1px;transition:all .3s ease}.typebot-checkbox.checked{background-color:var(--typebot-button-bg-color)}.typebot-host-bubble{color:var(--typebot-host-bubble-color)}.typebot-host-bubble>.bubble-typing{background-color:var(--typebot-host-bubble-bg-color);border:var(--typebot-host-bubble-border);border-radius:6px}.typebot-host-bubble iframe,.typebot-host-bubble img,.typebot-host-bubble video{border-radius:var(--typebot-border-radius)}.typebot-guest-bubble{background-color:var(--typebot-guest-bubble-bg-color);border-radius:6px;color:var(--typebot-guest-bubble-color)}.typebot-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius);box-shadow:0 2px 6px -1px rgba(0,0,0,.1)}.typebot-input,.typebot-input-error-message{color:var(--typebot-input-color)}.typebot-button>.send-icon{fill:var(--typebot-button-color)}.typebot-chat-view{max-width:900px}.ping span{background-color:var(--typebot-button-bg-color)}.rating-icon-container svg{stroke:var(--typebot-button-bg-color);fill:var(--typebot-host-bubble-bg-color);height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:var(--typebot-button-bg-color)}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{border-radius:var(--typebot-border-radius)}.total-files-indicator,.upload-progress-bar{background-color:var(--typebot-button-bg-color)}.total-files-indicator{color:var(--typebot-button-color);font-size:10px}.typebot-upload-input{border-radius:var(--typebot-border-radius);transition:border-color .1s ease-out}.typebot-upload-input.dragging-over{border-color:var(--typebot-button-bg-color)}.secondary-button{background-color:var(--typebot-host-bubble-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-host-bubble-color)}.typebot-country-select{color:var(--typebot-input-color)}.typebot-country-select,.typebot-date-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius)}.typebot-date-input{color:var(--typebot-input-color);color-scheme:light}.typebot-picture-button,.typebot-popup-blocked-toast{border-radius:var(--typebot-border-radius)}.typebot-picture-button{background-color:var(--typebot-button-bg-color);color:var(--typebot-button-color);transition:all .3s ease;width:236px}.typebot-picture-button>img,.typebot-selectable-picture>img{border-radius:var(--typebot-border-radius) var(--typebot-border-radius) 0 0;height:100%;max-height:200px;min-width:200px;-o-object-fit:cover;object-fit:cover;width:100%}.typebot-picture-button.has-svg>img,.typebot-selectable-picture.has-svg>img{max-height:128px;-o-object-fit:contain;object-fit:contain;padding:1rem}.typebot-selectable-picture{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .08));border:1px solid rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .25));border-radius:var(--typebot-border-radius);color:var(--typebot-container-color);transition:all .3s ease;width:236px}.typebot-selectable-picture:hover{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .12));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .3))}.typebot-selectable-picture.selected{background-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .18));border-color:rgba(var(--typebot-button-bg-color-rgb),calc(var(--selectable-base-alpha) + .35))}select option{background-color:var(--typebot-input-bg-color);color:var(--typebot-input-color)}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9)}.hover\\:brightness-90:hover,.hover\\:brightness-95:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:brightness-95:hover{--tw-brightness:brightness(.95)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75)}.active\\:brightness-75:active,.active\\:brightness-90:active{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.active\\:brightness-90:active{--tw-brightness:brightness(.9)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:640px){.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:512px}.sm\\:p-0{padding:0}}';let Pe=function(e){return e.TEXT="text",e.IMAGE="image",e.VIDEO="video",e.EMBED="embed",e.AUDIO="audio",e}({});const Le="Send";let Me=function(e){return e.TEXT="text input",e.NUMBER="number input",e.EMAIL="email input",e.URL="url input",e.DATE="date input",e.PHONE="phone number input",e.CHOICE="choice input",e.PICTURE_CHOICE="picture choice input",e.PAYMENT="payment input",e.RATING="rating input",e.FILE="file input",e}({});const Re=Le,Ne="Filter the options...",Oe=async e=>{let t;try{var n="string"==typeof e?e:e.url,i=await(t=await fetch(n,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&ze(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&ze(e.body)?JSON.stringify(e.body):void 0})).json();if(t.ok)return{data:i,response:t};throw"error"in i?i.error:i}catch(e){return console.error(e),{error:e,response:t}}},ze=e=>null!=e,Be=e=>null==e,De=e=>null==e||""===e,Fe=e=>null!=e&&""!==e,Ue=e=>e?.startsWith("data:image/svg")||e?.endsWith(".svg"),je=e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,i)=>t+t+n+n+i+i);e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},He=e=>{return[e,t,n]=[je(e)][0],155<(299*e+587*t+114*n)/1e3;var t,n};function Ge(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ge(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Ve(){for(var e,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(e=Ge(e))&&(n&&(n+=" "),n+=e);return n}const qe=ue('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),We=ue('<img part="button-icon" alt="Bubble button icon">'),Ke=ue("<span>"),Ye=ue('<svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),Ze=ue('<img part="button-icon" alt="Bubble button close icon">'),Xe=ue('<button part="button" aria-label="Open chatbot">'),Je="#0042DA",Qe="#27272A",et="#fff",tt=e=>e.startsWith("http")||e.startsWith("data:image/svg+xml"),nt=o=>{{const i=Xe();return i.$$click=()=>o.toggleBot(),i.style.setProperty("z-index","42424242"),be(i,V(te,{get when(){return Be(o.customIconSrc)},keyed:!0,get children(){const i=qe();return _(e=>{var t=o.iconColor??(He(o.backgroundColor??Je)?Qe:et),n=Ve("stroke-2 fill-transparent absolute duration-200 transition",o.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100","large"===o.size?"w-9":"w-7");return t!==e._v$&&(null!=(e._v$=t)?i.style.setProperty("stroke",t):i.style.removeProperty("stroke")),n!==e._v$2&&ge(i,"class",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}}),null),be(i,V(te,{get when(){return S(()=>!!o.customIconSrc)()&&tt(o.customIconSrc)},get children(){const i=We();return _(e=>{var t=o.customIconSrc,n=Ve("duration-200 transition",o.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100",Ue(o.customIconSrc)?"large"===o.size?"w-9 h-9":"w-7 h-7":"w-[90%] h-[90%]",Ue(o.customIconSrc)?"":"object-cover rounded-full");return t!==e._v$3&&ge(i,"src",e._v$3=t),n!==e._v$4&&he(i,e._v$4=n),e},{_v$3:void 0,_v$4:void 0}),i}}),null),be(i,V(te,{get when(){return S(()=>!!o.customIconSrc)()&&!tt(o.customIconSrc)},get children(){const e=Ke();return e.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),be(e,()=>o.customIconSrc),_(()=>he(e,Ve("text-4xl duration-200 transition",o.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100"))),e}}),null),be(i,V(te,{get when(){return Be(o.customCloseIconSrc)},get children(){const i=Ye();return _(e=>{var t=o.iconColor??(He(o.backgroundColor??Je)?Qe:et),n=Ve("absolute duration-200 transition",o.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0","large"===o.size?" w-9":" w-7");return t!==e._v$5&&(null!=(e._v$5=t)?i.style.setProperty("fill",t):i.style.removeProperty("fill")),n!==e._v$6&&ge(i,"class",e._v$6=n),e},{_v$5:void 0,_v$6:void 0}),i}}),null),be(i,V(te,{get when(){return S(()=>!!o.customCloseIconSrc)()&&tt(o.customCloseIconSrc)},get children(){const i=Ze();return _(e=>{var t=o.customCloseIconSrc,n=Ve("absolute duration-200 transition",o.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0",Ue(o.customCloseIconSrc)?"large"===o.size?"w-9 h-9":"w-7 h-7":"w-[90%] h-[90%]",Ue(o.customCloseIconSrc)?"":"object-cover rounded-full");return t!==e._v$7&&ge(i,"src",e._v$7=t),n!==e._v$8&&he(i,e._v$8=n),e},{_v$7:void 0,_v$8:void 0}),i}}),null),be(i,V(te,{get when(){return S(()=>!!o.customCloseIconSrc)()&&!tt(o.customCloseIconSrc)},get children(){const e=Ke();return e.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),be(e,()=>o.customCloseIconSrc),_(()=>he(e,Ve("absolute text-4xl duration-200 transition",o.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0"))),e}}),null),_(e=>{var t=Ve("fixed bottom-5 shadow-md  rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in","large"===o.size?" w-16 h-16":" w-12 h-12","left"===o.placement?" left-5":" right-5"),n=o.backgroundColor??Je;return t!==e._v$9&&he(i,e._v$9=t),n!==e._v$10&&(null!=(e._v$10=n)?i.style.setProperty("background-color",n):i.style.removeProperty("background-color")),e},{_v$9:void 0,_v$10:void 0}),i}},ot=(pe(["click"]),ue('<div part="preview-message"><p>')),rt=ue('<img class="rounded-full w-8 h-8 object-cover" alt="Bot avatar" elementtiming="Bot avatar" fetchpriority="high">'),it=ue('<button part="preview-message-close-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18">'),at="#F7F8FF",lt="#303235",st=o=>{const[e,t]=k(!1);{const r=ot(),n=r.firstChild;return r.addEventListener("mouseleave",()=>t(!1)),r.addEventListener("mouseenter",()=>t(!0)),r.$$click=()=>o.onClick(),r.style.setProperty("z-index","42424242"),be(r,V(ct,{get isHovered(){return e()},get previewMessageTheme(){return o.previewMessageTheme},get onClick(){return o.onCloseClick}}),n),be(r,V(te,{get when(){return o.avatarUrl},keyed:!0,children:e=>{return ge(t=rt(),"src",e),t;var t}}),n),be(n,()=>o.message),_(e=>{var t="fixed max-w-[256px] rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4"+("large"===o.buttonSize?" bottom-24":" bottom-20")+("left"===o.placement?" left-5":" right-5"),n=o.previewMessageTheme?.backgroundColor??at,i=o.previewMessageTheme?.textColor??lt;return t!==e._v$&&he(r,e._v$=t),n!==e._v$2&&(null!=(e._v$2=n)?r.style.setProperty("background-color",n):r.style.removeProperty("background-color")),i!==e._v$3&&(null!=(e._v$3=i)?r.style.setProperty("color",i):r.style.removeProperty("color")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r}},ct=o=>{{const r=it();return r.$$click=e=>(e.stopPropagation(),o.onClick()),_(e=>{var t="absolute -top-2 -right-2 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all border "+(o.isHovered?"opacity-100":"opacity-0"),n=o.previewMessageTheme?.closeButtonBackgroundColor??at,i=o.previewMessageTheme?.closeButtonIconColor??lt;return t!==e._v$4&&he(r,e._v$4=t),n!==e._v$5&&(null!=(e._v$5=n)?r.style.setProperty("background-color",n):r.style.removeProperty("background-color")),i!==e._v$6&&(null!=(e._v$6=i)?r.style.setProperty("color",i):r.style.removeProperty("color")),e},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),r}},dt=(pe(["click"]),ue('<svg viewBox="0 0 800 800" width="16"><rect width="800" height="800" rx="80" fill="#0042DA"></rect><rect x="650" y="293" width="85.4704" height="384.617" rx="20" transform="rotate(90 650 293)" fill="#FF8E20"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M192.735 378.47C216.337 378.47 235.47 359.337 235.47 335.735C235.47 312.133 216.337 293 192.735 293C169.133 293 150 312.133 150 335.735C150 359.337 169.133 378.47 192.735 378.47Z" fill="#FF8E20"></path><rect x="150" y="506.677" width="85.4704" height="384.617" rx="20" transform="rotate(-90 150 506.677)" fill="white"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M607.265 421.206C583.663 421.206 564.53 440.34 564.53 463.942C564.53 487.544 583.663 506.677 607.265 506.677C630.867 506.677 650 487.544 650 463.942C650 440.34 630.867 421.206 607.265 421.206Z" fill="white">')),ut=()=>dt(),pt=ue('<a href="https://www.typebot.io/?utm_source=litebadge" target="_blank" rel="noopener noreferrer" class="lite-badge" id="lite-badge"><span>Made with Typebot'),gt=t=>{let n,e;const i=e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{"id"in e&&n&&"lite-badge"==e.id&&(console.log("Sorry, you can't remove the brand "),t.botContainer?.append(n))})})};return T(()=>{document&&t.botContainer&&(e=new MutationObserver(i)).observe(t.botContainer,{subtree:!1,childList:!0})}),E(()=>{e&&e.disconnect()}),o=pt(),r=o.firstChild,"function"==typeof n?me(n,o):n=o,be(o,V(ut,{}),r),o;var o,r},ht=(e,t)=>"undefined"!=typeof window?window.__ENV?window.__ENV[e]??t:void 0:"undefined"!=typeof process?process.env[e]??t:void 0,ft=()=>ht("NEXT_PUBLIC_VIEWER_URL")?.split(",")[0]??"https://typebot.io",mt=()=>sessionStorage.getItem("typebotPaymentInProgress"),bt=()=>{sessionStorage.removeItem("typebotPaymentInProgress")},[yt,vt]=k(),wt=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="19px" color="white"><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">'),xt=e=>{return fe(t=wt(),e,!0,!0),t;var t},kt=ue('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),_t=e=>{return fe(t=kt(),Z(e,{get class(){return"animate-spin h-6 w-6 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t},$t=ue("<button>"),St=e=>{const t=A(()=>e.children),[n,i]=X(e,["disabled","class"]);return fe(o=$t(),Z(i,{get disabled(){return e.isDisabled||e.isLoading},get class(){return"py-2 px-4 font-semibold focus:outline-none filter hover:brightness-90 active:brightness-75 disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 flex justify-center"+("secondary"===e.variant?" secondary-button":" typebot-button")+" "+n.class}}),!1,!0),be(o,V(te,{get when(){return!e.isLoading},get fallback(){return V(_t,{})},get children(){return t()}})),o;var o},Ct=e=>{const[t,n]=X(e,["disableIcon"]);return V(St,Z({type:"submit"},n,{get children(){return S(()=>!!(yt()&&!t.disableIcon||"string"==typeof e.children&&De(e.children)))()?V(xt,{get class(){return"send-icon flex "+(t.disableIcon?"hidden":"")}}):e.children}}))},Tt=ue('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bubble1"></div><div class="w-2 h-2 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),Et=()=>Tt(),At=ue('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),It=e=>{const[t,n]=X(e,["ref","onInput"]);return(i=At()).$$input=e=>t.onInput(e.currentTarget.value),"function"==typeof(o=e.ref)?me(o,i):e.ref=i,i.style.setProperty("font-size","16px"),fe(i,n,!1,!1),i;var i,o},Pt=(pe(["input"]),ue('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" rows="6" data-testid="textarea" required>')),Lt=e=>{const[t,n]=X(e,["ref","onInput"]);return(e=Pt()).$$input=e=>t.onInput(e.currentTarget.value),"function"==typeof(i=t.ref)?me(i,e):t.ref=e,e.style.setProperty("font-size","16px"),fe(e,Z({get autofocus(){return!yt()}},n),!1,!1),e;var i},Mt=(pe(["input"]),!0),Rt=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><audio controls>');let Nt;const Ot=s=>{let e,t,n=!1;const[l,i]=k(!0);T(()=>{Nt=setTimeout(()=>{n||(n=!0,i(!1),setTimeout(()=>s.onTransitionEnd(e?.offsetTop),400))},100)}),E(()=>{Nt&&clearTimeout(Nt)});{const o=Rt(),c=o.firstChild.firstChild.firstChild,d=c.nextSibling;return"function"==typeof e?me(e,o):e=o,be(c,(()=>{const e=S(()=>!!l());return()=>e()&&V(Et,{})})()),"function"==typeof t?me(t,d):t=d,_(e=>{var t=l()?"64px":"100%",n=l()?"32px":"100%",i=s.content?.url,o=s.content?.isAutoplayEnabled??Mt,r="z-10 text-fade-in "+(l()?"opacity-0":"opacity-100 m-2"),a=l()?yt()?"32px":"36px":"revert";return t!==e._v$&&(null!=(e._v$=t)?c.style.setProperty("width",t):c.style.removeProperty("width")),n!==e._v$2&&(null!=(e._v$2=n)?c.style.setProperty("height",n):c.style.removeProperty("height")),i!==e._v$3&&ge(d,"src",e._v$3=i),o!==e._v$4&&(d.autoplay=e._v$4=o),r!==e._v$5&&he(d,e._v$5=r),a!==e._v$6&&(null!=(e._v$6=a)?d.style.setProperty("height",a):d.style.removeProperty("height")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),o}},zt=400,Bt=ue('<div class="flex flex-col w-full animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><iframe id="embed-bubble-content" class="w-full h-full ">');let Dt;const Ft=a=>{let e;const[s,t]=k(!0);T(()=>{Dt=setTimeout(()=>{t(!1),setTimeout(()=>{a.onTransitionEnd(e?.offsetTop)},400)},2e3)}),E(()=>{Dt&&clearTimeout(Dt)});{const n=Bt(),l=n.firstChild.firstChild.firstChild,c=l.nextSibling,d=c.firstChild;return"function"==typeof e?me(e,n):e=n,be(l,(()=>{const e=S(()=>!!s());return()=>e()&&V(Et,{})})()),_(e=>{var t=s()?"64px":"100%",n=s()?"32px":"100%",i=Ve("p-4 z-20 text-fade-in w-full",s()?"opacity-0":"opacity-100 p-4"),o=s()?yt()?"32px":"36px":`${a.content?.height??zt}px`,r=a.content?.url;return t!==e._v$&&(null!=(e._v$=t)?l.style.setProperty("width",t):l.style.removeProperty("width")),n!==e._v$2&&(null!=(e._v$2=n)?l.style.setProperty("height",n):l.style.removeProperty("height")),i!==e._v$3&&he(c,e._v$3=i),o!==e._v$4&&(null!=(e._v$4=o)?c.style.setProperty("height",o):c.style.removeProperty("height")),r!==e._v$5&&ge(d,"src",e._v$5=r),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),n}},Ut=Object.getPrototypeOf(async function(){}).constructor,jt=async({content:e,args:t})=>{try{await Ut(...t.map(e=>e.id),Ht(e))(...t.map(e=>e.value))}catch(e){console.warn("Script threw an error:",e)}},Ht=e=>e.replace(/<script>/g,"").replace(/<\/script>/g,""),Gt=async({args:t,content:e})=>{try{await Ut(...Object.keys(t),e)(...Object.keys(t).map(e=>t[e]))}catch(t){console.warn("Script threw an error:",t)}},Vt=ue('<div class="flex flex-col w-full animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><div class="w-full h-full overflow-scroll">');let qt;const Wt=e=>{let t;const[r,n]=k(!0);let i;T(()=>{console.log(e.content.initFunction.content,e.content.initFunction.args),Gt({args:{...e.content.initFunction.args,typebotElement:i},content:e.content.initFunction.content}),e.content.waitForEventFunction&&Gt({args:{...e.content.waitForEventFunction.args,continueFlow:e.onCompleted},content:e.content.waitForEventFunction.content}),qt=setTimeout(()=>{n(!1),setTimeout(()=>e.onTransitionEnd(t?.offsetTop),400)},2e3)}),E(()=>{qt&&clearTimeout(qt)});{const o=Vt(),a=o.firstChild.firstChild.firstChild,s=a.nextSibling,l=s.firstChild;return"function"==typeof t?me(t,o):t=o,be(a,(()=>{const e=S(()=>!!r());return()=>e()&&V(Et,{})})()),"function"==typeof i?me(i,l):i=l,_(e=>{var t=r()?"64px":"100%",n=r()?"32px":"100%",i=Ve("p-2 z-20 text-fade-in w-full",r()?"opacity-0":"opacity-100"),o=r()?yt()?"32px":"36px":void 0;return t!==e._v$&&(null!=(e._v$=t)?a.style.setProperty("width",t):a.style.removeProperty("width")),n!==e._v$2&&(null!=(e._v$2=n)?a.style.setProperty("height",n):a.style.removeProperty("height")),i!==e._v$3&&he(s,e._v$3=i),o!==e._v$4&&(null!=(e._v$4=o)?s.style.setProperty("height",o):s.style.removeProperty("height")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),o}},Kt={alt:"Bubble image"},Yt=ue('<img elementtiming="Bubble image" fetchpriority="high">'),Zt=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),Xt=ue('<a target="_blank">'),Jt=ue("<figure>");let Qt;const en=a=>{let e,t;const[s,n]=k(!0),i=()=>{s()&&(n(!1),setTimeout(()=>{a.onTransitionEnd(e?.offsetTop)},400))},o=(T(()=>{t&&(Qt=setTimeout(i,5e3),t.onload=()=>{clearTimeout(Qt),i()})}),E(()=>{Qt&&clearTimeout(Qt)}),(()=>{const r=Yt();return"function"==typeof t?me(t,r):t=r,r.style.setProperty("max-height","512px"),_(e=>{var t=a.content?.url,n=a.content?.clickLink?.alt??Kt.alt,i="text-fade-in w-full "+(s()?"opacity-0":"opacity-100"),o=s()?"32px":"auto";return t!==e._v$&&ge(r,"src",e._v$=t),n!==e._v$2&&ge(r,"alt",e._v$2=n),i!==e._v$3&&he(r,e._v$3=i),o!==e._v$4&&(null!=(e._v$4=o)?r.style.setProperty("height",o):r.style.removeProperty("height")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})());{const r=Zt(),l=r.firstChild.firstChild,c=l.firstChild;return"function"==typeof e?me(e,r):e=r,be(c,(()=>{const e=S(()=>!!s());return()=>e()?V(Et,{}):null})()),be(l,(()=>{const e=S(()=>!!a.content?.clickLink);return()=>(e()?()=>{const i=Xt();return be(i,o),_(e=>{var t=a.content.clickLink.url,n=Ve("z-10",s()?"h-8":"p-4");return t!==e._v$7&&ge(i,"href",e._v$7=t),n!==e._v$8&&he(i,e._v$8=n),e},{_v$7:void 0,_v$8:void 0}),i}:()=>{const e=Jt();return be(e,o),_(()=>he(e,Ve("z-10",!s()&&"p-4",s()?yt()?"h-8":"h-9":""))),e})()})(),null),_(e=>{var t=s()?"64px":"100%",n=s()?"32px":"100%";return t!==e._v$5&&(null!=(e._v$5=t)?c.style.setProperty("width",t):c.style.removeProperty("width")),n!==e._v$6&&(null!=(e._v$6=n)?c.style.setProperty("height",n):c.style.removeProperty("height")),e},{_v$5:void 0,_v$6:void 0}),r}},tn=ue("<br>"),nn=ue("<span>"),on=e=>{{const t=nn();return be(t,()=>e.text,null),be(t,V(te,{get when(){return S(()=>!!e.isUniqueChild)()&&De(e.text)},get children(){return tn()}}),null),_(()=>he(t,((e,t,n)=>{let i="";return e&&(i+="slate-bold"),t&&(i+=" slate-italic"),n&&(i+=" slate-underline"),i})(e.bold,e.italic,e.underline))),t}},rn=ue('<a target="_blank" rel="noopener noreferrer">'),an=ue("<ol>"),ln=ue("<ul>"),sn=ue("<li>"),cn=ue("<span>"),dn=ue("<div>"),un=t=>V(ne,{get children(){return[V(oe,{get when(){return ze(t.element.text)},get children(){return V(on,Z(()=>t.element,{get isUniqueChild(){return t.isUniqueChild??!1}}))}}),V(oe,{when:!0,get children(){return V(ne,{get children(){return[V(oe,{get when(){return"a"===t.element.type},get children(){const e=rn();return be(e,V(ee,{get each(){return t.element.children},children:e=>V(un,{element:e,get isUniqueChild(){return 1===t.element.children?.length},inElement:!0})})),_(()=>ge(e,"href",t.element.url)),e}}),V(oe,{get when(){return"ol"===t.element.type},get children(){var e=an();return be(e,V(ee,{get each(){return t.element.children},children:e=>V(un,{element:e,get isUniqueChild(){return 1===t.element.children?.length},inElement:!0})})),e}}),V(oe,{get when(){return"ul"===t.element.type},get children(){var e=ln();return be(e,V(ee,{get each(){return t.element.children},children:e=>V(un,{element:e,get isUniqueChild(){return 1===t.element.children?.length},inElement:!0})})),e}}),V(oe,{get when(){return"li"===t.element.type},get children(){var e=sn();return be(e,V(ee,{get each(){return t.element.children},children:e=>V(un,{element:e,get isUniqueChild(){return 1===t.element.children?.length},inElement:!0})})),e}}),V(oe,{when:!0,get children(){return V(pn,{get element(){return t.element},get inElement(){return t.inElement??!1},get children(){return V(ee,{get each(){return t.element.children},children:e=>V(un,{element:e,get isUniqueChild(){return 1===t.element.children?.length},inElement:!0})})}})}})]}})}})]}}),pn=o=>V(ne,{get children(){return[V(oe,{get when(){return o.inElement},get children(){const e=cn();return be(e,()=>o.children),_(()=>ge(e,"data-element-type",o.element.type)),e}}),V(oe,{get when(){return!o.inElement},get children(){const i=dn();return be(i,()=>o.children),_(e=>{var t=o.element.type,n=Ve("variable"===o.element.type&&"flex flex-col gap-6");return t!==e._v$&&ge(i,"data-element-type",e._v$=t),n!==e._v$2&&he(i,e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}})]}}),gn=e=>e.map(e=>e.text??gn(e.children)).join(""),hn={isInputPrefillEnabled:!1,isHideQueryParamsEnabled:!0,isNewResultOnRefreshEnabled:!0,rememberUser:{isEnabled:!1,storage:"session"},isBrandingEnabled:!1,isTypingEmulationEnabled:!0},fn={enabled:!0,speed:300,maxDelay:1.5},mn=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><div>');let bn;const yn=t=>{let e;const[r,n]=k(!0),i=()=>{r()&&(n(!1),setTimeout(()=>{t.onTransitionEnd(e?.offsetTop)},400))};T(()=>{var e;r&&(e=t.content?.richText?gn(t.content.richText):"",e=!1===t.typingEmulation?.enabled?0:(({bubbleContent:e,typingSettings:t})=>{let n=e.match(/(\w+)/g)?.length??0;0===n&&(n=e.length);var{enabled:e,speed:t,maxDelay:i}={enabled:t?.enabled??fn.enabled,speed:t?.speed??fn.speed,maxDelay:t?.maxDelay??fn.maxDelay};let o=e?n/t*6e4:0;return o=o>1e3*i?1e3*i:o})({bubbleContent:e,typingSettings:t.typingEmulation}),bn=setTimeout(i,e))}),E(()=>{bn&&clearTimeout(bn)});{const o=mn(),a=o.firstChild.firstChild.firstChild,s=a.nextSibling;return"function"==typeof e?me(e,o):e=o,be(a,(()=>{const e=S(()=>!!r());return()=>e()&&V(Et,{})})()),be(s,V(ee,{get each(){return t.content?.richText},children:e=>V(un,{element:e})})),_(e=>{var t=r()?"64px":"100%",n=r()?"32px":"100%",i=Ve("overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis",r()?"opacity-0":"opacity-100"),o=r()?yt()?"16px":"20px":"100%";return t!==e._v$&&(null!=(e._v$=t)?a.style.setProperty("width",t):a.style.removeProperty("width")),n!==e._v$2&&(null!=(e._v$2=n)?a.style.setProperty("height",n):a.style.removeProperty("height")),i!==e._v$3&&he(s,e._v$3=i),o!==e._v$4&&(null!=(e._v$4=o)?s.style.setProperty("height",o):s.style.removeProperty("height")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),o}};let vn=function(e){return e.URL="url",e.YOUTUBE="youtube",e.VIMEO="vimeo",e.TIKTOK="tiktok",e.GUMLET="gumlet",e}({});const wn=[vn.YOUTUBE,vn.VIMEO,vn.TIKTOK,vn.GUMLET],xn=400,kn="100%",_n={[vn.VIMEO]:"https://player.vimeo.com/video",[vn.YOUTUBE]:"https://www.youtube.com/embed",[vn.TIKTOK]:"https://www.tiktok.com/embed/v2",[vn.GUMLET]:"https://play.gumlet.io/embed"},$n=ue("<video autoplay controls>"),Sn=ue('<div><iframe class="w-full h-full" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>'),Cn=ue('<div class="flex flex-col w-full animate-fade-in"><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble overflow-hidden w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">');let Tn;const En=l=>{let t;const[c,n]=k(!0);T(()=>{var e=l.content?.type&&wn.includes(l.content?.type)?2e3:100;Tn=setTimeout(()=>{c()&&(n(!1),setTimeout(()=>{l.onTransitionEnd(t?.offsetTop)},400))},e)}),E(()=>{Tn&&clearTimeout(Tn)});{const e=Cn(),i=e.firstChild.firstChild,o=i.firstChild;return"function"==typeof t?me(t,e):t=e,be(o,(()=>{const e=S(()=>!!c());return()=>e()&&V(Et,{})})()),be(i,V(ne,{get children(){return[V(oe,{get when(){return l.content?.type&&l.content.type===vn.URL},get children(){const a=$n();return _(e=>{var t=l.content?.url,n="p-4 focus:outline-none w-full z-10 text-fade-in rounded-md "+(c()?"opacity-0":"opacity-100"),i=c()?yt()?"32px":"36px":"auto",o=l.content?.aspectRatio,r=l.content?.maxWidth??kn;return t!==e._v$&&ge(a,"src",e._v$=t),n!==e._v$2&&he(a,e._v$2=n),i!==e._v$3&&(null!=(e._v$3=i)?a.style.setProperty("height",i):a.style.removeProperty("height")),o!==e._v$4&&(null!=(e._v$4=o)?a.style.setProperty("aspect-ratio",o):a.style.removeProperty("aspect-ratio")),r!==e._v$5&&(null!=(e._v$5=r)?a.style.setProperty("max-width",r):a.style.removeProperty("max-width")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),a}}),V(oe,{get when(){return S(()=>!!l.content?.type)()&&wn.includes(l.content.type)},get children(){const a=Sn(),s=a.firstChild;return _(e=>{var t=Ve("p-4 z-10 text-fade-in w-full",c()?"opacity-0":"opacity-100 p-4"),n=c()?yt()?"32px":"36px":l.content?.aspectRatio?void 0:`${l.content?.height??xn}px`,i=l.content?.aspectRatio,o=l.content?.maxWidth??kn,r=_n[l.content?.type]+"/"+l.content?.id;return t!==e._v$6&&he(a,e._v$6=t),n!==e._v$7&&(null!=(e._v$7=n)?a.style.setProperty("height",n):a.style.removeProperty("height")),i!==e._v$8&&(null!=(e._v$8=i)?a.style.setProperty("aspect-ratio",i):a.style.removeProperty("aspect-ratio")),o!==e._v$9&&(null!=(e._v$9=o)?a.style.setProperty("max-width",o):a.style.removeProperty("max-width")),r!==e._v$10&&ge(s,"src",e._v$10=r),e},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),a}})]}}),null),_(e=>{var t=c()?"64px":"100%",n=c()?"32px":"100%",i=l.content?.maxWidth??kn;return t!==e._v$11&&(null!=(e._v$11=t)?o.style.setProperty("width",t):o.style.removeProperty("width")),n!==e._v$12&&(null!=(e._v$12=n)?o.style.setProperty("height",n):o.style.removeProperty("height")),i!==e._v$13&&(null!=(e._v$13=i)?o.style.setProperty("max-width",i):o.style.removeProperty("max-width")),e},{_v$11:void 0,_v$12:void 0,_v$13:void 0}),e}},An=t=>{const e=e=>{t.onTransitionEnd(e)},n=e=>{t.onCompleted(e)};return V(ne,{get children(){return[V(oe,{get when(){return t.message.type===Pe.TEXT},get children(){return V(yn,{get content(){return t.message.content},get typingEmulation(){return t.typingEmulation},onTransitionEnd:e})}}),V(oe,{get when(){return t.message.type===Pe.IMAGE},get children(){return V(en,{get content(){return t.message.content},onTransitionEnd:e})}}),V(oe,{get when(){return t.message.type===Pe.VIDEO},get children(){return V(En,{get content(){return t.message.content},onTransitionEnd:e})}}),V(oe,{get when(){return t.message.type===Pe.EMBED},get children(){return V(Ft,{get content(){return t.message.content},onTransitionEnd:e})}}),V(oe,{get when(){return"custom-embed"===t.message.type},get children(){return V(Wt,{get content(){return t.message.content},onTransitionEnd:e,onCompleted:n})}}),V(oe,{get when(){return t.message.type===Pe.AUDIO},get children(){return V(Ot,{get content(){return t.message.content},onTransitionEnd:e})}})]}})},In=ue('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></circle></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5">'),Pn=()=>{{const i=In(),o=i.firstChild;return _(e=>{var t="flex justify-center items-center rounded-full text-white relative "+(yt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),n="absolute top-0 left-0 "+(yt()?" w-6 h-6 text-sm":"w-full h-full text-xl");return t!==e._v$&&he(i,e._v$=t),n!==e._v$2&&ge(o,"class",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}},Ln=ue('<figure><img alt="Bot avatar" class="rounded-full object-cover w-full h-full" elementtiming="Bot avatar" fetchpriority="high">'),Mn=e=>{const[r,t]=k(e.initialAvatarSrc);return $(()=>{r()?.startsWith("{{")&&e.initialAvatarSrc?.startsWith("http")&&t(e.initialAvatarSrc)}),V(te,{get when(){return Fe(r())},keyed:!0,get fallback(){return V(Pn,{})},get children(){const i=Ln(),o=i.firstChild;return _(e=>{var t="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(yt()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),n=r();return t!==e._v$&&he(i,e._v$=t),n!==e._v$2&&ge(o,"src",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}})},Rn=ue('<div class="flex justify-end items-end animate-fade-in gap-2 guest-container"><span class="px-4 py-2 whitespace-pre-wrap max-w-full typebot-guest-bubble" data-testid="guest-bubble">'),Nn=e=>{return t=Rn(),n=t.firstChild,t.style.setProperty("margin-left","50px"),be(n,()=>e.message),be(t,V(te,{get when(){return e.showAvatar},get children(){return V(Mn,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),t;var t,n},On={button:Le,placeholder:"Type your answer..."},zn=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Bn=t=>{const[n,i]=k(t.defaultValue??"");let o;const r=e=>i(e),a=()=>{""!==n()&&o?.reportValidity()&&t.onSubmit({value:n()})},e=e=>{t.block.options?.isLong||"Enter"===e.key&&a()},s=e=>{t.block.options?.isLong&&"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&a()},l=(T(()=>{!yt()&&o&&o.focus(),window.addEventListener("message",l)}),E(()=>{window.removeEventListener("message",l)}),e=>{e=e.data;e.isFromTypebot&&"setInputValue"===e.command&&i(e.value)});{const c=zn();return c.$$keydown=e,be(c,(()=>{const e=S(()=>!!t.block.options?.isLong);return()=>e()?V(Lt,{ref(e){"function"==typeof o?o(e):o=e},onInput:r,onKeyDown:s,get value(){return n()},get placeholder(){return t.block.options?.labels?.placeholder??On.placeholder}}):V(It,{ref(e){"function"==typeof o?o(e):o=e},onInput:r,get value(){return n()},get placeholder(){return t.block.options?.labels?.placeholder??On.placeholder}})})(),null),be(c,V(Ct,{type:"button",get isDisabled(){return""===n()},class:"my-2 ml-2","on:click":a,get children(){return t.block.options?.labels?.button??On.button}}),null),_(()=>null!=(t.block.options?.isLong?void 0:"350px")?c.style.setProperty("max-width",t.block.options?.isLong?void 0:"350px"):c.style.removeProperty("max-width")),c}},Dn=(pe(["keydown"]),{button:Le,placeholder:"Type a number..."}),Fn=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="number">'),Un=r=>{const[i,t]=k(r.defaultValue??""),[e,n,o]=[C(()=>i()),function(n){$(function(){var e,t=i();null==t?n.value=t:(e=n.value,(0===t&&""===e||t!=e)&&(n.value=t+""))})},function(e){return e.validity.badInput?i():""!=e.value?e.valueAsNumber:void 0}];let a;const s=()=>{""!==i()&&a?.reportValidity()&&r.onSubmit({value:i().toString()})},l=e=>{"Enter"===e.key&&s()},c=(T(()=>{!yt()&&a&&a.focus(),window.addEventListener("message",c)}),E(()=>{window.removeEventListener("message",c)}),e=>{e=e.data;e.isFromTypebot&&"setInputValue"===e.command&&t(e.value)});{const d=Fn(),u=d.firstChild;return d.$$keydown=l,d.style.setProperty("max-width","350px"),u.$$input=e=>{t(o(e.currentTarget))},me(n,u,()=>!0),"function"==typeof a?me(a,u):a=u,u.style.setProperty("font-size","16px"),u.style.setProperty("appearance","auto"),u.value=e,be(d,V(Ct,{type:"button",get isDisabled(){return""===i()},class:"my-2 ml-2","on:click":s,get children(){return r.block.options?.labels?.button??Dn.button}}),null),_(e=>{var t=r.block.options?.labels?.placeholder??Dn.placeholder,n=r.block.options?.min,i=r.block.options?.max,o=r.block.options?.step??"any";return t!==e._v$&&ge(u,"placeholder",e._v$=t),n!==e._v$2&&ge(u,"min",e._v$2=n),i!==e._v$3&&ge(u,"max",e._v$3=i),o!==e._v$4&&ge(u,"step",e._v$4=o),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d}},jn=(pe(["keydown","input"]),{button:Le,placeholder:"Type your email..."}),Hn=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Gn=e=>{const[t,n]=k(e.defaultValue??"");let i;const o=e=>n(e),r=()=>{""!==t()&&i?.reportValidity()&&e.onSubmit({value:t()})},a=e=>{"Enter"===e.key&&r()},s=(T(()=>{!yt()&&i&&i.focus(),window.addEventListener("message",s)}),E(()=>{window.removeEventListener("message",s)}),e=>{e=e.data;e.isFromTypebot&&"setInputValue"===e.command&&n(e.value)});return(l=Hn()).$$keydown=a,l.style.setProperty("max-width","350px"),be(l,V(It,{ref(e){"function"==typeof i?i(e):i=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??jn.placeholder},onInput:o,type:"email",autocomplete:"email"}),null),be(l,V(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":r,get children(){return e.block.options?.labels?.button??jn.button}}),null),l;var l},Vn=(pe(["keydown"]),{button:Le,placeholder:"Type a URL..."}),qn=ue('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Wn=e=>{const[t,n]=k(e.defaultValue??"");let i;const o=e=>{if(!e.startsWith("https://"))return"https:/"===e?void 0:n("https://"+e);n(e)},r=()=>{""!==t()&&i?.reportValidity()&&e.onSubmit({value:t()})},a=e=>{"Enter"===e.key&&r()},s=(T(()=>{!yt()&&i&&i.focus(),window.addEventListener("message",s)}),E(()=>{window.removeEventListener("message",s)}),e=>{e=e.data;e.isFromTypebot&&"setInputValue"===e.command&&n(e.value)});return(l=qn()).$$keydown=a,l.style.setProperty("max-width","350px"),be(l,V(It,{ref(e){"function"==typeof i?i(e):i=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??Vn.placeholder},onInput:o,type:"url",autocomplete:"url"}),null),be(l,V(Ct,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":r,get children(){return e.block.options?.labels?.button??Vn.button}}),null),l;var l},Kn=(pe(["keydown"]),ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2px" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9">')),Yn=e=>{return fe(t=Kn(),e,!0,!0),t;var t},Zn=[{name:"International",flag:"",code:"INT",dial_code:null},{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Laos",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+64"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],Xn={button:Le,placeholder:"Type your phone number..."},Jn=ue('<div class="flex items-end justify-between pr-2 typebot-input" data-testid="input"><div class="flex"><div class="relative typebot-country-select flex justify-center items-center"><div class="pl-2 pr-1 flex items-center gap-2"><span></span></div><select class="absolute top-0 left-0 w-full h-full cursor-pointer opacity-0">'),Qn=ue("<option> "),eo=t=>{const[i,o]=k(De(t.defaultCountryCode)?"INT":t.defaultCountryCode),[n,r]=k(t.defaultValue??"");let a;const e=n=>{r(n),""!==n&&"+"!==n||"INT"===i()||o("INT");var e=n?.startsWith("+")&&2<n.length&&Zn.reduce((e,t)=>t?.dial_code&&(null===e||e.dial_code)&&n?.startsWith(t.dial_code)&&t.dial_code.length>(e?.dial_code.length??0)?t:e,null);e&&o(e.code)},s=()=>{var e=Zn.find(e=>e.code===i())?.dial_code;""!==n()&&a?.reportValidity()&&t.onSubmit({value:n().startsWith("+")?n():""+(e??"")+n()})},l=e=>{"Enter"===e.key&&s()},c=e=>{const t=e.currentTarget.value;o(t);e=Zn.find(e=>e.code===t)?.dial_code;""===n()&&e&&r(e),a?.focus()},d=(T(()=>{!yt()&&a&&a.focus(),window.addEventListener("message",d)}),E(()=>{window.removeEventListener("message",d)}),e=>{e=e.data;e.isFromTypebot&&"setInputValue"===e.command&&r(e.value)});return u=Jn(),p=u.firstChild,h=p.firstChild.firstChild,f=h.firstChild,g=h.nextSibling,u.$$keydown=l,u.style.setProperty("max-width","400px"),be(f,()=>Zn.find(e=>i()===e.code)?.flag),be(h,V(Yn,{class:"w-3"}),null),g.addEventListener("change",c),be(g,V(ee,{each:Zn,children:e=>{{const t=Qn(),n=t.firstChild;return be(t,()=>e.name,n),be(t,()=>e.dial_code?`(${e.dial_code})`:"",null),_(()=>t.selected=e.code===i()),_(()=>t.value=e.code),t}}})),be(p,V(It,{type:"tel",ref(e){"function"==typeof a?a(e):a=e},get value(){return n()},onInput:e,get placeholder(){return t.labels?.placeholder??Xn.placeholder},get autofocus(){return!yt()}}),null),be(u,V(Ct,{type:"button",get isDisabled(){return""===n()},class:"my-2 ml-2","on:click":s,get children(){return t.labels?.button??Xn.button}}),null),u;var u,p,h,f,g},to=(pe(["keydown"]),{button:Le,from:"From:",to:"To:"}),no=ue('<div class="flex flex-col"><div class="flex items-center"><form class="flex justify-between typebot-input pr-2 items-end"><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input typebot-date-input" data-testid="from-date">'),oo=ue('<p class="font-semibold">'),ro=ue('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2 typebot-date-input" data-testid="to-date">'),io=r=>{const[t,n]=k(ao(r.defaultValue??""));{const e=no(),i=e.firstChild.firstChild,o=i.firstChild,a=o.firstChild,s=a.firstChild;return i.addEventListener("submit",e=>{""===t().from&&""===t().to||(e.preventDefault(),r.onSubmit({value:""+t().from+(r.options?.isRange?" to "+t().to:"")}))}),be(a,(()=>{const t=S(()=>!!r.options?.isRange);return()=>{return t()&&(be(e=oo(),()=>r.options.labels?.from??to.from),e);var e}})(),s),s.addEventListener("change",e=>n({...t(),from:e.currentTarget.value})),s.style.setProperty("min-height","32px"),s.style.setProperty("min-width","100px"),s.style.setProperty("font-size","16px"),be(o,(()=>{const e=S(()=>!!r.options?.isRange);return()=>e()&&(()=>{const e=ro(),o=e.firstChild;return be(e,(()=>{const t=S(()=>!!r.options.isRange);return()=>{return t()&&(be(e=oo(),()=>r.options.labels?.to??to.to),e);var e}})(),o),o.addEventListener("change",e=>n({...t(),to:e.currentTarget.value})),o.style.setProperty("min-height","32px"),o.style.setProperty("min-width","100px"),o.style.setProperty("font-size","16px"),_(e=>{var t=r.options.hasTime?"datetime-local":"date",n=r.options?.min,i=r.options?.max;return t!==e._v$5&&ge(o,"type",e._v$5=t),n!==e._v$6&&ge(o,"min",e._v$6=n),i!==e._v$7&&ge(o,"max",e._v$7=i),e},{_v$5:void 0,_v$6:void 0,_v$7:void 0}),_(()=>o.value=t().to),e})()})(),null),be(i,V(Ct,{get isDisabled(){return S(()=>""===t().to)()&&""===t().from},class:"my-2 ml-2",get children(){return r.options?.labels?.button??to.button}}),null),_(e=>{var t="flex items-center p-4 "+(r.options?.isRange?"pb-0 gap-2":""),n=r.options?.hasTime?"datetime-local":"date",i=r.options?.min,o=r.options?.max;return t!==e._v$&&he(a,e._v$=t),n!==e._v$2&&ge(s,"type",e._v$2=n),i!==e._v$3&&ge(s,"min",e._v$3=i),o!==e._v$4&&ge(s,"max",e._v$4=o),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),_(()=>s.value=t().from),e}},ao=e=>{var t,n;return e.includes("to")?([t,n]=e.split(" to "),{from:t,to:n}):{from:e,to:""}},lo="Numbers",so=10,co={button:Le},uo=ue('<form class="flex flex-col gap-2"><div class="flex flex-wrap justify-center gap-2"></div><div class="flex justify-end">'),po=ue('<span class="text-sm w-full rating-label">'),go=ue('<span class="text-sm w-full text-right pr-2 rating-label">'),ho=ue("<div>"),fo=n=>{const[i,t]=k(n.defaultValue?Number(n.defaultValue):void 0),e=e=>{e.preventDefault();e=i();Be(e)||n.onSubmit({value:e.toString()})},o=e=>{n.block.options?.isOneClickSubmitEnabled&&n.onSubmit({value:e.toString()}),t(e)};return r=uo(),a=r.firstChild,s=a.nextSibling,r.addEventListener("submit",e),be(r,(()=>{const t=S(()=>!!n.block.options?.labels?.left);return()=>{return t()&&(be(e=po(),()=>n.block.options.labels.left),e);var e}})(),a),be(a,V(ee,{get each(){return Array.from(Array((n.block.options?.length??so)+("Numbers"===(n.block.options?.buttonType??lo)?1:0)))},children:(e,t)=>V(mo,Z(()=>n.block.options,{get rating(){return i()},get idx(){return t()+("Numbers"===(n.block.options?.buttonType??lo)?0:1)},onClick:o}))})),be(r,(()=>{const t=S(()=>!!n.block.options?.labels?.right);return()=>{return t()&&(be(e=go(),()=>n.block.options.labels.right),e);var e}})(),s),be(s,(()=>{const e=S(()=>!!ze(i()));return()=>e()&&V(Ct,{disableIcon:!0,get children(){return n.block.options?.labels?.button??co.button}})})()),r;var r,a,s},mo=o=>{const e=e=>{e.preventDefault(),o.onClick(o.idx)};return V(ne,{get children(){return[V(oe,{get when(){return"Numbers"===(o.buttonType??lo)},get children(){return V(St,{"on:click":e,get class(){return o.isOneClickSubmitEnabled||ze(o.rating)&&o.idx<=o.rating?"":"selectable"},get children(){return o.idx}})}}),V(oe,{get when(){return"Numbers"!==(o.buttonType??lo)},get children(){const i=ho();return i.addEventListener("click",()=>o.onClick(o.idx)),_(e=>{var t="flex justify-center items-center rating-icon-container cursor-pointer "+(ze(o.rating)&&o.idx<=o.rating?"selected":""),n=o.customIcon?.isEnabled&&!De(o.customIcon.svg)?o.customIcon.svg:bo;return t!==e._v$&&he(i,e._v$=t),n!==e._v$2&&(i.innerHTML=e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}})]}})},bo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>',yo=async({apiHost:n,files:e,onUploadProgress:t})=>{var i,o,r=[];let a=0;for({input:i,file:o}of e){t&&t(a/e.length*100),a+=1;var s=(await Oe({method:"POST",url:n+"/api/v1/generate-upload-url",body:{filePathProps:i,fileType:o.type}}))["data"];if(s?.presignedUrl){const n=new FormData;Object.entries(s.formData).forEach(([e,t])=>{n.append(e,t)}),n.append("file",o),(await fetch(s.presignedUrl,{method:"POST",body:n})).ok&&r.push(s.fileUrl)}}return r},vo={isRequired:!0,isMultipleAllowed:!1,labels:{placeholder:"<strong>\n      Click to upload\n    </strong> or drag and drop<br>\n    (size limit: 10MB)",button:"Upload",clear:"Clear",skip:"Skip"}},wo=ue('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full">'),xo=ue('<span class="relative"><div class="total-files-indicator flex items-center justify-center absolute -right-1 rounded-full px-1 w-4 h-4">'),ko=ue('<div class="flex flex-col justify-center items-center"><p class="text-sm text-gray-500 text-center">'),_o=ue('<input id="dropzone-file" type="file" class="hidden">'),$o=ue('<div class="flex justify-end">'),So=ue('<div class="flex justify-end"><div class="flex gap-2">'),Co=ue('<p class="text-red-500 text-sm">'),To=ue('<form class="flex flex-col w-full gap-2"><label for="dropzone-file">'),Eo=ue('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16">'),Ao=ue('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9">'),Io=i=>{const[o,r]=k([]),[e,a]=k(!1),[n,s]=k(0),[t,l]=k(!1),[c,d]=k(),u=e=>{d(void 0);const t=Array.from(e),n=i.block.options&&"sizeLimit"in i.block.options?i.block.options?.sizeLimit??ht("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE"):void 0;return n&&t.some(e=>e.size>1024*n*1024)?d(`A file is larger than ${n}MB`):!i.block.options?.isMultipleAllowed&&e?h(t[0]):void r([...o(),...t])},p=async e=>{e.preventDefault(),0!==o().length&&(async e=>{const t=i.context.resultId;if(i.context.isPreview||!t)return i.onSubmit({label:`${e.length} file${e.length>1?"s":""} uploaded`,value:e.map((e,t)=>`http://fake-upload-url.com/${t}`).join(", ")});a(!0);const n=await yo({apiHost:i.context.apiHost??ft(),files:e.map(e=>({file:e,input:{sessionId:i.context.sessionId,fileName:e.name}})),onUploadProgress:s});if(a(!1),s(0),n.length!==e.length)return d("An error occured while uploading the files");i.onSubmit({label:`${n.length} file${n.length>1?"s":""} uploaded`,value:n.filter(ze).map(Mo).join(", ")})})(o())},h=async e=>{if(i.context.isPreview||!i.context.resultId)return i.onSubmit({label:"File uploaded",value:"http://fake-upload-url.com"});a(!0);e=await yo({apiHost:i.context.apiHost??ft(),files:[{file:e,input:{sessionId:i.context.sessionId,fileName:e.name}}]});if(a(!1),e.length)return i.onSubmit({label:"File uploaded",value:e[0]?Mo(e[0]):""});d("An error occured while uploading the file")},f=e=>{e.preventDefault(),l(!0)},g=()=>l(!1),m=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&u(e.dataTransfer.files)},v=()=>r([]),b=()=>i.onSkip(i.block.options?.labels?.skip??vo.labels.skip);{const y=To(),w=y.firstChild;return y.addEventListener("submit",p),w.addEventListener("drop",m),w.addEventListener("dragleave",g),w.addEventListener("dragover",f),be(w,V(ne,{get children(){return[V(oe,{get when(){return e()},get children(){return V(te,{get when(){return 1<o().length},get fallback(){return V(_t,{})},get children(){const e=wo(),t=e.firstChild;return t.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),_(()=>null!=`${0<n()?n:10}%`?t.style.setProperty("width",`${0<n()?n:10}%`):t.style.removeProperty("width")),e}})}}),V(oe,{get when(){return!e()},get children(){return[(()=>{const e=ko(),t=e.firstChild;return be(e,V(te,{get when(){return o().length},get fallback(){return V(Po,{})},get children(){var e=xo(),t=e.firstChild;return be(e,V(Lo,{}),t),t.style.setProperty("bottom","5px"),be(t,()=>o().length),e}}),t),_(()=>t.innerHTML=i.block.options?.labels?.placeholder??vo.labels.placeholder),e})(),(()=>{const e=_o();return e.addEventListener("change",e=>{e.currentTarget.files&&u(e.currentTarget.files)}),_(()=>e.multiple=i.block.options?.isMultipleAllowed??vo.isMultipleAllowed),e})()]}})]}})),be(y,V(te,{get when(){return 0===o().length&&!1===i.block.options?.isRequired},get children(){var e=$o();return be(e,V(St,{"on:click":b,get children(){return i.block.options?.labels?.skip??vo.labels.skip}})),e}}),null),be(y,V(te,{get when(){return S(()=>!!(i.block.options?.isMultipleAllowed&&0<o().length))()&&!e()},get children(){var e=So(),t=e.firstChild;return be(t,V(te,{get when(){return o().length},get children(){return V(St,{variant:"secondary","on:click":v,get children(){return i.block.options?.labels?.clear??vo.labels.clear}})}}),null),be(t,V(Ct,{type:"submit",disableIcon:!0,get children(){return S(()=>(i.block.options?.labels?.button??vo.labels.button)===vo.labels.button)()?`Upload ${o().length} file`+(1<o().length?"s":""):i.block.options?.labels?.button}}),null),e}}),null),be(y,V(te,{get when(){return c()},get children(){var e=Co();return be(e,c),e}}),null),_(()=>he(w,"typebot-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 "+(t()?"dragging-over":""))),y}},Po=()=>Eo(),Lo=()=>Ao(),Mo=e=>{var t,n=e.split("/").pop();return n?(t=encodeURIComponent(n),e.replace(n,t)):e},Ro=(function(e){return e.STRIPE="Stripe",e}({}).STRIPE,{button:"Pay",success:"Success"}),No=ue('<div class="typebot-input-error-message mt-4 text-center animate-fade-in">'),Oo=ue('<form id="payment-form" class="flex flex-col p-4 typebot-input w-full items-center"><slot name="stripe-payment-form">');let zo,Bo=null,Do=null;const Fo=r=>{const[t,a]=k(),[e,i]=k(!1),[n,s]=k(!1),o=(T(async()=>{if(Uo(zo),!r.options?.publicKey)return a("Missing Stripe public key");var n;(Bo=(n=r.options?.publicKey,await new Promise(e=>{if(window.Stripe)return e(window.Stripe(n));var t=document.createElement("script");t.src="https://js.stripe.com/v3",document.body.appendChild(t),t.onload=()=>{if(!window.Stripe)throw new Error("Stripe.js failed to load.");e(window.Stripe(n))}})))&&((Do=Bo.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(zo).getPropertyValue("--typebot-button-bg-color")}},clientSecret:r.options.paymentIntentSecret})).create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout(()=>{i(!0),r.onTransitionEnd()},1e3))}),async e=>{if(e.preventDefault(),Bo&&Do){s(!0),e={sessionId:r.context.sessionId,typebot:r.context.typebot},sessionStorage.setItem("typebotPaymentInProgress",JSON.stringify(e));const{postalCode:t,...n}=r.options?.additionalInformation?.address??{},{error:i,paymentIntent:o}=await Bo.confirmPayment({elements:Do,confirmParams:{return_url:window.location.href,payment_method_data:{billing_details:{name:r.options?.additionalInformation?.name,email:r.options?.additionalInformation?.email,phone:r.options?.additionalInformation?.phoneNumber,address:{...n,postal_code:t}}}},redirect:"if_required"});return bt(),s(!1),"validation_error"!==i?.type?"card_error"===i?.type?a(i.message):i||"succeeded"!==o.status?void 0:r.onSuccess():void 0}});return l=Oo(),c=l.firstChild,l.addEventListener("submit",o),"function"==typeof zo?me(zo,c):zo=c,c._$owner=f,be(l,V(te,{get when(){return e()},get children(){return V(Ct,{get isLoading(){return n()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[S(()=>r.options?.labels?.button??Ro.button)," ",S(()=>r.options?.amountLabel)]}})}}),null),be(l,V(te,{get when(){return t()},get children(){var e=No();return be(e,t),e}}),null),l;var l,c},Uo=e=>{var e=e.getRootNode().host,t=document.createElement("div"),e=(t.style.width="100%",t.slot="stripe-payment-form",e.appendChild(t),document.createElement("div"));e.id="payment-element",t.appendChild(e)},jo=e=>V(Fo,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context},get onTransitionEnd(){return e.onTransitionEnd}}),Ho=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3px" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12">'),Go=e=>{return fe(t=Ho(),e,!0,!0),t;var t},Vo=ue("<div>"),qo=e=>{{const t=Vo();return be(t,V(te,{get when(){return e.isChecked},get children(){return V(Go,{})}})),_(()=>he(t,"w-4 h-4 typebot-checkbox"+(e.isChecked?" checked":"")+(e.class?" "+e.class:""))),t}},Wo=ue('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2px" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18">'),Ko=e=>{return fe(t=Wo(),e,!0,!0),t;var t},Yo=ue('<button class="w-5 h-5">'),Zo=ue('<div class="flex justify-between items-center gap-2 w-full pr-4"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),Xo=e=>{const[t,n]=k(""),[i,o]=X(e,["onInput","ref"]),r=()=>{n(""),e.onClear()};return a=Zo(),(s=a.firstChild).$$input=e=>{return e=e.currentTarget.value,n(e),void i.onInput(e)},"function"==typeof(l=e.ref)?me(l,s):e.ref=s,s.style.setProperty("font-size","16px"),fe(s,Z({get value(){return t()}},o),!1,!1),be(a,V(te,{get when(){return 0<t().length},get children(){var e=Yo();return e.addEventListener("click",r),be(e,V(Ko,{})),e}}),null),a;var a,s,l},Jo=(pe(["input"]),ue('<div class="flex items-end typebot-input w-full">')),Qo=ue('<form class="flex flex-col items-end gap-2 w-full"><div>'),er=ue('<span><div role="checkbox"><div class="flex items-center gap-2"><span>'),tr=ue('<span><div role="checkbox" aria-checked class="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable selected"><div class="flex items-center gap-2"><span>'),nr=r=>{let t;const[e,n]=k(r.defaultItems),[l,i]=k([]),c=(T(()=>{!yt()&&t&&t.focus()}),e=>{{var t=e,n=l().indexOf(t);i(-1!==n?e=>e.filter(e=>e!==t):e=>[...e,t])}}),o=()=>r.onSubmit({value:l().map(t=>r.defaultItems.find(e=>e.id===t)?.content).join(", ")}),a=t=>{n(r.defaultItems.filter(e=>e.content?.toLowerCase().includes((t??"").toLowerCase())))};{const s=Qo(),d=s.firstChild;return s.addEventListener("submit",o),be(s,V(te,{get when(){return r.options?.isSearchable},get children(){var e=Jo();return be(e,V(Xo,{ref(e){"function"==typeof t?t(e):t=e},onInput:a,get placeholder(){return r.options?.searchInputPlaceholder??Ne},onClear:()=>n(r.defaultItems)})),e}}),d),be(d,V(ee,{get each(){return e()},children:r=>{{const a=er(),s=a.firstChild,e=s.firstChild,t=e.firstChild;return s.addEventListener("click",()=>c(r.id)),be(e,V(qo,{get isChecked(){return l().some(e=>e===r.id)},class:"flex-shrink-0"}),t),be(t,()=>r.content),_(e=>{var t="relative"+(yt()?" w-full":""),n=l().some(e=>e===r.id),i="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable"+(l().some(e=>e===r.id)?" selected":""),o=r.id;return t!==e._v$&&he(a,e._v$=t),n!==e._v$2&&ge(s,"aria-checked",e._v$2=n),i!==e._v$3&&he(s,e._v$3=i),o!==e._v$4&&ge(s,"data-itemid",e._v$4=o),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),a}}}),null),be(d,V(ee,{get each(){return l().filter(t=>e().every(e=>e.id!==t))},children:t=>{{const e=tr(),n=e.firstChild,i=n.firstChild,o=i.firstChild;return n.addEventListener("click",()=>c(t)),ge(n,"data-itemid",t),be(i,V(qo,{isChecked:!0}),o),be(o,()=>r.defaultItems.find(e=>e.id===t)?.content),_(()=>he(e,"relative"+(yt()?" w-full":""))),e}}}),null),be(s,(()=>{const e=S(()=>0<l().length);return()=>e()&&V(Ct,{disableIcon:!0,get children(){return r.options?.buttonLabel??Re}})})(),null),_(()=>he(d,"flex flex-wrap justify-end gap-2"+(r.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":""))),s}},or=ue('<div class="flex items-end typebot-input w-full">'),rr=ue('<div class="flex flex-col gap-2 w-full"><div>'),ir=ue("<span>"),ar=ue('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-200 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-150">'),lr=i=>{let t;const[o,n]=k(i.defaultItems),r=(T(()=>{!yt()&&t&&t.focus()}),t=>{n(i.defaultItems.filter(e=>e.content?.toLowerCase().includes((t??"").toLowerCase())))});{const e=rr(),a=e.firstChild;return be(e,V(te,{get when(){return i.options?.isSearchable},get children(){var e=or();return be(e,V(Xo,{ref(e){"function"==typeof t?t(e):t=e},onInput:r,get placeholder(){return i.options?.searchInputPlaceholder??Ne},onClear:()=>n(i.defaultItems)})),e}}),a),be(a,V(ee,{get each(){return o()},children:(e,t)=>{{const n=ir();return be(n,V(St,{"on:click":()=>{return e=t(),i.onSubmit({value:o()[e].content??""});var e},get"data-itemid"(){return e.id},class:"w-full",get children(){return e.content}}),null),be(n,(()=>{const e=S(()=>!(0!==i.inputIndex||1!==i.defaultItems.length));return()=>e()&&ar()})(),null),_(()=>he(n,"relative"+(yt()?" w-full":""))),n}}})),_(()=>he(a,"flex flex-wrap justify-end gap-2"+(i.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":""))),e}},sr=ue('<div class="flex items-end typebot-input w-full">'),cr=ue('<div class="flex flex-col gap-2 w-full"><div>'),dr=ue('<button><img fetchpriority="high" class="m-auto"><div><span class="font-semibold"></span><span class="text-sm whitespace-pre-wrap text-left">'),ur=n=>{let t;const[i,o]=k(n.defaultItems),[e,r]=k(0),a=(T(()=>{!yt()&&t&&t.focus()}),t=>{o(n.defaultItems.filter(e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase())))}),p=($(()=>{e()===n.defaultItems.filter(e=>ze(e.pictureSrc)).length&&n.onTransitionEnd()}),()=>{r(e=>e+1)});{const s=cr(),l=s.firstChild;return be(s,V(te,{get when(){return n.options?.isSearchable},get children(){var e=sr();return be(e,V(Xo,{ref(e){"function"==typeof t?t(e):t=e},onInput:a,get placeholder(){return n.options?.searchInputPlaceholder??""},onClear:()=>o(n.defaultItems)})),e}}),l),be(l,V(ee,{get each(){return i()},children:(s,l)=>{{const c=dr(),d=c.firstChild,u=d.nextSibling,e=u.firstChild,t=e.nextSibling;return c.addEventListener("click",()=>{var e=l();return e=i()[e],n.onSubmit({label:e.title??e.pictureSrc??e.id,value:e.id})}),d.addEventListener("load",p),be(e,()=>s.title),be(t,()=>s.description),_(e=>{var t=s.id,n="flex flex-col typebot-picture-button focus:outline-none filter hover:brightness-90 active:brightness-75 justify-between  "+(Ue(s.pictureSrc)?"has-svg":""),i=s.pictureSrc,o=s.title??"Picture "+(l()+1),r="Picture choice "+(l()+1),a="flex flex-col gap-1 py-2 flex-shrink-0 px-4 w-full"+(s.description?" items-start":"");return t!==e._v$&&ge(c,"data-itemid",e._v$=t),n!==e._v$2&&he(c,e._v$2=n),i!==e._v$3&&ge(d,"src",e._v$3=i),o!==e._v$4&&ge(d,"alt",e._v$4=o),r!==e._v$5&&ge(d,"elementtiming",e._v$5=r),a!==e._v$6&&he(u,e._v$6=a),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),c}}})),_(()=>he(l,"gap-2 flex flex-wrap justify-end"+(n.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":""))),s}},pr=Le,gr="Filter the options...",hr=ue('<div class="flex items-end typebot-input w-full">'),fr=ue('<form class="flex flex-col gap-2 w-full items-end"><div>'),mr=ue('<span class="font-semibold">'),br=ue('<span class="text-sm whitespace-pre-wrap text-left">'),yr=ue('<div class="flex flex-col gap-1 ">'),vr=ue('<div role="checkbox"><img fetchpriority="high" class="m-auto"><div>'),wr=ue('<div role="checkbox" aria-checked class="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture selected"><img fetchpriority="high"><div>'),xr=u=>{let t;const[e,n]=k(u.defaultItems),[h,i]=k([]),[o,r]=k(0),f=(T(()=>{!yt()&&t&&t.focus()}),e=>{{var t=e,n=h().indexOf(t);i(-1!==n?e=>e.filter(e=>e!==t):e=>[...e,t])}}),a=()=>u.onSubmit({value:h().map(t=>{var e=u.defaultItems.find(e=>e.id===t);return e?.title??e?.pictureSrc}).join(", ")}),s=t=>{n(u.defaultItems.filter(e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase())))},g=($(()=>{o()===u.defaultItems.filter(e=>ze(e.pictureSrc)).length&&u.onTransitionEnd()}),()=>{r(e=>e+1)});{const l=fr(),c=l.firstChild;return l.addEventListener("submit",a),be(l,V(te,{get when(){return u.options?.isSearchable},get children(){var e=hr();return be(e,V(Xo,{ref(e){"function"==typeof t?t(e):t=e},onInput:s,get placeholder(){return u.options?.searchInputPlaceholder??gr},onClear:()=>n(u.defaultItems)})),e}}),c),be(c,V(ee,{get each(){return e()},children:(l,c)=>{{const d=vr(),u=d.firstChild,p=u.nextSibling;return d.addEventListener("click",()=>f(l.id)),u.addEventListener("load",g),be(p,V(qo,{get isChecked(){return h().some(e=>e===l.id)},get class(){return"flex-shrink-0"+(l.title||l.description?" mt-1":void 0)}}),null),be(p,V(te,{get when(){return l.title||l.description},get children(){var e=yr();return be(e,V(te,{get when(){return l.title},get children(){var e=mr();return be(e,()=>l.title),e}}),null),be(e,V(te,{get when(){return l.description},get children(){var e=br();return be(e,()=>l.description),e}}),null),e}}),null),_(e=>{var t=h().some(e=>e===l.id),n="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture"+(h().some(e=>e===l.id)?" selected":"")+(Ue(l.pictureSrc)?" has-svg":""),i=l.id,o=l.pictureSrc,r=l.title??"Picture "+(c()+1),a="Picture choice "+(c()+1),s="flex gap-3 py-2 flex-shrink-0"+(De(l.title)&&De(l.description)?" justify-center":" px-3");return t!==e._v$&&ge(d,"aria-checked",e._v$=t),n!==e._v$2&&he(d,e._v$2=n),i!==e._v$3&&ge(d,"data-itemid",e._v$3=i),o!==e._v$4&&ge(u,"src",e._v$4=o),r!==e._v$5&&ge(u,"alt",e._v$5=r),a!==e._v$6&&ge(u,"elementtiming",e._v$6=a),s!==e._v$7&&he(p,e._v$7=s),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),d}}}),null),be(c,V(ee,{get each(){return h().filter(t=>e().every(e=>e.id!==t)).map(t=>u.defaultItems.find(e=>e.id===t)).filter(ze)},children:(a,s)=>{{const l=wr(),c=l.firstChild,d=c.nextSibling;return l.addEventListener("click",()=>f(a.id)),be(d,V(qo,{get isChecked(){return h().some(e=>e===a.id)},get class(){return"flex-shrink-0"+(a.title||a.description?" mt-1":void 0)}}),null),be(d,V(te,{get when(){return a.title||a.description},get children(){var e=yr();return be(e,V(te,{get when(){return a.title},get children(){var e=mr();return be(e,()=>a.title),e}}),null),be(e,V(te,{get when(){return a.description},get children(){var e=br();return be(e,()=>a.description),e}}),null),e}}),null),_(e=>{var t=a.id,n=u.defaultItems.find(e=>e.id===a.id)?.pictureSrc,i=a.title??"Selected picture "+(s()+1),o="Selected picture choice "+(s()+1),r="flex gap-3 py-2 flex-shrink-0"+(De(a.title)&&De(a.description)?" justify-center":" pl-4");return t!==e._v$8&&ge(l,"data-itemid",e._v$8=t),n!==e._v$9&&ge(c,"src",e._v$9=n),i!==e._v$10&&ge(c,"alt",e._v$10=i),o!==e._v$11&&ge(c,"elementtiming",e._v$11=o),r!==e._v$12&&he(d,e._v$12=r),e},{_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),l}}}),null),be(l,(()=>{const e=S(()=>0<h().length);return()=>e()&&V(Ct,{disableIcon:!0,get children(){return u.options?.buttonLabel??pr}})})(),null),_(()=>he(c,"flex flex-wrap justify-end gap-2"+(u.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":""))),l}},[kr,_r]=k([]);let $r=function(e){return e.COLOR="Color",e.IMAGE="Image",e.NONE="None",e}({});const Sr={chat:{roundness:"medium",hostBubbles:{backgroundColor:"#F7F8FF",color:"#303235"},guestBubbles:{backgroundColor:"#FF8E21",color:"#FFFFFF"},buttons:{backgroundColor:"#0042DA",color:"#FFFFFF"},inputs:{backgroundColor:"#FFFFFF",color:"#303235",placeholderColor:"#9095A0"},hostAvatar:{isEnabled:!0},guestAvatar:{isEnabled:!1}},general:{font:"Open Sans",background:{type:$r.COLOR,content:"#ffffff"}}},Cr=ue('<div class="flex justify-end animate-fade-in gap-2">'),Tr=ue("<div>"),Er=n=>{const[i,o]=k(),[e,t]=k(),r=async({label:e,value:t})=>{o(e??t),n.onSubmit(t??e)},a=e=>{o(e),n.onSkip()};return $(()=>{var e=kr().findLast(e=>n.inputIndex===e.inputIndex)?.formattedMessage;e&&t(e)}),V(ne,{get children(){return[V(oe,{get when(){return i()&&!n.hasError},get children(){return V(Nn,{get message(){return e()??i()},get showAvatar(){return n.guestAvatar?.isEnabled??Sr.chat.guestAvatar.isEnabled},get avatarSrc(){return n.guestAvatar?.url&&n.guestAvatar.url}})}}),V(oe,{get when(){return Be(i())||n.hasError},get children(){const e=Cr(),t=n.ref;return"function"==typeof t?me(t,e):n.ref=e,be(e,(()=>{const e=S(()=>!!n.hasHostAvatar);return()=>e()&&(()=>{const e=Tr();return _(()=>he(e,"flex flex-shrink-0 items-center "+(yt()?"w-6 h-6":"w-10 h-10"))),e})()})(),null),be(e,V(Ar,{get context(){return n.context},get block(){return n.block},get inputIndex(){return n.inputIndex},get isInputPrefillEnabled(){return n.isInputPrefillEnabled},get existingAnswer(){return S(()=>!!n.hasError)()?i():void 0},get onTransitionEnd(){return n.onTransitionEnd},onSubmit:r,onSkip:a}),null),_(()=>ge(e,"data-blockid",n.block.id)),e}})]}})},Ar=t=>{const n=e=>t.onSubmit(e),e=()=>t.existingAnswer??(t.isInputPrefillEnabled?t.block.prefilledValue:void 0),i=()=>t.onSubmit({value:t.block.options?.labels?.success??Ro.success});return V(ne,{get children(){return[V(oe,{get when(){return t.block.type===Me.TEXT},get children(){return V(Bn,{get block(){return t.block},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.NUMBER},get children(){return V(Un,{get block(){return t.block},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.EMAIL},get children(){return V(Gn,{get block(){return t.block},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.URL},get children(){return V(Wn,{get block(){return t.block},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.PHONE},get children(){return V(eo,{get labels(){return t.block.options?.labels},get defaultCountryCode(){return t.block.options?.defaultCountryCode},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.DATE},get children(){return V(io,{get options(){return t.block.options},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return Ir(t.block)},keyed:!0,children:e=>V(ne,{get children(){return[V(oe,{get when(){return!e.options?.isMultipleChoice},get children(){return V(lr,{get inputIndex(){return t.inputIndex},get defaultItems(){return e.items},get options(){return e.options},onSubmit:n})}}),V(oe,{get when(){return e.options?.isMultipleChoice},get children(){return V(nr,{get inputIndex(){return t.inputIndex},get defaultItems(){return e.items},get options(){return e.options},onSubmit:n})}})]}})}),V(oe,{get when(){return Pr(t.block)},keyed:!0,children:e=>V(ne,{get children(){return[V(oe,{get when(){return!e.options?.isMultipleChoice},get children(){return V(ur,{get defaultItems(){return e.items},get options(){return e.options},onSubmit:n,get onTransitionEnd(){return t.onTransitionEnd}})}}),V(oe,{get when(){return e.options?.isMultipleChoice},get children(){return V(xr,{get defaultItems(){return e.items},get options(){return e.options},onSubmit:n,get onTransitionEnd(){return t.onTransitionEnd}})}})]}})}),V(oe,{get when(){return t.block.type===Me.RATING},get children(){return V(fo,{get block(){return t.block},get defaultValue(){return e()},onSubmit:n})}}),V(oe,{get when(){return t.block.type===Me.FILE},get children(){return V(Io,{get context(){return t.context},get block(){return t.block},onSubmit:n,get onSkip(){return t.onSkip}})}}),V(oe,{get when(){return t.block.type===Me.PAYMENT},get children(){return V(jo,{get context(){return t.context},get options(){return{...t.block.options,...t.block.runtimeOptions}},onSuccess:i,get onTransitionEnd(){return t.onTransitionEnd}})}})]}})},Ir=e=>e?.type===Me.CHOICE?e:void 0,Pr=e=>e?.type===Me.PICTURE_CHOICE?e:void 0,Lr=ue("<div><div>"),Mr=o=>{let e;const[r,t]=k(0),n=new ResizeObserver(e=>t(e[0].target.clientHeight-(yt()?24:40)));T(()=>{e&&n.observe(e)}),E(()=>{e&&n.unobserve(e)});{const a=Lr(),s=a.firstChild;return"function"==typeof e?me(e,a):e=a,s.style.setProperty("transition","top 350ms ease-out, opacity 250ms ease-out"),be(s,V(Mn,{get initialAvatarSrc(){return o.hostAvatarSrc}})),_(e=>{var t="flex flex-shrink-0 items-center relative typebot-avatar-container "+(yt()?"w-6":"w-10"),n="absolute flex items-center top-0"+(yt()?" w-6 h-6":" w-10 h-10")+(o.hideAvatar?" opacity-0":" opacity-100"),i=r()+"px";return t!==e._v$&&he(a,e._v$=t),n!==e._v$2&&he(s,e._v$2=n),i!==e._v$3&&(null!=(e._v$3=i)?s.style.setProperty("top",i):s.style.removeProperty("top")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),a}},[Rr,Nr]=k();function Or(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let zr={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Br(e){zr=e}const Dr=/[&<>"']/,Fr=new RegExp(Dr.source,"g"),Ur=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jr=new RegExp(Ur.source,"g"),Hr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gr=e=>Hr[e];function Vr(e,t){if(t){if(Dr.test(e))return e.replace(Fr,Gr)}else if(Ur.test(e))return e.replace(jr,Gr);return e}const qr=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Wr(e){return e.replace(qr,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Kr=/(^|[^\[])\^/g;function Yr(n,e){n="string"==typeof n?n:n.source,e=e||"";const i={replace:(e,t)=>(t=(t="object"==typeof t&&"source"in t?t.source:t).replace(Kr,"$1"),n=n.replace(e,t),i),getRegex:()=>new RegExp(n,e)};return i}function Zr(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const Xr={exec:()=>null};function Jr(e,t){var n=e.replace(/\|/g,(e,t,n)=>{let i=!1,o=t;for(;0<=--o&&"\\"===n[o];)i=!i;return i?"|":" |"}).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),0<n.length&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Qr(e,t,n){var i=e.length;if(0===i)return"";let o=0;for(;o<i;){var r=e.charAt(i-o-1);if((r!==t||n)&&(r===t||!n))break;o++}return e.slice(0,i-o)}function ei(e,t,n,i){var o=t.href,t=t.title?Vr(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"===e[0].charAt(0))return{type:"image",raw:n,href:o,title:t,text:Vr(r)};{i.state.inLink=!0;const e={type:"link",raw:n,href:o,title:t,text:r,tokens:i.inlineTokens(r)};return i.state.inLink=!1,e}}class ti{options;rules;lexer;constructor(e){this.options=e||zr}space(e){e=this.rules.block.newline.exec(e);if(e&&0<e[0].length)return{type:"space",raw:e[0]}}code(e){var t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Qr(e,"\n")}}}fences(e){var t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){e=e.match(/^(\s+)(?:```)/);if(null===e)return t;const n=e[1];return t.split("\n").map(e=>{var t=e.match(/^\s+/);return null!==t&&([t]=t,t.length>=n.length)?e.slice(n.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]&&t[2].trim().replace(this.rules.inline._escapes,"$1"),text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Qr(e,"#");!this.options.pedantic&&t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){e=this.rules.block.hr.exec(e);if(e)return{type:"hr",raw:e[0]}}blockquote(e){var t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;var n=this.lexer.blockTokens(e);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:n,text:e}}}list(d){let u=this.rules.block.list.exec(d);if(u){let e=u[1].trim();var t=1<e.length,p={type:"list",raw:"",ordered:t,start:t?+e.slice(0,-1):"",loose:!1,items:[]},h=(e=t?"\\d{1,9}\\"+e.slice(-1):"\\"+e,this.options.pedantic&&(e=t?e:"[*+-]"),new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`));let s="",l="",c=!1;for(;d;){let e=!1;if(!(u=h.exec(d)))break;if(this.rules.block.hr.test(d))break;s=u[0],d=d.substring(s.length);let t=u[2].split("\n",1)[0].replace(/^\t+/,e=>" ".repeat(3*e.length)),n=d.split("\n",1)[0],i=0,o=(this.options.pedantic?(i=2,l=t.trimStart()):(i=4<(i=u[2].search(/[^ ]/))?1:i,l=t.slice(i),i+=u[1].length),!1);if(!t&&/^ *$/.test(n)&&(s+=n+"\n",d=d.substring(n.length+1),e=!0),!e){const u=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),g=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),m=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),v=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;d;){var f=d.split("\n",1)[0];if(n=f,this.options.pedantic&&(n=n.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),m.test(n))break;if(v.test(n))break;if(u.test(n))break;if(g.test(d))break;if(n.search(/[^ ]/)>=i||!n.trim())l+="\n"+n.slice(i);else{if(o)break;if(4<=t.search(/[^ ]/))break;if(m.test(t))break;if(v.test(t))break;if(g.test(t))break;l+="\n"+n}o||n.trim()||(o=!0),s+=f+"\n",d=d.substring(f.length+1),t=n.slice(i)}}p.loose||(c?p.loose=!0:/\n *\n *$/.test(s)&&(c=!0));let r,a=null;this.options.gfm&&(a=/^\[[ xX]\] /.exec(l))&&(r="[ ] "!==a[0],l=l.replace(/^\[[ xX]\] +/,"")),p.items.push({type:"list_item",raw:s,task:!!a,checked:r,loose:!1,text:l,tokens:[]}),p.raw+=s}p.items[p.items.length-1].raw=s.trimEnd(),p.items[p.items.length-1].text=l.trimEnd(),p.raw=p.raw.trimEnd();for(let e=0;e<p.items.length;e++)if(this.lexer.state.top=!1,p.items[e].tokens=this.lexer.blockTokens(p.items[e].text,[]),!p.loose){const u=p.items[e].tokens.filter(e=>"space"===e.type),n=0<u.length&&u.some(e=>/\n.*\n/.test(e.raw));p.loose=n}if(p.loose)for(let e=0;e<p.items.length;e++)p.items[e].loose=!0;return p}}html(e){e=this.rules.block.html.exec(e);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(e){var t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]&&t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1");return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(r){var e=this.rules.block.table.exec(r);if(e&&/[:|]/.test(e[2])){const r={type:"table",raw:e[0],header:Jr(e[1]).map(e=>({text:e,tokens:[]})),align:e[2].replace(/^\||\| *$/g,"").split("|"),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){let e,t,n,i,o=r.align.length;for(e=0;e<o;e++){var a=r.align[e];a&&(/^ *-+: *$/.test(a)?r.align[e]="right":/^ *:-+: *$/.test(a)?r.align[e]="center":/^ *:-+ *$/.test(a)?r.align[e]="left":r.align[e]=null)}for(o=r.rows.length,e=0;e<o;e++)r.rows[e]=Jr(r.rows[e],r.header.length).map(e=>({text:e,tokens:[]}));for(o=r.header.length,t=0;t<o;t++)r.header[t].tokens=this.lexer.inline(r.header[t].text);for(o=r.rows.length,t=0;t<o;t++)for(i=r.rows[t],n=0;n<i.length;n++)i[n].tokens=this.lexer.inline(i[n].text);return r}}}lheading(e){e=this.rules.block.lheading.exec(e);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(e){var t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){e=this.rules.block.text.exec(e);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(e){e=this.rules.inline.escape.exec(e);if(e)return{type:"escape",raw:e[0],text:Vr(e[1])}}tag(e){e=this.rules.inline.tag.exec(e);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){const i=this.rules.inline.link.exec(n);if(i){const n=i[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const i=Qr(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{const n=function(n){if(-1!==n.indexOf("()"[1])){let t=0;for(let e=0;e<n.length;e++)if("\\"===n[e])e++;else if(n[e]==="()"[0])t++;else if(n[e]==="()"[1]&&--t<0)return e}return-1}(i[2]);var o;-1<n&&(o=(0===i[0].indexOf("!")?5:4)+i[1].length+n,i[2]=i[2].substring(0,n),i[0]=i[0].substring(0,o).trim(),i[3]="")}let e=i[2],t="";if(this.options.pedantic){const n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(e);n&&(e=n[1],t=n[3])}else t=i[3]?i[3].slice(1,-1):"";return e=e.trim(),/^</.test(e)&&(e=this.options.pedantic&&!/>$/.test(n)?e.slice(1):e.slice(1,-1)),ei(i,{href:e&&e.replace(this.rules.inline._escapes,"$1"),title:t&&t.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}}reflink(t,n){let i;if(i=(i=this.rules.inline.reflink.exec(t))||this.rules.inline.nolink.exec(t)){let e=(i[2]||i[1]).replace(/\s+/g," ");if(e=n[e.toLowerCase()])return ei(i,e,i[0],this.lexer);{const t=i[0].charAt(0);return{type:"text",raw:t,text:t}}}}emStrong(o,r,a=""){let s=this.rules.inline.emStrong.lDelim.exec(o);if(s&&(!s[3]||!a.match(/[\p{L}\p{N}]/u))&&(!s[1]&&!s[2]||!a||this.rules.inline.punctuation.exec(a))){const a=[...s[0]].length-1;let e,t,n=a,i=0;var l="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,r=r.slice(-1*o.length+s[0].length-1);null!=(s=l.exec(r));)if(e=s[1]||s[2]||s[3]||s[4]||s[5]||s[6])if(t=[...e].length,s[3]||s[4])n+=t;else if((s[5]||s[6])&&a%3&&!((a+t)%3))i+=t;else if(!(0<(n-=t))){t=Math.min(t,t+n+i);const r=[...o].slice(0,a+s.index+t+1).join("");if(Math.min(a,t)%2){const o=r.slice(1,-1);return{type:"em",raw:r,text:o,tokens:this.lexer.inlineTokens(o)}}var c=r.slice(2,-2);return{type:"strong",raw:r,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(t){t=this.rules.inline.code.exec(t);if(t){let e=t[2].replace(/\n/g," ");var n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return e=Vr(e=n&&i?e.substring(1,e.length-1):e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){e=this.rules.inline.br.exec(e);if(e)return{type:"br",raw:e[0]}}del(e){e=this.rules.inline.del.exec(e);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){n=this.rules.inline.autolink.exec(n);if(n){let e,t;return t="@"===n[2]?"mailto:"+(e=Vr(n[1])):e=Vr(n[1]),{type:"link",raw:n[0],text:e,href:t,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var n,i;if(n=this.rules.inline.url.exec(e)){let e,t;if("@"===n[2])e=Vr(n[0]),t="mailto:"+e;else{for(;i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],i!==n[0];);e=Vr(n[0]),t="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:t,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){var t,e=this.rules.inline.text.exec(e);if(e)return t=this.lexer.state.inRawBlock?e[0]:Vr(e[0]),{type:"text",raw:e[0],text:t}}}const ni={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Xr,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/},oi=(ni.def=Yr(ni.def).replace("label",ni._label).replace("title",ni._title).getRegex(),ni.bullet=/(?:[*+-]|\d{1,9}[.)])/,ni.listItemStart=Yr(/^( *)(bull) */).replace("bull",ni.bullet).getRegex(),ni.list=Yr(ni.list).replace(/bull/g,ni.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ni.def.source+")").getRegex(),ni._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ni._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ni.html=Yr(ni.html,"i").replace("comment",ni._comment).replace("tag",ni._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ni.lheading=Yr(ni.lheading).replace(/bull/g,ni.bullet).getRegex(),ni.paragraph=Yr(ni._paragraph).replace("hr",ni.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ni._tag).getRegex(),ni.blockquote=Yr(ni.blockquote).replace("paragraph",ni.paragraph).getRegex(),ni.normal={...ni},ni.gfm={...ni.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},ni.gfm.table=Yr(ni.gfm.table).replace("hr",ni.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ni._tag).getRegex(),ni.gfm.paragraph=Yr(ni._paragraph).replace("hr",ni.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ni.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ni._tag).getRegex(),ni.pedantic={...ni.normal,html:Yr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ni._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Yr(ni.normal._paragraph).replace("hr",ni.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ni.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()},{escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Xr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Xr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"});oi.punctuation=Yr(oi.punctuation,"u").replace(/punctuation/g,oi._punctuation).getRegex(),oi.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,oi.anyPunctuation=/\\[punct]/g,oi._escapes=/\\([punct])/g,oi._comment=Yr(ni._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),oi.emStrong.lDelim=Yr(oi.emStrong.lDelim,"u").replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimAst=Yr(oi.emStrong.rDelimAst,"gu").replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimUnd=Yr(oi.emStrong.rDelimUnd,"gu").replace(/punct/g,oi._punctuation).getRegex(),oi.anyPunctuation=Yr(oi.anyPunctuation,"gu").replace(/punct/g,oi._punctuation).getRegex(),oi._escapes=Yr(oi._escapes,"gu").replace(/punct/g,oi._punctuation).getRegex(),oi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oi.autolink=Yr(oi.autolink).replace("scheme",oi._scheme).replace("email",oi._email).getRegex(),oi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oi.tag=Yr(oi.tag).replace("comment",oi._comment).replace("attribute",oi._attribute).getRegex(),oi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oi.link=Yr(oi.link).replace("label",oi._label).replace("href",oi._href).replace("title",oi._title).getRegex(),oi.reflink=Yr(oi.reflink).replace("label",oi._label).replace("ref",ni._label).getRegex(),oi.nolink=Yr(oi.nolink).replace("ref",ni._label).getRegex(),oi.reflinkSearch=Yr(oi.reflinkSearch,"g").replace("reflink",oi.reflink).replace("nolink",oi.nolink).getRegex(),oi.normal={...oi},oi.pedantic={...oi.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Yr(/^!?\[(label)\]\((.*?)\)/).replace("label",oi._label).getRegex(),reflink:Yr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oi._label).getRegex()},oi.gfm={...oi.normal,escape:Yr(oi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},oi.gfm.url=Yr(oi.gfm.url,"i").replace("email",oi.gfm._extended_email).getRegex(),oi.breaks={...oi.gfm,br:Yr(oi.br).replace("{2,}","*").getRegex(),text:Yr(oi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ri{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||zr,this.options.tokenizer=this.options.tokenizer||new ti,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,(this.tokenizer.lexer=this).inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};e={block:ni.normal,inline:oi.normal};this.options.pedantic?(e.block=ni.pedantic,e.inline=oi.pedantic):this.options.gfm&&(e.block=ni.gfm,this.options.breaks?e.inline=oi.breaks:e.inline=oi.gfm),this.tokenizer.rules=e}static get rules(){return{block:ni,inline:oi}}static lex(e,t){return new ri(t).lex(e)}static lexInline(e,t){return new ri(t).inlineTokens(e)}lex(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(i,t=[]){let o,e,r,n;for(i=this.options.pedantic?i.replace(/\t/g,"    ").replace(/^ +$/gm,""):i.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));i;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(e=>!!(o=e.call({lexer:this},i,t))&&(i=i.substring(o.raw.length),t.push(o),!0))))if(o=this.tokenizer.space(i))i=i.substring(o.raw.length),1===o.raw.length&&0<t.length?t[t.length-1].raw+="\n":t.push(o);else if(o=this.tokenizer.code(i))i=i.substring(o.raw.length),!(e=t[t.length-1])||"paragraph"!==e.type&&"text"!==e.type?t.push(o):(e.raw+="\n"+o.raw,e.text+="\n"+o.text,this.inlineQueue[this.inlineQueue.length-1].src=e.text);else if(o=this.tokenizer.fences(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.heading(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.hr(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.blockquote(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.list(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.html(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.def(i))i=i.substring(o.raw.length),!(e=t[t.length-1])||"paragraph"!==e.type&&"text"!==e.type?this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title}):(e.raw+="\n"+o.raw,e.text+="\n"+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=e.text);else if(o=this.tokenizer.table(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.lheading(i))i=i.substring(o.raw.length),t.push(o);else{if(r=i,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const o=i.slice(1);let n;this.options.extensions.startBlock.forEach(e=>{"number"==typeof(n=e.call({lexer:this},o))&&0<=n&&(t=Math.min(t,n))}),t<1/0&&0<=t&&(r=i.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r)))e=t[t.length-1],n&&"paragraph"===e.type?(e.raw+="\n"+o.raw,e.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):t.push(o),n=r.length!==i.length,i=i.substring(o.raw.length);else if(o=this.tokenizer.text(i))i=i.substring(o.raw.length),(e=t[t.length-1])&&"text"===e.type?(e.raw+="\n"+o.raw,e.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):t.push(o);else if(i){const t="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(i,t=[]){let o,e,r,n,a,s,l=i;if(this.tokens.links){const i=Object.keys(this.tokens.links);if(0<i.length)for(;null!=(n=this.tokenizer.rules.inline.reflinkSearch.exec(l));)i.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(n=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(n=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,n.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;i;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(e=>!!(o=e.call({lexer:this},i,t))&&(i=i.substring(o.raw.length),t.push(o),!0))))if(o=this.tokenizer.escape(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(i))i=i.substring(o.raw.length),(e=t[t.length-1])&&"text"===o.type&&"text"===e.type?(e.raw+=o.raw,e.text+=o.text):t.push(o);else if(o=this.tokenizer.link(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.reflink(i,this.tokens.links))i=i.substring(o.raw.length),(e=t[t.length-1])&&"text"===o.type&&"text"===e.type?(e.raw+=o.raw,e.text+=o.text):t.push(o);else if(o=this.tokenizer.emStrong(i,l,s))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.codespan(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(i))i=i.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.autolink(i))i=i.substring(o.raw.length),t.push(o);else if(this.state.inLink||!(o=this.tokenizer.url(i))){if(r=i,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const o=i.slice(1);let n;this.options.extensions.startInline.forEach(e=>{"number"==typeof(n=e.call({lexer:this},o))&&0<=n&&(t=Math.min(t,n))}),t<1/0&&0<=t&&(r=i.substring(0,t+1))}if(o=this.tokenizer.inlineText(r))i=i.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(s=o.raw.slice(-1)),a=!0,(e=t[t.length-1])&&"text"===e.type?(e.raw+=o.raw,e.text+=o.text):t.push(o);else if(i){const t="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else i=i.substring(o.raw.length),t.push(o);return t}}class ii{options;constructor(e){this.options=e||zr}code(e,t,n){t=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",t?'<pre><code class="language-'+Vr(t)+'">'+(n?e:Vr(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Vr(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return"<hr>\n"}list(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&`<tbody>${t}</tbody>`)+"</table>\n"}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){var n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){var i=Zr(e);if(null===i)return n;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"}image(e,t,n){var i=Zr(e);if(null===i)return n;let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">"}text(e){return e}}class ai{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class li{options;renderer;textRenderer;constructor(e){this.options=e||zr,this.options.renderer=this.options.renderer||new ii,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ai}static parse(e,t){return new li(t).parse(e)}static parseInline(e,t){return new li(t).parseInline(e)}parse(i,o=!0){let r="";for(let n=0;n<i.length;n++){var a=i[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const i=a,o=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==o||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=o||"";continue}}switch(a.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const i=a;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Wr(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=a;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=a;let e="",t="";for(let e=0;e<i.header.length;e++)t+=this.renderer.tablecell(this.parseInline(i.header[e].tokens),{header:!0,align:i.align[e]});e+=this.renderer.tablerow(t);let n="";for(let e=0;e<i.rows.length;e++){const r=i.rows[e];t="";for(let e=0;e<r.length;e++)t+=this.renderer.tablecell(this.parseInline(r[e].tokens),{header:!1,align:i.align[e]});n+=this.renderer.tablerow(t)}r+=this.renderer.table(e,n);continue}case"blockquote":{const i=a,o=this.parse(i.tokens);r+=this.renderer.blockquote(o);continue}case"list":{const i=a,o=i.ordered,e=i.start,s=i.loose;let n="";for(let t=0;t<i.items.length;t++){const r=i.items[t],l=r.checked,c=r.task;let e="";if(r.task){const i=this.renderer.checkbox(!!l);s?0<r.tokens.length&&"paragraph"===r.tokens[0].type?(r.tokens[0].text=i+" "+r.tokens[0].text,r.tokens[0].tokens&&0<r.tokens[0].tokens.length&&"text"===r.tokens[0].tokens[0].type&&(r.tokens[0].tokens[0].text=i+" "+r.tokens[0].tokens[0].text)):r.tokens.unshift({type:"text",text:i+" "}):e+=i+" "}e+=this.parse(r.tokens,s),n+=this.renderer.listitem(e,c,!!l)}r+=this.renderer.list(n,o,e);continue}case"html":{const i=a;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=a;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let e=a,t=e.tokens?this.parseInline(e.tokens):e.text;for(;n+1<i.length&&"text"===i[n+1].type;)e=i[++n],t+="\n"+(e.tokens?this.parseInline(e.tokens):e.text);r+=o?this.renderer.paragraph(t):t;continue}default:{const i='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(t,n){n=n||this.renderer;let i="";for(let e=0;e<t.length;e++){var o=t[e];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const t=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=t||"";continue}}switch(o.type){case"escape":{const t=o;i+=n.text(t.text);break}case"html":{const t=o;i+=n.html(t.text);break}case"link":{const t=o;i+=n.link(t.href,t.title,this.parseInline(t.tokens,n));break}case"image":{const t=o;i+=n.image(t.href,t.title,t.text);break}case"strong":{const t=o;i+=n.strong(this.parseInline(t.tokens,n));break}case"em":{const t=o;i+=n.em(this.parseInline(t.tokens,n));break}case"codespan":{const t=o;i+=n.codespan(t.text);break}case"br":i+=n.br();break;case"del":{const t=o;i+=n.del(this.parseInline(t.tokens,n));break}case"text":{const t=o;i+=n.text(t.text);break}default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return i}}class si{options;constructor(e){this.options=e||zr}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const ci=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(ri.lex,li.parse);parseInline=this.#e(ri.lexInline,li.parseInline);Parser=li;parser=li.parse;Renderer=ii;TextRenderer=ai;Lexer=ri;lexer=ri.lex;Tokenizer=ti;Hooks=si;constructor(...e){this.use(...e)}walkTokens(t,n){let i=[];for(const e of t)switch(i=i.concat(n.call(this,e)),e.type){case"table":{const t=e;for(const o of t.header)i=i.concat(this.walkTokens(o.tokens,n));for(const r of t.rows)for(const t of r)i=i.concat(this.walkTokens(t.tokens,n));break}case"list":{const t=e;i=i.concat(this.walkTokens(t.items,n));break}default:{const t=e;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach(e=>{i=i.concat(this.walkTokens(t[e],n))}):t.tokens&&(i=i.concat(this.walkTokens(t.tokens,n)))}}return i}use(...e){const p=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{const t={...e};if(t.async=this.defaults.async||t.async||!1,e.extensions&&(e.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){const i=p.renderers[n.name];p.renderers[n.name]=i?function(...e){let t=n.renderer.apply(this,e);return t=!1===t?i.apply(this,e):t}:n.renderer}if("tokenizer"in n){if(!n.level||"block"!==n.level&&"inline"!==n.level)throw new Error("extension level must be 'block' or 'inline'");var e=p[n.level];e?e.unshift(n.tokenizer):p[n.level]=[n.tokenizer],n.start&&("block"===n.level?p.startBlock?p.startBlock.push(n.start):p.startBlock=[n.start]:"inline"===n.level&&(p.startInline?p.startInline.push(n.start):p.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(p.childTokens[n.name]=n.childTokens)}),t.extensions=p),e.renderer){const p=this.defaults.renderer||new ii(this.defaults);for(const t in e.renderer){const n=e.renderer[t],i=t,o=p[i];p[i]=(...e)=>{let t=n.apply(p,e);return(t=!1===t?o.apply(p,e):t)||""}}t.renderer=p}if(e.tokenizer){const p=this.defaults.tokenizer||new ti(this.defaults);for(const t in e.tokenizer){const r=e.tokenizer[t],a=t,s=p[a];p[a]=(...e)=>{let t=r.apply(p,e);return t=!1===t?s.apply(p,e):t}}t.tokenizer=p}if(e.hooks){const p=this.defaults.hooks||new si;for(const t in e.hooks){const l=e.hooks[t],c=t,d=p[c];si.passThroughHooks.has(t)?p[c]=e=>{return this.defaults.async?Promise.resolve(l.call(p,e)).then(e=>d.call(p,e)):(e=l.call(p,e),d.call(p,e))}:p[c]=(...e)=>{let t=l.apply(p,e);return t=!1===t?d.apply(p,e):t}}t.hooks=p}if(e.walkTokens){const p=this.defaults.walkTokens,u=e.walkTokens;t.walkTokens=function(e){let t=[];return t.push(u.call(this,e)),t=p?t.concat(p.call(this,e)):t}}this.defaults={...this.defaults,...t}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}#e(r,a){return(t,n)=>{const e={...n},i={...this.defaults,...e};!0===this.defaults.async&&!1===e.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);var o=this.#t(!!i.silent,!!i.async);if(null==t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(e=>r(e,i)).then(e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then(()=>e):e).then(e=>a(e,i)).then(e=>i.hooks?i.hooks.postprocess(e):e).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));const n=r(t,i);i.walkTokens&&this.walkTokens(n,i.walkTokens);let e=a(n,i);return e=i.hooks?i.hooks.postprocess(e):e}catch(e){return o(e)}}}#t(t,n){return e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+Vr(e.message+"",!0)+"</pre>";return n?Promise.resolve(t):t}if(n)return Promise.reject(e);throw e}}};function di(e,t){return ci.parse(e,t)}di.options=di.setOptions=function(e){return ci.setOptions(e),di.defaults=ci.defaults,Br(di.defaults),di},di.getDefaults=Or,di.defaults=zr,di.use=function(...e){return ci.use(...e),di.defaults=ci.defaults,Br(di.defaults),di},di.walkTokens=function(e,t){return ci.walkTokens(e,t)},di.parseInline=ci.parseInline,di.Parser=li,di.parser=li.parse,di.Renderer=ii,di.TextRenderer=ai,di.Lexer=ri,di.lexer=ri.lex,di.Tokenizer=ti,di.Hooks=si,(di.parse=di).options,di.setOptions,di.use,di.walkTokens,di.parseInline;const{entries:ui,setPrototypeOf:pi,isFrozen:gi,getPrototypeOf:hi,getOwnPropertyDescriptor:fi}=Object;let{freeze:mi,seal:bi,create:yi}=Object,{apply:vi,construct:wi}="undefined"!=typeof Reflect&&Reflect;mi=mi||function(e){return e},bi=bi||function(e){return e},vi=vi||function(e,t,n){return e.apply(t,n)},wi=wi||function(e,t){return new e(...t)};const xi=Mi(Array.prototype.forEach),ki=Mi(Array.prototype.pop),_i=Mi(Array.prototype.push),$i=Mi(String.prototype.toLowerCase),Si=Mi(String.prototype.toString),Ci=Mi(String.prototype.match),Ti=Mi(String.prototype.replace),Ei=Mi(String.prototype.indexOf),Ai=Mi(String.prototype.trim),Ii=Mi(RegExp.prototype.test),Pi=(Li=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wi(Li,t)});function Mi(o){return function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return vi(o,e,n)}}function Ri(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:$i;pi&&pi(t,null);let o=n.length;for(;o--;){let e=n[o];if("string"==typeof e){const t=i(e);t!==e&&(gi(n)||(n[o]=t),e=t)}t[e]=!0}return t}function Ni(e){var t,n,i=yi(null);for([t,n]of ui(e))void 0!==fi(e,t)&&(i[t]=n);return i}function Oi(e,t){for(;null!==e;){var n=fi(e,t);if(n){if(n.get)return Mi(n.get);if("function"==typeof n.value)return Mi(n.value)}e=hi(e)}return function(e){return console.warn("fallback value for",e),null}}const zi=mi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bi=mi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Di=mi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fi=mi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ui=mi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ji=mi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hi=mi(["#text"]),Gi=mi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Vi=mi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qi=mi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wi=mi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ki=bi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yi=bi(/<%[\w\W]*|[\w\W]*%>/gm),Zi=bi(/\${[\w\W]*}/gm),Xi=bi(/^data-[\-\w.\u00B7-\uFFFF]/),Ji=bi(/^aria-[\-\w]+$/),Qi=bi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ea=bi(/^(?:\w+script|data):/i),ta=bi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),na=bi(/^html$/i);var oa=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ki,ERB_EXPR:Yi,TMPLIT_EXPR:Zi,DATA_ATTR:Xi,ARIA_ATTR:Ji,IS_ALLOWED_URI:Qi,IS_SCRIPT_OR_DATA:ea,ATTR_WHITESPACE:ta,DOCTYPE_NAME:na});const ra=function(){return"undefined"==typeof window?null:window};var ia=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ra();const c=e=>t(e);if(c.version="3.0.6",c.removed=[],!e||!e.document||9!==e.document.nodeType)return c.isSupported=!1,c;let o=e["document"];const l=o,D=l.currentScript,{DocumentFragment:z,HTMLTemplateElement:N,Node:d,Element:R,NodeFilter:n,NamedNodeMap:F=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:V,DOMParser:j,trustedTypes:u}=e,i=R.prototype,B=Oi(i,"cloneNode"),U=Oi(i,"nextSibling"),q=Oi(i,"childNodes"),r=Oi(i,"parentNode");if("function"==typeof N){const t=o.createElement("template");t.content&&t.content.ownerDocument&&(o=t.content.ownerDocument)}let p,h="";const{implementation:H,createNodeIterator:W,createDocumentFragment:G,getElementsByTagName:Y}=o,Z=l["importNode"];let a={};c.isSupported="function"==typeof ui&&"function"==typeof r&&H&&void 0!==H.createHTMLDocument;const{MUSTACHE_EXPR:K,ERB_EXPR:X,TMPLIT_EXPR:Q,DATA_ATTR:J,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:ne}=oa;let ie=oa["IS_ALLOWED_URI"],f=null;const oe=Ri({},[...zi,...Bi,...Di,...Ui,...Hi]);let g=null;const re=Ri({},[...Gi,...Vi,...qi,...Wi]);let s=Object.seal(yi(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),m=null,ae=null,se=!0,le=!0,ce=!1,de=!0,v=!1,b=!1,ue=!1,pe=!1,y=!1,w=!1,x=!1,he=!0,fe=!1,ge=!0,k=!1,_={},S=null;const me=Ri({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ve=null;const be=Ri({},["audio","video","img","source","image","track"]);let ye=null;const we=Ri({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),C="http://www.w3.org/1998/Math/MathML",E="http://www.w3.org/2000/svg",T="http://www.w3.org/1999/xhtml";let A=T,xe,ke=null;const _e=Ri({},[C,E,T],Si);let I=null;const Se=["application/xhtml+xml","text/html"];let L=null,P=null;function Ce(e){return e instanceof RegExp||e instanceof Function}function Ee(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!P||P!==e){if(e=Ni(e=e&&"object"==typeof e?e:{}),I=I=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,L="application/xhtml+xml"===I?Si:$i,f="ALLOWED_TAGS"in e?Ri({},e.ALLOWED_TAGS,L):oe,g="ALLOWED_ATTR"in e?Ri({},e.ALLOWED_ATTR,L):re,ke="ALLOWED_NAMESPACES"in e?Ri({},e.ALLOWED_NAMESPACES,Si):_e,ye="ADD_URI_SAFE_ATTR"in e?Ri(Ni(we),e.ADD_URI_SAFE_ATTR,L):we,ve="ADD_DATA_URI_TAGS"in e?Ri(Ni(be),e.ADD_DATA_URI_TAGS,L):be,S="FORBID_CONTENTS"in e?Ri({},e.FORBID_CONTENTS,L):me,m="FORBID_TAGS"in e?Ri({},e.FORBID_TAGS,L):{},ae="FORBID_ATTR"in e?Ri({},e.FORBID_ATTR,L):{},_="USE_PROFILES"in e&&e.USE_PROFILES,se=!1!==e.ALLOW_ARIA_ATTR,le=!1!==e.ALLOW_DATA_ATTR,ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,de=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,v=e.SAFE_FOR_TEMPLATES||!1,b=e.WHOLE_DOCUMENT||!1,y=e.RETURN_DOM||!1,w=e.RETURN_DOM_FRAGMENT||!1,x=e.RETURN_TRUSTED_TYPE||!1,pe=e.FORCE_BODY||!1,he=!1!==e.SANITIZE_DOM,fe=e.SANITIZE_NAMED_PROPS||!1,ge=!1!==e.KEEP_CONTENT,k=e.IN_PLACE||!1,ie=e.ALLOWED_URI_REGEXP||Qi,A=e.NAMESPACE||T,s=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(s.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(s.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(s.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),v&&(le=!1),w&&(y=!0),_&&(f=Ri({},[...Hi]),g=[],!0===_.html&&(Ri(f,zi),Ri(g,Gi)),!0===_.svg&&(Ri(f,Bi),Ri(g,Vi),Ri(g,Wi)),!0===_.svgFilters&&(Ri(f,Di),Ri(g,Vi),Ri(g,Wi)),!0===_.mathMl)&&(Ri(f,Ui),Ri(g,qi),Ri(g,Wi)),e.ADD_TAGS&&Ri(f=f===oe?Ni(f):f,e.ADD_TAGS,L),e.ADD_ATTR&&Ri(g=g===re?Ni(g):g,e.ADD_ATTR,L),e.ADD_URI_SAFE_ATTR&&Ri(ye,e.ADD_URI_SAFE_ATTR,L),e.FORBID_CONTENTS&&Ri(S=S===me?Ni(S):S,e.FORBID_CONTENTS,L),ge&&(f["#text"]=!0),b&&Ri(f,["html","head","body"]),f.table&&(Ri(f,["tbody"]),delete m.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Pi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Pi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');p=e.TRUSTED_TYPES_POLICY,h=p.createHTML("")}else null!==(p=void 0===p?function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;var i="data-tt-policy-suffix",t="dompurify"+((n=t&&t.hasAttribute(i)?t.getAttribute(i):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(u,D):p)&&"string"==typeof h&&(h=p.createHTML(""));mi&&mi(e),P=e}}function M(t){_i(c.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}}function Te(e){let t=null,n=null;if(pe)e="<remove></remove>"+e;else{const t=Ci(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===I&&A===T&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=p?p.createHTML(e):e;if(A===T)try{t=(new j).parseFromString(i,I)}catch(e){}if(!t||!t.documentElement){t=H.createDocument(A,"template",null);try{t.documentElement.innerHTML=xe?h:i}catch(e){}}return i=t.body||t.documentElement,e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),A===T?Y.call(t,b?"html":"body")[0]:b?t.documentElement:i}function Ae(e){return W.call(e.ownerDocument||e,e,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT,null)}function Ie(e){return"function"==typeof d&&e instanceof d}function Le(t){let n=null;if(O("beforeSanitizeElements",t,null),!((e=t)instanceof V)||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof F&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore&&"function"==typeof e.hasChildNodes){var e=L(t.nodeName);if(O("uponSanitizeElement",t,{tagName:e,allowedTags:f}),!t.hasChildNodes()||Ie(t.firstElementChild)||!Ii(/<[/\w]/g,t.innerHTML)||!Ii(/<[/\w]/g,t.textContent)){if(f[e]&&!m[e])return(!(t instanceof R)||function(e){let t=r(e);t&&t.tagName||(t={namespaceURI:A,tagName:"template"});var n=$i(e.tagName),i=$i(t.tagName);return ke[e.namespaceURI]&&(e.namespaceURI===E?t.namespaceURI===T?"svg"===n:t.namespaceURI===C?"svg"===n&&("annotation-xml"===i||De[i]):Boolean($[n]):e.namespaceURI===C?t.namespaceURI===T?"math"===n:t.namespaceURI===E?"math"===n&&ze[i]:Boolean(Re[n]):e.namespaceURI===T?(t.namespaceURI!==E||ze[i])&&(t.namespaceURI!==C||De[i])&&!Re[n]&&(Ne[n]||!$[n]):"application/xhtml+xml"===I&&ke[e.namespaceURI])}(t))&&("noscript"!==e&&"noembed"!==e&&"noframes"!==e||!Ii(/<\/no(script|embed|frames)/i,t.innerHTML))?(v&&3===t.nodeType&&(n=t.textContent,xi([K,X,Q],e=>{n=Ti(n,e," ")}),t.textContent!==n)&&(_i(c.removed,{element:t.cloneNode()}),t.textContent=n),O("afterSanitizeElements",t,null),!1):(M(t),!0);if(!m[e]&&Pe(e)){if(s.tagNameCheck instanceof RegExp&&Ii(s.tagNameCheck,e))return;if(s.tagNameCheck instanceof Function&&s.tagNameCheck(e))return}if(ge&&!S[e]){const n=r(t)||t.parentNode,c=q(t)||t.childNodes;if(c&&n)for(let e=c.length-1;0<=e;--e)n.insertBefore(B(c[e],!0),U(t))}}}return M(t),1}function Pe(e){return 0<e.indexOf("-")}function Me(n){O("beforeSanitizeAttributes",n,null);var i=n["attributes"];if(i){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:g};let e=i.length;for(;e--;){var{name:r,namespaceURI:a,value:s}=i[e],l=L(r);let t="value"===r?s:Ai(s);if((o.attrName=l,o.attrValue=t,o.keepAttr=!0,o.forceKeepAttr=void 0,O("uponSanitizeAttribute",n,o),t=o.attrValue,!o.forceKeepAttr)&&(Fe(r,n),o.keepAttr))if(!de&&Ii(/\/>/i,t))Fe(r,n);else{v&&xi([K,X,Q],e=>{t=Ti(t,e," ")});s=L(n.nodeName);if(Ve(s,l,t)){if(!fe||"id"!==l&&"name"!==l||(Fe(r,n),t="user-content-"+t),p&&"object"==typeof u&&"function"==typeof u.getAttributeType&&!a)switch(u.getAttributeType(s,l)){case"TrustedHTML":t=p.createHTML(t);break;case"TrustedScriptURL":t=p.createScriptURL(t)}try{a?n.setAttributeNS(a,r,t):n.setAttribute(r,t),ki(c.removed)}catch(n){}}}}O("afterSanitizeAttributes",n,null)}}function $e(e){var t,n=Ae(e);for(O("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)O("uponSanitizeShadowNode",t,null),Le(t)||(t.content instanceof z&&$e(t.content),Me(t));O("afterSanitizeShadowDOM",e,null)}const Oe=o.createElement("form"),De=Ri({},["mi","mo","mn","ms","mtext"]),ze=Ri({},["foreignobject","desc","title","annotation-xml"]),Ne=Ri({},["title","style","font","a","script"]),$=Ri({},Bi),Re=(Ri($,Di),Ri($,Fi),Ri({},Ui)),Fe=(Ri(Re,ji),function(e,t){try{_i(c.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_i(c.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!g[e])if(y||w)try{M(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}),O=function(e,t,n){a[e]&&xi(a[e],e=>{e.call(c,t,n,P)})},Ve=function(e,t,n){if(he&&("id"===t||"name"===t)&&(n in o||n in Oe))return!1;if((!le||ae[t]||!Ii(J,t))&&(!se||!Ii(ee,t)))if(!g[t]||ae[t]){if(!(Pe(e)&&(s.tagNameCheck instanceof RegExp&&Ii(s.tagNameCheck,e)||s.tagNameCheck instanceof Function&&s.tagNameCheck(e))&&(s.attributeNameCheck instanceof RegExp&&Ii(s.attributeNameCheck,t)||s.attributeNameCheck instanceof Function&&s.attributeNameCheck(t))||"is"===t&&s.allowCustomizedBuiltInElements&&(s.tagNameCheck instanceof RegExp&&Ii(s.tagNameCheck,n)||s.tagNameCheck instanceof Function&&s.tagNameCheck(n))))return!1}else if(!ye[t]&&!Ii(ie,Ti(n,ne,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ei(n,"data:")||!ve[e])&&(!ce||Ii(te,Ti(n,ne,"")))&&n)return!1;return!0};return c.sanitize=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null,i,o,r=null;if("string"!=typeof(e=(xe=!e)?"\x3c!--\x3e":e)&&!Ie(e)){if("function"!=typeof e.toString)throw Pi("toString is not a function");if("string"!=typeof(e=e.toString()))throw Pi("dirty is not a string, aborting")}if(!c.isSupported)return e;if(ue||Ee(t),c.removed=[],k="string"==typeof e?!1:k){if(e.nodeName){const t=L(e.nodeName);if(!f[t]||m[t])throw Pi("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(i=(n=Te("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!y&&!v&&!b&&-1===e.indexOf("<"))return p&&x?p.createHTML(e):e;if(!(n=Te(e)))return y?null:x?h:""}n&&pe&&M(n.firstChild);for(var a=Ae(k?e:n);o=a.nextNode();)Le(o)||(o.content instanceof z&&$e(o.content),Me(o));if(k)return e;if(y){if(w)for(r=G.call(n.ownerDocument);n.firstChild;)r.appendChild(n.firstChild);else r=n;return r=g.shadowroot||g.shadowrootmode?Z.call(l,r,!0):r}let s=b?n.outerHTML:n.innerHTML;return b&&f["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Ii(na,n.ownerDocument.doctype.name)&&(s="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+s),v&&xi([K,X,Q],e=>{s=Ti(s,e," ")}),p&&x?p.createHTML(s):s},c.setConfig=function(){Ee(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),ue=!0},c.clearConfig=function(){P=null,ue=!1},c.isValidAttribute=function(e,t,n){P||Ee({});e=L(e),t=L(t);return Ve(e,t,n)},c.addHook=function(e,t){"function"==typeof t&&(a[e]=a[e]||[],_i(a[e],t))},c.removeHook=function(e){if(a[e])return ki(a[e])},c.removeHooks=function(e){a[e]&&(a[e]=[])},c.removeAllHooks=function(){a={}},c}();const aa=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><div class="flex flex-col overflow-hidden text-fade-in mx-4 my-2 relative text-ellipsis h-full gap-6">'),la=e=>{const[t,n]=k("");di.use({renderer:{link:(e,t,n)=>`<a href="${e}" target="_blank" rel="noopener noreferrer">${n}</a>`}}),$(()=>{Rr()?.id===e.streamingMessageId&&n(ia.sanitize(di.parse(Rr()?.content??""),{ADD_ATTR:["target"]}))});{const i=aa(),o=i.firstChild.firstChild.firstChild,r=o.nextSibling;return o.style.setProperty("width","100%"),o.style.setProperty("height","100%"),_(()=>r.innerHTML=t()),i}},sa=ue('<div><div class="flex flex-col flex-1 gap-2">'),ca=ue('<div class="flex flex-col w-full min-w-0 gap-2">'),da=r=>{let t;const[n,i]=k(0),[o,a]=k(),s=(T(()=>{r.streamingMessageId||(0===r.messages.length&&r.onAllBubblesDisplayed(),r.onScrollToBottom(t?.offsetTop?t?.offsetTop-50:void 0))}),async e=>{var t=r.messages[n()].id;await r.onNewBubbleDisplayed(t),i(n()===r.messages.length?n():n()+1),r.onScrollToBottom(e),n()===r.messages.length&&(a(e),r.onAllBubblesDisplayed())});return be(e=ca(),V(te,{get when(){return 0<r.messages.length},get children(){const i=sa(),o=i.firstChild;return be(i,V(te,{get when(){return(r.theme.chat?.hostAvatar?.isEnabled??Sr.chat.hostAvatar.isEnabled)&&0<r.messages.length},get children(){return V(Mr,{get hostAvatarSrc(){return r.theme.chat?.hostAvatar?.url},get hideAvatar(){return r.hideAvatar}})}}),o),be(o,V(ee,{get each(){return r.messages.slice(0,n()+1)},children:e=>V(An,{message:e,get typingEmulation(){return r.settings.typingEmulation},onTransitionEnd:s,get onCompleted(){return r.onSubmit}})})),_(e=>{var t="flex"+(yt()?" gap-1":" gap-2"),n=r.theme.chat?.guestAvatar?.isEnabled??Sr.chat.guestAvatar.isEnabled?yt()?"calc(100% - 32px - 32px)":"calc(100% - 48px - 48px)":yt()?"calc(100% - 32px)":"calc(100% - 48px)";return t!==e._v$&&he(i,e._v$=t),n!==e._v$2&&(null!=(e._v$2=n)?o.style.setProperty("max-width",n):o.style.removeProperty("max-width")),e},{_v$:void 0,_v$2:void 0}),i}}),null),be(e,(()=>{const e=S(()=>!(!r.input||n()!==r.messages.length));return()=>e()&&V(Er,{ref(e){"function"==typeof t?t(e):t=e},get block(){return r.input},get inputIndex(){return r.inputIndex},get hasHostAvatar(){return r.theme.chat?.hostAvatar?.isEnabled??Sr.chat.hostAvatar.isEnabled},get guestAvatar(){return r.theme.chat?.guestAvatar},get context(){return r.context},get isInputPrefillEnabled(){return r.settings.general?.isInputPrefillEnabled??hn.isInputPrefillEnabled},get hasError(){return r.hasError},onTransitionEnd:()=>r.onScrollToBottom(o()),get onSubmit(){return r.onSubmit},get onSkip(){return r.onSkip}})})(),null),be(e,V(te,{get when(){return r.streamingMessageId},keyed:!0,children:e=>{{const i=sa(),o=i.firstChild;return be(i,V(te,{get when(){return r.theme.chat?.hostAvatar?.isEnabled??Sr.chat.hostAvatar.isEnabled},get children(){return V(Mr,{get hostAvatarSrc(){return r.theme.chat?.hostAvatar?.url},get hideAvatar(){return r.hideAvatar}})}}),o),be(o,V(la,{streamingMessageId:e})),_(e=>{var t="flex"+(yt()?" gap-1":" gap-2"),n=r.theme.chat?.hostAvatar?.isEnabled??Sr.chat.hostAvatar.isEnabled?yt()?"calc(100% - 32px - 32px)":"calc(100% - 48px - 48px)":yt()?"calc(100% - 32px)":"calc(100% - 48px)";return t!==e._v$3&&he(i,e._v$3=t),n!==e._v$4&&(null!=(e._v$4=n)?o.style.setProperty("max-width",n):o.style.removeProperty("max-width")),e},{_v$3:void 0,_v$4:void 0}),i}}}),null),e;var e},ua=async e=>{e?.trackingId&&(e=e)&&(window.gtag?window.gtag("event",e.action,{event_category:De(e.category)?void 0:e.category,event_label:De(e.label)?void 0:e.label,value:e.value,send_to:De(e.sendTo)?void 0:e.sendTo}):console.error("Google Analytics was not properly initialized"))};let pa=null;const ga=d=>async({messages:t,onMessageStream:n})=>{try{pa=new AbortController;var i=d.apiHost,o=await fetch(`${Fe(i)?i:ft()}/api/integrations/openai/streamer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:d.sessionId,messages:t}),signal:pa.signal});if(!o.ok)return(d.retryAttempt??0)<3&&(403===o.status||500===o.status||503===o.status)?(await new Promise(e=>setTimeout(e,3e3)),ga({...d,retryAttempt:(d.retryAttempt??0)+1})({messages:t,onMessageStream:n})):{error:await o.json()||"Failed to fetch the chat response."};if(!o.body)throw new Error("The response body is empty.");let e="";for(var r=o.body.getReader(),a=new TextDecoder,s=(c=l.context)?""+c.id+c.count++:"cl-"+J++;;){const{done:d,value:t}=await r.read();if(d)break;if(e+=a.decode(t),n&&n({id:s,message:e}),null===pa){r.cancel();break}}return pa=null,{message:e}}catch(e){return console.error(e),"AbortError"===e.name?(pa=null,{error:{message:"Request aborted"}}):e instanceof Error?{error:{message:e.message}}:{error:{message:"Failed to fetch the chat response."}}}var c},ha=e=>{if(Be(e))return null;if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return console.warn("Failed to safely stringify variable value",e),null}},fa=Object.getPrototypeOf(async function(){}).constructor,ma=async e=>{if(!De(e?.pixelId))if(e?.eventType&&e.pixelId)if(window.fbq){var t=e.params?.length?e.params.reduce((e,t)=>t.key&&t.value?{...e,[t.key]:t.value}:e,{}):void 0;if("Custom"===e.eventType){if(!e.name)return;window.fbq("trackSingleCustom",e.pixelId,e.name,t)}window.fbq("trackSingle",e.pixelId,e.eventType,t)}else console.error("Facebook Pixel was not properly initialized")},ba=async e=>{var i,t,n=e.customHeadCode,n=(Fe(n)&&n.split("</noscript>").forEach(e=>{var[e,t]=e.split("<noscript>"),e=document.createRange().createContextualFragment(e);document.head.append(e),Be(t)||(e=document.createElement("noscript"),t=document.createRange().createContextualFragment(t),e.append(t),document.head.append(e))}),e.gtmId),n=(Fe(n)&&document.body.prepend((n=n,document.getElementById("gtm-noscript")?"":((t=document.createElement("noscript")).id="gtm-noscript",(o=document.createElement("iframe")).src="https://www.googletagmanager.com/ns.html?id="+n,o.height="0",o.width="0",o.style.display="none",o.style.visibility="hidden",t.appendChild(o),t))),e.googleAnalyticsId),o=(Fe(n)&&(i=n,await(ze(window.gtag)?Promise.resolve():new Promise(e=>{const t=document.getElementById("gtag");if(!t){const t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id="+i,t.id="gtag";var n=document.createElement("script");n.innerHTML=`window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', '${i}');
      `,document.body.appendChild(t),document.body.appendChild(n),t.onload=()=>{e()}}t&&e()}))),e.pixelIds);ze(o)&&(t=o,(n=document.createElement("script")).innerHTML=`!function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  ${t.map(e=>`fbq('init', '${e}');`).join("\n")}
  fbq('track', 'PageView');`,document.head.appendChild(n))},ya=async({clientSideAction:e,context:t,onMessageStream:n})=>{if(!("chatwoot"in e)){var i,o,r,a;if("googleAnalytics"in e)return ua(e.googleAnalytics);if("scriptToExecute"in e)return jt(e.scriptToExecute);if("redirect"in e)return[{url:o,isNewTab:r}={}]=[e.redirect],!o||window.open(o,r?"_blank":"_top")?void 0:{blockedPopupUrl:o};if("wait"in e)return a=[e.wait["secondsToWaitFor"]][0],await new Promise(e=>setTimeout(e,1e3*a)),e.expectsDedicatedReply?{replyToSend:void 0}:void 0;if("setVariable"in e)return(async({content:e,args:t})=>{try{var n=await fa(...t.map(e=>e.id),e.includes("return ")?e:"return "+e)(...t.map(e=>e.value));return{replyToSend:ha(n)??void 0}}catch(t){return console.error(t),{replyToSend:ha(e)??void 0}}})(e.setVariable.scriptToExecute);if("streamOpenAiChatCompletion"in e||"stream"in e){const{error:i,message:s}=await ga(t)({messages:"streamOpenAiChatCompletion"in e?e.streamOpenAiChatCompletion?.messages:void 0,onMessageStream:n});return i?{replyToSend:void 0,logs:[{status:"error",description:"Message streaming returned an error",details:JSON.stringify(i,null,2)}]}:{replyToSend:s}}return"webhookToExecute"in e?{replyToSend:await(async e=>{var{url:t,method:n,body:i,headers:o}=e;try{const e=await fetch(t,{method:n,body:"GET"!==n&&i?JSON.stringify(i):void 0,headers:o}),r=e.status,a=await e.json();return JSON.stringify({statusCode:r,data:a})}catch(e){return console.error(e),JSON.stringify({statusCode:500,data:"An error occured while executing the webhook on the client"})}})(e.webhookToExecute)}:"startPropsToInject"in e?ba(e.startPropsToInject):"pixel"in e?ma(e.pixel):"codeToExecute"in e?Gt(e.codeToExecute):void 0}i=e.chatwoot,jt(i.scriptToExecute)},va=ue('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis">'),wa=()=>{return e=va(),(t=e.firstChild.firstChild.firstChild).style.setProperty("width","64px"),t.style.setProperty("height","32px"),be(t,V(Et,{})),e;var e,t},xa=ue('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex gap-2">'),ka=e=>{return t=xa(),be(n=t.firstChild.firstChild,V(te,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Sr.chat.hostAvatar.isEnabled},get children(){return V(Mr,{get hostAvatarSrc(){return e.theme.chat?.hostAvatar?.url}})}}),null),be(n,V(wa,{}),null),t;var t,n},_a=ue('<div class="w-full max-w-xs p-4 text-gray-500 bg-white shadow flex flex-col gap-2 typebot-popup-blocked-toast" role="alert"><div class="flex flex-col gap-1"><span class=" text-sm font-semibold text-gray-900">Popup blocked</span><div class="text-sm font-normal">The bot wants to open a new tab but it was blocked by your browser. It needs a manual approval.</div></div><a target="_blank" class="py-1 px-4 justify-center text-sm font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 filter hover:brightness-90 active:brightness-75 typebot-button" rel="noreferrer">Continue in new tab'),$a=e=>{{const t=_a(),n=t.firstChild.nextSibling;return n.$$click=()=>e.onLinkClick(),_(()=>ge(n,"href",e.url)),t}},Sa=(pe(["click"]),({apiHost:e,sessionId:t,clientLogs:n})=>Oe({method:"POST",url:`${Fe(e)?e:ft()}/api/v1/sessions/${t}/clientLogs`,body:{clientLogs:n}})),Ca=ue('<div class="flex flex-col overflow-y-scroll w-full min-h-full px-3 pt-10 relative scrollable-container typebot-chat-view scroll-smooth gap-2">'),Ta=ue('<div class="flex justify-end">'),Ea=ue('<div class="w-full h-32 flex-shrink-0">'),Aa=a=>{let n;const[s,l]=k([{input:a.initialChatReply.input,messages:a.initialChatReply.messages,clientSideActions:a.initialChatReply.clientSideActions}]),[i,c]=k(a.initialChatReply.dynamicTheme),[o,r]=k(a.initialChatReply.typebot.theme),[d,u]=k(!1),[e,p]=k(),[h,f]=k(!1),g=(T(()=>{(async()=>{const e=s()[0];if(e.clientSideActions){const s=e.clientSideActions.filter(e=>Be(e.lastBubbleBlockId));for(const e of s){("streamOpenAiChatCompletion"in e||"webhookToExecute"in e)&&u(!0);const s=await ya({clientSideAction:e,context:{apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId},onMessageStream:g});if(s&&"replyToSend"in s)return!m(s.replyToSend,s.logs);s&&"blockedPopupUrl"in s&&p(s.blockedPopupUrl)}}})()}),({id:t,message:e})=>{u(!1);var n=[...s()].pop();n&&(n.streamingMessageId!==t&&l(e=>[...e,{messages:[],streamingMessageId:t}]),Nr({id:t,content:e}))}),m=($(()=>{var e,t;r((e=a.initialChatReply.typebot.theme,t=i(),{...e,chat:{...e.chat,hostAvatar:e.chat?.hostAvatar&&t?.hostAvatarUrl?{...e.chat.hostAvatar,url:t.hostAvatarUrl}:e.chat?.hostAvatar,guestAvatar:e.chat?.guestAvatar&&t?.guestAvatarUrl?{...e.chat.guestAvatar,url:t?.guestAvatarUrl}:e.chat?.guestAvatar}}))}),async(e,t)=>{t&&(a.onNewLogs?.(t),await Sa({apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId,clientLogs:t})),f(!1);var n,t=[...s()].pop()?.input;t?.id&&a.onAnswer&&e&&a.onAnswer({message:e,blockId:t.id}),t?.type===Me.FILE&&a.onNewLogs?.([{description:"Files are not uploaded in preview mode",status:"info"}]);const i=setTimeout(()=>{u(!0)},1e3),{data:o,error:r}=({apiHost:t,message:e,sessionId:n}=[{apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId,message:e}][0],await Oe({method:"POST",url:`${Fe(t)?t:ft()}/api/v1/sessions/${n}/continueChat`,body:{message:e}}));if(clearTimeout(i),u(!1),r){f(!0);const e=[{description:"Failed to send the reply",details:r,status:"error"}];await Sa({apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId,clientLogs:e}),void a.onNewLogs?.(e)}else if(o){if(o.lastMessageNewFormat&&_r([...kr(),{inputIndex:[...s()].length-1,formattedMessage:o.lastMessageNewFormat}]),o.logs&&a.onNewLogs?.(o.logs),o.dynamicTheme&&c(o.dynamicTheme),o.input&&a.onNewInputBlock&&a.onNewInputBlock(o.input),o.clientSideActions){const e=o.clientSideActions.filter(e=>Be(e.lastBubbleBlockId));for(const s of e){("streamOpenAiChatCompletion"in s||"webhookToExecute"in s)&&u(!0);const e=await ya({clientSideAction:s,context:{apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId},onMessageStream:g});if(e&&"replyToSend"in e)return void m(e.replyToSend,e.logs);e&&"blockedPopupUrl"in e&&p(e.blockedPopupUrl)}}l(e=>[...e,{input:o.input,messages:o.messages,clientSideActions:o.clientSideActions}])}}),v=e=>{var t=s();2<=t.length&&t[t.length-2].streamingMessageId||setTimeout(()=>{n?.scrollTo(0,e??n.scrollHeight)},50)},b=async()=>{var e=[...s()].pop();e&&Be(e.input)&&a.onEnd?.()},y=async t=>{var e=[...s()].pop();if(e&&e.clientSideActions){const s=e.clientSideActions.filter(e=>e.lastBubbleBlockId===t);for(const t of s){("streamOpenAiChatCompletion"in t||"webhookToExecute"in t)&&u(!0);const s=await ya({clientSideAction:t,context:{apiHost:a.context.apiHost,sessionId:a.initialChatReply.sessionId},onMessageStream:g});if(s&&"replyToSend"in s)return void m(s.replyToSend,s.logs);s&&"blockedPopupUrl"in s&&p(s.blockedPopupUrl)}}},w=(E(()=>{Nr(void 0),_r([])}),()=>m(void 0));return t=Ca(),"function"==typeof n?me(n,t):n=t,be(t,V(ee,{get each(){return s()},children:(e,t)=>V(da,{get inputIndex(){return t()},get messages(){return e.messages},get input(){return e.input},get theme(){return o()},get settings(){return a.initialChatReply.typebot.settings},get streamingMessageId(){return e.streamingMessageId},get context(){return a.context},get hideAvatar(){return S(()=>!e.input)()&&(0<(s()[t()+1]?.messages??0).length||void 0!==s()[t()+1]?.streamingMessageId||d())},get hasError(){return S(()=>!!h())()&&t()===s().length-1},onNewBubbleDisplayed:y,onAllBubblesDisplayed:b,onSubmit:m,onScrollToBottom:v,onSkip:w})}),null),be(t,V(te,{get when(){return d()},get children(){return V(ka,{get theme(){return o()}})}}),null),be(t,V(te,{get when(){return e()},keyed:!0,children:e=>{return be(t=Ta(),V($a,{url:e,onLinkClick:()=>p(void 0)})),t;var t}}),null),be(t,V(Ia,{}),null),t;var t},Ia=()=>Ea(),Pa=ue('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p><p class="text-center">'),La=e=>{return t=Pa(),n=t.firstChild,i=n.nextSibling,be(n,()=>e.error.message),be(i,()=>e.error.cause),t;var t,n,i},Ma="resultId",Ra=e=>{if(e)try{return sessionStorage.getItem(Ma+"-"+e)??localStorage.getItem(Ma+"-"+e)??void 0}catch{}},Na={bgImage:"--typebot-container-bg-image",bgColor:"--typebot-container-bg-color",fontFamily:"--typebot-container-font-family",color:"--typebot-container-color"},Oa={hostBubbles:{bgColor:"--typebot-host-bubble-bg-color",color:"--typebot-host-bubble-color"},guestBubbles:{bgColor:"--typebot-guest-bubble-bg-color",color:"--typebot-guest-bubble-color"},inputs:{bgColor:"--typebot-input-bg-color",color:"--typebot-input-color",placeholderColor:"--typebot-input-placeholder-color"},buttons:{bgColor:"--typebot-button-bg-color",bgColorRgb:"--typebot-button-bg-color-rgb",color:"--typebot-button-color"},checkbox:{bgColor:"--typebot-checkbox-bg-color",color:"--typebot-checkbox-color",baseAlpha:"--selectable-base-alpha"}},za=(e,t)=>{Ha(e.background??Sr.general.background,t),t.setProperty(Na.fontFamily,e.font??Sr.general.font)},Ba=(e,t)=>{Da(e.hostBubbles??Sr.chat.hostBubbles,t),Fa(e.guestBubbles??Sr.chat.guestBubbles,t),Ua(e.buttons??Sr.chat.buttons,t),ja(e.inputs??Sr.chat.inputs,t),Va(e.roundness??Sr.chat.roundness,t)},Da=(e,t)=>{t.setProperty(Oa.hostBubbles.bgColor,e.backgroundColor??Sr.chat.hostBubbles.backgroundColor),t.setProperty(Oa.hostBubbles.color,e.color??Sr.chat.hostBubbles.color)},Fa=(e,t)=>{t.setProperty(Oa.guestBubbles.bgColor,e.backgroundColor??Sr.chat.guestBubbles.backgroundColor),t.setProperty(Oa.guestBubbles.color,e.color??Sr.chat.guestBubbles.color)},Ua=(e,t)=>{var n=e.backgroundColor??Sr.chat.buttons.backgroundColor;t.setProperty(Oa.buttons.bgColor,n),t.setProperty(Oa.buttons.bgColorRgb,je(n).join(", ")),t.setProperty(Oa.buttons.color,e.color??Sr.chat.buttons.color)},ja=(e,t)=>{t.setProperty(Oa.inputs.bgColor,e.backgroundColor??Sr.chat.inputs.backgroundColor),t.setProperty(Oa.inputs.color,e.color??Sr.chat.inputs.color),t.setProperty(Oa.inputs.placeholderColor,e.placeholderColor??Sr.chat.inputs.placeholderColor)},Ha=(e,t)=>{t.setProperty(Na.bgImage,null),t.setProperty(Na.bgColor,null),t.setProperty(e?.type===$r.IMAGE?Na.bgImage:Na.bgColor,Ga(e)),t.setProperty(Oa.checkbox.bgColor,e?.type===$r.IMAGE?"rgba(255, 255, 255, 0.75)":(e?.type===$r.COLOR?e.content:"#ffffff")??"#ffffff");var n=e.type===$r.IMAGE?"#000000":e?.type===$r.COLOR&&Fe(e.content)?e.content:"#ffffff";t.setProperty(Na.color,He(n)?"#303235":"#ffffff"),e.type===$r.IMAGE?t.setProperty(Oa.checkbox.baseAlpha,"0.40"):t.setProperty(Oa.checkbox.baseAlpha,"0")},Ga=({type:e,content:t}={})=>{switch(e){case $r.NONE:return"transparent";case $r.COLOR:return t??"#ffffff";case $r.IMAGE:return`url(${t})`;case void 0:return Sr.general.background.content}},Va=(e,t)=>{switch(e){case"none":t.setProperty("--typebot-border-radius","0");break;case"medium":t.setProperty("--typebot-border-radius","6px");break;case"large":t.setProperty("--typebot-border-radius","20px")}},qa=ue("<style>"),Wa=ue('<div><div class="flex w-full h-full justify-center">'),Ka=a=>{const[e,s]=k(),[t,l]=k(""),[n,c]=k(!1),[i,d]=k();return $(()=>{Be(a.typebot)||n()||(async()=>{c(!0);var e=new URLSearchParams(location.search);a.onInit?.();const n={};e.forEach((e,t)=>{n[t]=e});var t="string"==typeof a.typebot?a.typebot:void 0,i="string"!=typeof a.typebot||(a.isPreview??!1),{data:e,error:o,response:r}=await async function({typebot:e,isPreview:t,apiHost:n,prefilledVariables:i,resultId:o,stripeRedirectStatus:r,startFrom:a}){if(Be(e))throw new Error("Typebot ID is required to get initial messages");var s=mt()??void 0,s=s?JSON.parse(s):void 0;if(s){bt();const{data:e,error:t,response:i}=await Oe({method:"POST",url:`${Fe(n)?n:ft()}/api/v1/sessions/${s.sessionId}/continueChat`,body:{message:s?"failed"===r?"fail":"Success":void 0}});return{data:e?{...e,...s?{typebot:s.typebot}:{}}:void 0,error:t,response:i}}r="string"==typeof e?e:e.id;if(t){const{data:t,error:i,response:o}=await Oe({method:"POST",url:`${Fe(n)?n:ft()}/api/v1/typebots/${r}/preview/startChat`,body:{isStreamEnabled:!0,startFrom:a,typebot:e}});return{data:t,error:i,response:o}}var{data:s,error:t,response:a}=await Oe({method:"POST",url:`${Fe(n)?n:ft()}/api/v1/typebots/${r}/startChat`,body:{isStreamEnabled:!0,prefilledVariables:i,resultId:o}});return{data:s,error:t,response:a}}({stripeRedirectStatus:e.get("redirect_status")??void 0,typebot:a.typebot,apiHost:a.apiHost,isPreview:i,resultId:Fe(a.resultId)?a.resultId:Ra(t),prefilledVariables:{...n,...a.prefilledVariables},startFrom:a.startFrom});if(o&&"code"in o&&"string"==typeof o.code){if(i)return d(new Error("An error occurred while loading the bot.",{cause:o.message}));if(["BAD_REQUEST","FORBIDDEN"].includes(o.code))return d(new Error("This bot is now closed."));if("NOT_FOUND"===o.code)return d(new Error("The bot you're looking for doesn't exist."))}if(!e)return o&&console.error(o),console.error({data:e,error:o,response:r}),d(new Error("Error! Couldn't initiate the chat."));if(e.resultId&&t){[i="session"]=[e.typebot.settings.general?.rememberUser?.storage],o=t,r=e.resultId;try{("session"===i?localStorage:sessionStorage).removeItem(Ma+"-"+o),("session"===i?sessionStorage:localStorage).setItem(Ma+"-"+o,r)}catch{}}s(e),l(e.typebot.theme.customCss??""),e.input?.id&&a.onNewInputBlock&&a.onNewInputBlock(e.input),e.logs&&a.onNewLogs?.(e.logs)})().then()}),$(()=>{Be(a.typebot)||"string"==typeof a.typebot||l(a.typebot.theme.customCss??"")}),E(()=>{c(!1)}),[(be(o=qa(),t),o),(be(o=qa(),"#lite-badge{background-color:#fff!important;border-radius:4px!important;border-width:1px!important;bottom:20px!important;color:#111827!important;display:flex!important;font-size:14px!important;font-weight:600!important;gap:8px!important;left:auto!important;line-height:20px!important;opacity:1!important;padding:4px 8px!important;position:absolute!important;right:auto!important;text-decoration:none!important;top:auto!important;transition:background-color .2s ease-in-out!important;visibility:visible!important;z-index:50!important}#lite-badge:hover{background-color:#f7f8ff!important}"),o),V(te,{get when(){return i()},keyed:!0,children:e=>V(La,{error:e})}),V(te,{get when(){return e()},keyed:!0,children:e=>V(Ya,{get class(){return a.class},get initialChatReply(){return{...e,typebot:{...e.typebot,settings:("string"==typeof a.typebot?e:a).typebot?.settings,theme:("string"==typeof a.typebot?e:a).typebot?.theme}}},get context(){return{apiHost:a.apiHost,isPreview:"string"!=typeof a.typebot||(a.isPreview??!1),resultId:e.resultId,sessionId:e.sessionId,typebot:e.typebot}},get onNewInputBlock(){return a.onNewInputBlock},get onNewLogs(){return a.onNewLogs},get onAnswer(){return a.onAnswer},get onEnd(){return a.onEnd}})})];var o},Ya=n=>{let i;const e=new ResizeObserver(e=>vt(e[0].target.clientWidth<400));T(()=>{i&&e.observe(i)}),$(()=>{var e,t;document.getElementById("bot-font")?.getAttribute("href")?.includes(n.initialChatReply.typebot?.theme?.general?.font??Sr.general.font)||((t=document.createElement("link")).href=`https://fonts.bunny.net/css2?family=${n.initialChatReply.typebot?.theme?.general?.font??Sr.general.font}:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap');')`,t.rel="stylesheet",t.id="bot-font",document.head.appendChild(t)),i&&(t=n.initialChatReply.typebot.theme,e=i,t)&&(e=e?.style)&&(za(t.general??Sr.general,e),Ba(t.chat??Sr.chat,e))}),E(()=>{i&&e.unobserve(i)});{const t=Wa(),o=t.firstChild;return"function"==typeof i?me(i,t):i=t,be(o,V(Aa,{get context(){return n.context},get initialChatReply(){return n.initialChatReply},get onNewInputBlock(){return n.onNewInputBlock},get onAnswer(){return n.onAnswer},get onEnd(){return n.onEnd},get onNewLogs(){return n.onNewLogs}})),be(t,V(te,{get when(){return n.initialChatReply.typebot.settings.general?.isBrandingEnabled},get children(){return V(gt,{botContainer:i})}}),null),_(()=>he(t,Ve("relative flex w-full h-full text-base overflow-hidden bg-cover bg-center flex-col items-center typebot-container @container",n.class))),t}},Za=ue("<style>"),Xa=ue('<div part="bot">'),Ja=c=>{const[d,t]=X(c,["onOpen","onClose","previewMessage","onPreviewMessageClick","theme","autoShowDelay"]),[e,n]=k(!0),[i,o]=k(t.prefilledVariables),[r,a]=k(!1),[s,l]=k({message:d.previewMessage?.message??"",avatarUrl:d.previewMessage?.avatarUrl}),[u,p]=k(!1),[h,f]=k(!1),g=(T(()=>{window.addEventListener("message",g);var e=d.autoShowDelay,t=d.previewMessage?.autoShowDelay;mt()&&m(),ze(e)&&setTimeout(()=>{m()},e),ze(t)&&setTimeout(()=>{w()},t)}),E(()=>{window.removeEventListener("message",g)}),$(()=>{c.prefilledVariables&&o(e=>({...e,...c.prefilledVariables}))}),e=>{const t=e["data"];t.isFromTypebot&&("open"===t.command&&m(),"close"===t.command&&v(),"toggle"===t.command&&b(),"showPreviewMessage"===t.command&&w(t.message),"hidePreviewMessage"===t.command&&x(),"setPrefilledVariables"===t.command&&o(e=>({...e,...t.variables})),"unmount"===t.command)&&S()}),m=()=>{h()||f(!0),x(),p(!0),u()&&d.onOpen?.()},v=()=>{p(!1),u()&&d.onClose?.()},b=()=>{(u()?v:m)()},y=()=>{d.onPreviewMessageClick?.(),m()},w=e=>{e&&l(e),u()||a(!0)},x=()=>{a(!1)},S=()=>{u()?(v(),setTimeout(()=>{n(!1)},200)):n(!1)};return V(te,{get when(){return e()},get children(){return[(be(e=Za(),Ie),e),V(te,{get when(){return r()},get children(){return V(st,Z(s,{get placement(){return d.theme?.placement},get previewMessageTheme(){return d.theme?.previewMessage},get buttonSize(){return d.theme?.button?.size},onClick:y,onCloseClick:x}))}}),V(nt,Z(()=>d.theme?.button,{get placement(){return d.theme?.placement},toggleBot:b,get isBotOpened(){return u()}})),(()=>{const l=Xa();return l.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),l.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),l.style.setProperty("z-index","42424242"),be(l,V(te,{get when(){return h()},get children(){return V(Ka,Z(t,{get prefilledVariables(){return i()},class:"rounded-lg"}))}})),_(e=>{var t="large"===c.theme?.button?.size?"calc(100% - 95px)":"calc(100% - 80px)",n=c.theme?.chatWindow?.maxHeight??"704px",i=c.theme?.chatWindow?.maxWidth??"400px",o="left"===c.theme?.placement?"bottom left":"bottom right",r=u()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",a=d.theme?.chatWindow?.backgroundColor,s="fixed rounded-lg w-full"+(u()?" opacity-1":" opacity-0 pointer-events-none")+("large"===c.theme?.button?.size?" bottom-24":" bottom-20")+("left"===c.theme?.placement?" left-5":" right-5");return t!==e._v$&&(null!=(e._v$=t)?l.style.setProperty("height",t):l.style.removeProperty("height")),n!==e._v$2&&(null!=(e._v$2=n)?l.style.setProperty("max-height",n):l.style.removeProperty("max-height")),i!==e._v$3&&(null!=(e._v$3=i)?l.style.setProperty("max-width",i):l.style.removeProperty("max-width")),o!==e._v$4&&(null!=(e._v$4=o)?l.style.setProperty("transform-origin",o):l.style.removeProperty("transform-origin")),r!==e._v$5&&(null!=(e._v$5=r)?l.style.setProperty("transform",r):l.style.removeProperty("transform")),a!==e._v$6&&(null!=(e._v$6=a)?l.style.setProperty("background-color",a):l.style.removeProperty("background-color")),s!==e._v$7&&he(l,e._v$7=s),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),l})()];var e}})},Qa=ue("<style>"),el=ue('<div class="relative" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in" part="overlay"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div>'),tl=a=>{const[t,n]=X(a,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[i,o]=k(n.prefilledVariables),[e,r]=k(t.isOpen??!1),s=(T(()=>{var e=mt(),e=((t.defaultOpen||e)&&c(),window.addEventListener("message",l),t.autoShowDelay);ze(e)&&setTimeout(()=>{c()},e)}),E(()=>{window.removeEventListener("message",l)}),$(()=>{Be(a.isOpen)||a.isOpen===e()||u()}),$(()=>{a.prefilledVariables&&o(e=>({...e,...a.prefilledVariables}))}),e=>{e.stopPropagation()}),l=e=>{const t=e["data"];t.isFromTypebot&&("open"===t.command&&c(),"close"===t.command&&d(),"toggle"===t.command&&u(),"setPrefilledVariables"===t.command&&o(e=>({...e,...t.variables})),"unmount"===t.command)&&d()},c=()=>{r(!0),t.onOpen?.(),document.body.style.setProperty("overflow","hidden","important"),document.addEventListener("pointerdown",d)},d=()=>{r(!1),t.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",d)},u=()=>{(e()?d:c)()};return V(te,{get when(){return e()},get children(){return[(be(e=Qa(),Ie),e),(()=>{const o=el(),e=o.firstChild,r=e.nextSibling.nextSibling.firstChild.firstChild;return be(e,Ie),r.addEventListener("pointerdown",s),be(r,V(Ka,Z(n,{get prefilledVariables(){return i()}}))),_(e=>{var t=a.theme?.zIndex??42424242,n="relative h-[80vh] transform overflow-hidden rounded-lg text-left transition-all sm:my-8 sm:w-full sm:max-w-lg"+(a.theme?.backgroundColor?" shadow-xl":""),i=a.theme?.backgroundColor??"transparent";return t!==e._v$&&(null!=(e._v$=t)?o.style.setProperty("z-index",t):o.style.removeProperty("z-index")),n!==e._v$2&&he(r,e._v$2=n),i!==e._v$3&&(null!=(e._v$3=i)?r.style.setProperty("background-color",i):r.style.removeProperty("background-color")),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})()];var e}})},nl=ue("<style>\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n"),ol=(e,{element:t})=>{const[n,i]=k(!1),o=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)&&i(!0)}),r=(T(()=>{window.addEventListener("message",r),o.observe(t)}),e=>{e=e.data;e.isFromTypebot&&"unmount"===e.command&&i(!1)});return E(()=>{o.disconnect()}),[(a=nl(),s=a.firstChild,be(a,Ie,s),a),V(te,{get when(){return n()},get children(){return V(Ka,e)}})];var a,s},rl=()=>{window.postMessage({isFromTypebot:!0,command:"close"})},il=()=>{window.postMessage({isFromTypebot:!0,command:"hidePreviewMessage"})},al=()=>{window.postMessage({isFromTypebot:!0,command:"open"})},ll=e=>{window.postMessage({isFromTypebot:!0,command:"setPrefilledVariables",variables:e})},sl=e=>{window.postMessage({isFromTypebot:!0,command:"showPreviewMessage",message:e})},cl=()=>{window.postMessage({isFromTypebot:!0,command:"toggle"})},dl=e=>{window.postMessage({isFromTypebot:!0,command:"setInputValue",value:e})},ul=()=>{window.postMessage({isFromTypebot:!0,command:"unmount"})},pl=e=>{var t=e.id?document.getElementById(e.id):document.querySelector("typebot-standard");if(!t)throw new Error("<typebot-standard> element not found.");Object.assign(t,e)},gl=e=>{var t=document.createElement("typebot-popup");Object.assign(t,e),document.body.prepend(t)},hl=e=>{var t=document.createElement("typebot-bubble");Object.assign(t,e),document.body.prepend(t)},fl=("undefined"!=typeof window&&(Ce("typebot-standard",Te,ol),Ce("typebot-bubble",Ae,Ja),Ce("typebot-popup",Ee,tl)),{initStandard:pl,initPopup:gl,initBubble:hl,close:rl,hidePreviewMessage:il,open:al,setPrefilledVariables:ll,showPreviewMessage:sl,toggle:cl,setInputValue:dl,unmount:ul});(e=>{"undefined"!=typeof window&&(window.Typebot={...e})})(fl);export{fl as default};
//# sourceMappingURL=main.min.js.map