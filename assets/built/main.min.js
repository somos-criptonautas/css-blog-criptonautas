function dropdown(){const i=window.matchMedia("(max-width: 767px)"),o=document.querySelector(".gh-head-menu"),r=o?.querySelector(".nav");if(r){const e=document.querySelector(".gh-head-logo"),t=r.innerHTML;i.matches&&r.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"});const n=function(){if(!i.matches){for(var e=[];r.offsetWidth+64>o.offsetWidth;){if(!r.lastElementChild)return;e.unshift(r.lastElementChild),r.lastElementChild.remove()}if(e.length){const t=document.createElement("button"),n=(t.setAttribute("class","nav-more-toggle gh-icon-btn"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));n.setAttribute("class","gh-dropdown"),10<=e.length?(document.body.classList.add("is-dropdown-mega"),n.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):document.body.classList.remove("is-dropdown-mega"),e.forEach(function(e){n.appendChild(e)}),t.appendChild(n),r.appendChild(t),document.body.classList.add("is-dropdown-loaded"),window.addEventListener("click",function(e){document.body.classList.contains("is-dropdown-open")?document.body.classList.remove("is-dropdown-open"):t.contains(e.target)&&document.body.classList.add("is-dropdown-open")})}else document.body.classList.add("is-dropdown-loaded")}};imagesLoaded(e,function(){n()}),window.addEventListener("load",function(){e||n()}),window.addEventListener("resize",function(){setTimeout(()=>{r.innerHTML=t,n()},1)})}}function lightbox(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){var t=e;t.preventDefault();for(var n,i=[],o=0,r=t.target.closest(".kg-card").previousElementSibling;r&&(r.classList.contains("kg-image-card")||r.classList.contains("kg-gallery-card"));){var a=[];r.querySelectorAll("img").forEach(function(e){a.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),o+=1}),r=r.previousElementSibling,i=a.concat(i)}t.target.classList.contains("kg-image")?i.push({src:t.target.getAttribute("src"),msrc:t.target.getAttribute("src"),w:t.target.getAttribute("width"),h:t.target.getAttribute("height"),el:t.target}):(n=!1,t.target.closest(".kg-gallery-card").querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),n||e===t.target?n=!0:o+=1}));for(var s=t.target.closest(".kg-card").nextElementSibling;s&&(s.classList.contains("kg-image-card")||s.classList.contains("kg-gallery-card"));)s.querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e})}),s=s.nextElementSibling;e=document.querySelectorAll(".pswp")[0];new PhotoSwipe(e,PhotoSwipeUI_Default,i,{bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:o,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){var e=i[e].el,t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}).init()})})}function pagination(e,s,l=!1){const c=document.querySelector(".gh-feed");if(!c)return;let t=!1;async function n(){var t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelectorAll(".gh-feed:not(.gh-featured):not(.gh-related) > *");const r=document.createDocumentFragment(),a=[];i.forEach(function(e){e=document.importNode(e,!0);l&&(e.style.visibility="hidden"),r.appendChild(e),a.push(e)}),c.appendChild(r),s&&s(a,u);var o=n.querySelector("link[rel=next]");o&&o.href?t.href=o.href:(t.remove(),d&&d.remove())}catch(e){throw t.remove(),d&&d.remove(),e}}const i=c.nextElementSibling||c.parentElement.nextElementSibling||document.querySelector(".gh-foot"),d=document.querySelector(".gh-loadmore"),u=(!document.querySelector("link[rel=next]")&&d&&d.remove(),async function(){i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await n()});const o=new IntersectionObserver(async function(e){if(!t){if(t=!0,e[0].isIntersecting)if(l)await n();else for(;i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await n();t=!1,document.querySelector("link[rel=next]")||o.disconnect()}});e?o.observe(i):d.addEventListener("click",n)}function flyingPages(){var n,o,i,t,r,e,a,s,l,c=new Set,d=new Set,u=document.createElement("link"),u=u.relList&&u.relList.supports&&u.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype;navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"))||!u||(n=function(i){return new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=i,n.onload=e,n.onerror=t,document.head.appendChild(n)})},o=function(e){var t=setTimeout(function(){return l()},5e3);n(e).catch(function(){return l()}).finally(function(){return clearTimeout(t)})},i=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!d.has(e)&&!c.has(e)){var n=window.location.origin;if(e.substring(0,n.length)===n&&window.location.href!==e){for(var i=0;i<window.FPConfig.ignoreKeywords.length;i++)if(e.includes(window.FPConfig.ignoreKeywords[i]))return;(t?(o(e),d):c).add(e)}}},t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e=e.target.href,i(e,!window.FPConfig.maxRPS))})}),r=null,e=function(e){var t=e.target.closest("a");t&&t.href&&!d.has(t.href)&&(r=setTimeout(function(){i(t.href,!0)},window.FPConfig.hoverDelay))},a=function(e){e=e.target.closest("a");e&&e.href&&!d.has(e.href)&&i(e.href,!0)},s=function(e){e=e.target.closest("a");e&&e.href&&!d.has(e.href)&&clearTimeout(r)},u=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return(0,Math.max)(0,50-(Date.now()-t))}})},1)},l=function(){document.querySelectorAll("a").forEach(function(e){return t.unobserve(e)}),c.clear(),document.removeEventListener("mouseover",e,!0),document.removeEventListener("mouseout",s,!0),document.removeEventListener("touchstart",a,!0)},window.FPConfig=Object.assign({delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50},window.FPConfig),setInterval(function(){Array.from(c).slice(0,window.FPConfig.maxRPS).forEach(function(e){o(e),d.add(e),c.delete(e)})},1e3),u(function(){return setTimeout(function(){return document.querySelectorAll("a").forEach(function(e){return t.observe(e)})},1e3*window.FPConfig.delay)}),u={capture:!0,passive:!0},document.addEventListener("mouseover",e,u),document.addEventListener("mouseout",s,u),document.addEventListener("touchstart",a,u))}!function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;return e&&t&&((n=(n=this._events=this._events||{})[e]=n[e]||[]).includes(t)||n.push(t)),this},t.once=function(e,t){var n;return e&&t&&(this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];var i,o=this._onceEvents&&this._onceEvents[e];for(i of n)o&&o[i]&&(this.off(e,i),delete o[i]),i.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let r=t.jQuery,a=t.console;function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);let i=e;var o;(i="string"==typeof e?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?[...o]:[o]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(i||e))}(s.prototype=Object.create(e.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11],l=(s.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t,n,i=e["nodeType"];if(i&&o.includes(i)){for(t of e.querySelectorAll("img"))this.addImage(t);if("string"==typeof this.options.background)for(n of e.querySelectorAll(this.options.background))this.addElementBackgroundImages(n)}},/url\((['"])?(.*?)\1\)/gi);function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var n=getComputedStyle(t);if(n){let e=l.exec(n.backgroundImage);for(;null!==e;){var i=e&&e[2];i&&this.addBackground(i,t),e=l.exec(n.backgroundImage)}}},s.prototype.addImage=function(e){e=new n(e);this.images.push(e)},s.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length){let t=(e,t,n)=>{setTimeout(()=>{this.progress(e,t,n)})};this.images.forEach(function(e){e.once("progress",t),e.check()})}else this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e;e=this.img.parentNode,e="PICTURE"===e.nodeName?e:this.img;this.emitEvent("progress",[this,e,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(r(this))})})(),s}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,s){function e(e){if(C)return!0;e=e||window.event,E.timeToIdle&&E.mouseUsed&&!b&&l();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<N.length;o++)(t=N[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),C=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){C=!1},e))}function n(){var e=1===E.getNumItemsFn();e!==S&&(M(p,"ui--one-slide",e),S=e)}function a(){M(v,"share-modal--hidden",P)}function o(){if((P=!P)?(s.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){P&&a()},300)):(a(),setTimeout(function(){P||s.addClass(v,"pswp__share-modal--fade-in")},30)),!P){for(var e,t,n,i,o="",r=0;r<E.shareButtons.length;r++)e=E.shareButtons[r],t=E.getImageURLForShare(e),n=E.getPageURLForShare(e),i=E.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",E.parseShareButtonOut&&(o=E.parseShareButtonOut(e,o));v.children[0].innerHTML=o,v.children[0].onclick=j}}function r(e){for(var t=0;t<E.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+E.closeElClasses[t]))return!0}function l(){clearTimeout(I),D=0,b&&T.setIdle(!1)}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(I),I=setTimeout(function(){T.setIdle(!0)},E.timeToIdleOutside))}function d(e){_!==e&&(M(x,"preloader--active",!e),_=e)}function u(e){var t,n=e.vGap;!i.likelyTouchDevice||E.mouseUsed||screen.width>E.fitControlsWidth?(t=E.barsSize,E.captionEl&&"auto"===t.bottom?(m||((m=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),p.insertBefore(m,f),s.addClass(p,"pswp__ui--fit")),E.addCaptionHTMLFn(e,m,!0)?(e=m.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function F(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],r=o.className;for(var i=0;i<N.length;i++)a=N[i],-1<r.indexOf("pswp__"+a.name)&&(E[a.option]?(s.removeClass(o,"pswp__element--disabled"),a.onInit&&a.onInit(o)):s.addClass(o,"pswp__element--disabled"))}}e(p.children);var o,r,a,t=s.getChildByClass(p,"pswp__top-bar");t&&e(t.children)}var h,p,f,m,t,g,v,y,b,w,x,_,k,S,E,C,A,I,T=this,L=!1,O=!0,P=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},M=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},j=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),P||o(),1))},D=0,N=[{name:"caption",option:"captionEl",onInit:function(e){f=e}},{name:"share-modal",option:"shareEl",onInit:function(e){v=e},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(e){g=e},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){x=e}}];T.init=function(){var t;s.extend(i.options,z,!0),E=i.options,p=s.getChildByClass(i.scrollWrap,"pswp__ui"),(w=i.listen)("onVerticalDrag",function(e){O&&e<.95?T.hideControls():!O&&.95<=e&&T.showControls()}),w("onPinchClose",function(e){O&&e<.9?(T.hideControls(),t=!0):t&&!O&&.9<e&&T.showControls()}),w("zoomGestureEnded",function(){(t=!1)&&!O&&T.showControls()}),w("beforeChange",T.update),w("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(E.getDoubleTapZoom(!1,i.currItem),e,333)}),w("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),w("bindEvents",function(){s.bind(p,"pswpTap click",e),s.bind(i.scrollWrap,"pswpTap",T.onGlobalTap),i.likelyTouchDevice||s.bind(i.scrollWrap,"mouseover",T.onMouseOver)}),w("unbindEvents",function(){P||o(),A&&clearInterval(A),s.unbind(document,"mouseout",c),s.unbind(document,"mousemove",l),s.unbind(p,"pswpTap click",e),s.unbind(i.scrollWrap,"pswpTap",T.onGlobalTap),s.unbind(i.scrollWrap,"mouseover",T.onMouseOver),h&&(s.unbind(document,h.eventK,T.updateFullscreen),h.isFullscreen()&&(E.hideAnimationDuration=0,h.exit()),h=null)}),w("destroy",function(){E.captionEl&&(m&&p.removeChild(m),s.removeClass(f,"pswp__caption--empty")),v&&(v.children[0].onclick=null),s.removeClass(p,"pswp__ui--over-close"),s.addClass(p,"pswp__ui--hidden"),T.setIdle(!1)}),E.showAnimationDuration||s.removeClass(p,"pswp__ui--hidden"),w("initialZoomIn",function(){E.showAnimationDuration&&s.removeClass(p,"pswp__ui--hidden")}),w("initialZoomOut",function(){s.addClass(p,"pswp__ui--hidden")}),w("parseVerticalMargin",u),F(),E.shareEl&&g&&v&&(P=!0),n(),E.timeToIdle&&w("mouseUsed",function(){s.bind(document,"mousemove",l),s.bind(document,"mouseout",c),A=setInterval(function(){2===++D&&T.setIdle(!0)},E.timeToIdle/2)}),E.fullscreenEl&&!s.features.isOldAndroid&&((h=h||T.getFullscreenAPI())?(s.bind(document,h.eventK,T.updateFullscreen),T.updateFullscreen(),s.addClass(i.template,"pswp--supports-fs")):s.removeClass(i.template,"pswp--supports-fs")),E.preloaderEl&&(d(!0),w("beforeChange",function(){clearTimeout(k),k=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||d(!1):d(!0)},E.loadingIndicatorDelay)}),w("imageLoadComplete",function(e,t){i.currItem===t&&d(!0)}))},T.setIdle=function(e){M(p,"ui--idle",b=e)},T.update=function(){L=!(!O||!i.currItem||(T.updateIndexIndicator(),E.captionEl&&(E.addCaptionHTMLFn(i.currItem,f),M(f,"caption--empty",!i.currItem.title)),0)),P||o(),n()},T.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,s.getScrollY())},50),s[(h.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},T.updateIndexIndicator=function(){E.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+E.indexIndicatorSep+E.getNumItemsFn())},T.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!C)if(e.detail&&"mouse"===e.detail.pointerType)r(t)?i.close():s.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?E.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(E.tapToToggleControls&&(O?T.hideControls():T.showControls()),E.tapToClose&&(s.hasClass(t,"pswp__img")||r(t)))return void i.close()},T.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;M(p,"ui--over-close",r(e))},T.hideControls=function(){s.addClass(p,"pswp__ui--hidden"),O=!1},T.showControls=function(){O=!0,L||T.update(),s.removeClass(p,"pswp__ui--hidden")},T.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},T.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return y=E.closeOnScroll,E.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return E.closeOnScroll=y,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(h,z,t,j){var p={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){p.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){p.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(p.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(p.features)return p.features;var e,t,n=p.createEl().style,i="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var r,a,s,l=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],d=0;d<4;d++){for(var i=c[d],u=0;u<3;u++)r=l[u],a=i+(i?r.charAt(0).toUpperCase()+r.slice(1):r),!o[r]&&a in n&&(o[r]=a);i&&!o.raf&&(i=i.toLowerCase(),o.raf=window[i+"RequestAnimationFrame"],o.raf)&&(o.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}return o.raf||(s=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=window.setTimeout(function(){e(t+n)},n);return s=t+n,i},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=o}},f=(p.detectFeatures(),p.features.oldIE&&(p.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)}),this),B=25,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};p.extend(m,j);function e(){return{x:0,y:0}}function R(e,t){p.extend(f,t.publicMethods),He.push(e)}function $(e){var t=M();return t-1<e?e-t:e<0?t+e:e}function r(e,t){return Ye[e]||(Ye[e]=[]),Ye[e].push(t)}function q(e,t,n,i){i===f.currItem.initialZoomLevel?n[e]=f.currItem.initialPosition[e]:(n[e]=Qe(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function Z(e){var t="";m.escKey&&27===e.keyCode?t="close":m.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]())}function U(e){e&&(Te||Ie||y||Ee)&&(e.preventDefault(),e.stopPropagation())}function H(){f.setScrollOffset(0,p.getScrollY())}function W(e){var t;"mousedown"===e.type&&0<e.button||(Qt?e.preventDefault():Ce&&"mousedown"===e.type||(Ot(e,!0)&&e.preventDefault(),k("pointerDown"),pe&&((t=p.arraySearch(mt,e.pointerId,"id"))<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Bt(e)).length,c=null,ct(),l&&1!==e||(l=Ne=!0,p.bind(window,ee,f),Se=je=Fe=Ee=Oe=Te=Ae=Ie=!1,De=null,k("firstTouchStart",t),A($e,b),Re.x=Re.y=0,A(O,t[0]),A(ft,O),gt.x=x.x*qe,vt=[{x:O.x,y:O.y}],_e=xe=S(),it(v,!0),Ct(),At()),!d&&1<e&&!y&&!Oe&&(ne=v,d=Ae=!(Ie=!1),Re.y=Re.x=0,A($e,b),A(T,t[0]),A(pt,t[1]),Mt(T,pt,kt),_t.x=Math.abs(kt.x)-b.x,_t.y=Math.abs(kt.y)-b.y,Pe=Et(T,pt))))}function V(e){var t;e.preventDefault(),pe&&-1<(t=p.arraySearch(mt,e.pointerId,"id"))&&((t=mt[t]).x=e.pageX,t.y=e.pageY),l&&(t=Bt(e),De||Te||d?c=t:P.x!==x.x*qe?De="h":(e=Math.abs(t[0].x-O.x)-Math.abs(t[0].y-O.y),Math.abs(e)>=ht&&(De=0<e?"h":"v",c=t)))}function Y(e){if(s.isOldAndroid){if(Ce&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Ce),Ce=setTimeout(function(){Ce=0},600))}var t;k("pointerUp"),Ot(e,!1)&&e.preventDefault(),pe&&-1<(r=p.arraySearch(mt,e.pointerId,"id"))&&(t=mt.splice(r,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(r=Bt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(c=null);1===n&&A(ft,r[0]),0!==n||De||y||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),k("touchRelease",e,t));var i,o,r=-1;if(0===n&&(l=!1,p.unbind(window,ee,f),Ct(),d?r=0:-1!==xt&&(r=S()-xt)),xt=1===n?S():-1,e=-1!==r&&r<150?"zoom":"swipe",d&&n<2&&(d=!1,1===n&&(e="zoomPointerUp"),k("zoomGestureEnded")),c=null,Te||Ie||y||Ee)if(ct(),(ke=ke||qt()).calculateSwipeSpeed("x"),Ee)Nt()<m.verticalDragRange?f.close():(i=b.y,o=ze,dt("verticalDrag",0,1,300,p.easing.cubic.out,function(e){b.y=(f.currItem.initialPosition.y-i)*e+i,E((1-o)*e+o),C()}),k("onVerticalDrag",1));else{if((Oe||y)&&0===n){if(Ut(e,ke))return;e="zoomPointerUp"}if(!y)return"swipe"!==e?void Wt():void(!Oe&&v>f.currItem.fitRatio&&Zt(ke))}}var G,X,K,g,J,Q,ee,te,i,v,ne,ie,oe,re,ae,a,se,le,ce,de,ue,he,pe,o,fe,me,ge,ve,ye,be,s,we,xe,_e,ke,Se,Ee,Ce,l,Ae,Ie,Te,Le,Oe,c,d,Pe,u,Me,y,De,Ne,Fe,ze,je,Be,Re=e(),$e=e(),b=e(),w={},qe=0,Ze={},x=e(),_=0,Ue=!0,He=[],We={},Ve=!1,Ye={},k=function(e){var t=Ye[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(f,n)}},S=function(){return(new Date).getTime()},E=function(e){ze=e,f.bg.style.opacity=e*m.bgOpacity},Ge=function(e,t,n,i,o){(!Ve||o&&o!==f.currItem)&&(i/=(o||f.currItem).fitRatio),e[he]=ie+t+"px, "+n+"px"+oe+" scale("+i+")"},C=function(e){Me&&(e&&(v>f.currItem.fitRatio?Ve||(cn(f.currItem,!1,!0),Ve=!0):Ve&&(cn(f.currItem),Ve=!1)),Ge(Me,b.x,b.y,v))},Xe=function(e){e.container&&Ge(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ke=function(e,t){t[he]=ie+e+"px, 0px"+oe},Je=function(e,t){var n;!m.loop&&t&&(t=g+(x.x*qe-e)/x.x,n=Math.round(e-P.x),t<0&&0<n||t>=M()-1&&n<0)&&(e=P.x+n*m.mainScrollEndFriction),P.x=e,Ke(e,J)},Qe=function(e,t){var n=_t[e]-Ze[e];return $e[e]+Re[e]+n-t/ne*n},A=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(p.unbind(document,"mousemove",nt),p.addClass(h,"pswp--has_mouse"),m.mouseUsed=!0,k("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=sn(f.currItem,w,e);return t&&(u=e),e},ot=function(e){return(e=e||f.currItem).initialZoomLevel},rt=function(e){return 0<(e=e||f.currItem).w?m.maxSpreadZoom:1},I={},at=0,st=function(e){I[e]&&(I[e].raf&&me(I[e].raf),at--,delete I[e])},lt=function(e){I[e]&&st(e),I[e]||(at++,I[e]={})},ct=function(){for(var e in I)I.hasOwnProperty(e)&&st(e)},dt=function(e,t,n,i,o,r,a){function s(){I[e]&&(l=S()-c,i<=l?(st(e),r(n),a&&a()):(r((n-t)*o(l/i)+t),I[e].raf=fe(s)))}var l,c=S();lt(e);s()},j={shout:k,listen:r,viewportSize:w,options:m,isMainScrollAnimating:function(){return y},getZoomLevel:function(){return v},getCurrentIndex:function(){return g},isDragging:function(){return l},isZooming:function(){return d},setScrollOffset:function(e,t){Ze.x=e,be=Ze.y=t,k("updateScrollOffset",Ze)},applyZoomPan:function(e,t,n,i){b.x=t,b.y=n,v=e,C(i)},init:function(){if(!G&&!X){f.framework=p,f.template=h,f.bg=p.getChildByClass(h,"pswp__bg"),ge=h.className,G=!0,s=p.detectFeatures(),fe=s.raf,me=s.caf,he=s.transform,ye=s.oldIE,f.scrollWrap=p.getChildByClass(h,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),J=f.container.style,f.itemHolders=a=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],a[0].el.style.display=a[2].el.style.display="none",he?(t=s.perspective&&!o,ie="translate"+(t?"3d(":"("),oe=s.perspective?", 0px)":")"):(he="left",p.addClass(h,"pswp--ie"),Ke=function(e,t){t.left=e+"px"},Xe=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},C=function(){var e,t,n,i;Me&&(e=Me,n=(i=1<(t=f.currItem).fitRatio?1:t.fitRatio)*t.w,i=i*t.h,e.width=n+"px",e.height=i+"px",e.left=b.x+"px",e.top=b.y+"px")}),i={resize:f.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){w.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:H,keydown:Z,click:U};var e,t=s.isOldIOSPhone||s.isOldAndroid||s.isMobileOpera;for(s.animationName&&s.transform&&!t||(m.showAnimationDuration=m.hideAnimationDuration=0),e=0;e<He.length;e++)f["init"+He[e]]();z&&(f.ui=new z(f,p)).init(),k("firstUpdate"),g=g||m.index||0,(isNaN(g)||g<0||g>=M())&&(g=0),f.currItem=en(g),(s.isOldIOSPhone||s.isOldAndroid)&&(Ue=!1),h.setAttribute("aria-hidden","false"),m.modal&&(Ue?h.style.position="fixed":(h.style.position="absolute",h.style.top=p.getScrollY()+"px")),void 0===be&&(k("initialLayout"),be=ve=p.getScrollY());var n="pswp--open ";for(m.mainClass&&(n+=m.mainClass+" "),m.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=o?"pswp--touch":"pswp--notouch")+(s.animationName?" pswp--css_animation":""))+(s.svg?" pswp--svg":""),p.addClass(h,n),f.updateSize(),Q=-1,_=null,e=0;e<3;e++)Ke((e+Q)*x.x,a[e].el.style);ye||p.bind(f.scrollWrap,te,f),r("initialZoomInEnd",function(){f.setContent(a[0],g-1),f.setContent(a[2],g+1),a[0].el.style.display=a[2].el.style.display="block",m.focus&&h.focus(),p.bind(document,"keydown",f),s.transform&&p.bind(f.scrollWrap,"click",f),m.mouseUsed||p.bind(document,"mousemove",nt),p.bind(window,"resize scroll orientationchange",f),k("bindEvents")}),f.setContent(a[1],g),f.updateCurrItem(),k("afterInit"),Ue||(re=setInterval(function(){at||l||d||v!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(h,"pswp--visible")}var t},close:function(){G&&(X=!(G=!1),k("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",i.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",nt),s.transform&&p.unbind(f.scrollWrap,"click",f),l&&p.unbind(window,ee,f),clearTimeout(we),k("unbindEvents"),tn(f.currItem,null,!0,f.destroy))},destroy:function(){k("destroy"),Xt&&clearTimeout(Xt),h.setAttribute("aria-hidden","true"),h.className=ge,re&&clearInterval(re),p.unbind(f.scrollWrap,te,f),p.unbind(window,"scroll",f),Ct(),ct(),Ye=null},panTo:function(e,t,n){n||(e>u.min.x?e=u.min.x:e<u.max.x&&(e=u.max.x),t>u.min.y?t=u.min.y:t<u.max.y&&(t=u.max.y)),b.x=e,b.y=t,C()},handleEvent:function(e){e=e||window.event,i[e.type]&&i[e.type](e)},goTo:function(e){var t=(e=$(e))-g;_=t,g=e,f.currItem=en(g),qe-=t,Je(x.x*qe),ct(),y=!1,f.updateCurrItem()},next:function(){f.goTo(g+1)},prev:function(){f.goTo(g-1)},updateCurrZoomItem:function(e){var t;e&&k("beforeChange",0),Me=a[1].el.children.length&&(t=a[1].el.children[0],p.hasClass(t,"pswp__zoom-wrap"))?t.style:null,u=f.currItem.bounds,ne=v=f.currItem.initialZoomLevel,b.x=u.center.x,b.y=u.center.y,e&&k("afterChange")},invalidateCurrItems:function(){ae=!0;for(var e=0;e<3;e++)a[e].item&&(a[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==_){var t,n=Math.abs(_);if(!(e&&n<2)){f.currItem=en(g),Ve=!1,k("beforeChange",_),3<=n&&(Q+=_+(0<_?-3:3),n=3);for(var i=0;i<n;i++)0<_?(t=a.shift(),a[2]=t,Ke((++Q+2)*x.x,t.el.style),f.setContent(t,g-n+i+1+1)):(t=a.pop(),a.unshift(t),Ke(--Q*x.x,t.el.style),f.setContent(t,g+n-i-1-1));Me&&1===Math.abs(_)&&(e=en(se)).initialZoomLevel!==v&&(sn(e,w),cn(e),Xe(e)),_=0,f.updateCurrZoomItem(),se=g,k("afterChange")}}},updateSize:function(e){if(!Ue&&m.modal){var t=p.getScrollY();if(be!==t&&(h.style.top=t+"px",be=t),!e&&We.x===window.innerWidth&&We.y===window.innerHeight)return;We.x=window.innerWidth,We.y=window.innerHeight,h.style.height=We.y+"px"}if(w.x=f.scrollWrap.clientWidth,w.y=f.scrollWrap.clientHeight,H(),x.x=w.x+Math.round(w.x*m.spacing),x.y=w.y,Je(x.x*qe),k("beforeResize"),void 0!==Q){for(var n,i,o,r=0;r<3;r++)n=a[r],Ke((r+Q)*x.x,n.el.style),o=g+r-1,m.loop&&2<M()&&(o=$(o)),(i=en(o))&&(ae||i.needsUpdate||!i.bounds)?(f.cleanSlide(i),f.setContent(n,o),1===r&&(f.currItem=i,f.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&f.setContent(n,o),i&&i.container&&(sn(i,w),cn(i),Xe(i));ae=!1}ne=v=f.currItem.initialZoomLevel,(u=f.currItem.bounds)&&(b.x=u.center.x,b.y=u.center.y,C(!0)),k("resize")},zoomTo:function(t,e,n,i,o){e&&(ne=v,_t.x=Math.abs(e.x)-b.x,_t.y=Math.abs(e.y)-b.y,A($e,b));function r(e){1===e?(v=t,b.x=a.x,b.y=a.y):(v=(t-s)*e+s,b.x=(a.x-l.x)*e+l.x,b.y=(a.y-l.y)*e+l.y),o&&o(e),C(1===e)}var e=it(t,!1),a={},s=(q("x",e,a,t),q("y",e,a,t),v),l={x:b.x,y:b.y};et(a);n?dt("customZoomTo",0,1,n,i||p.easing.sine.inOut,r):r(1)}},ut=30,ht=10,T={},pt={},L={},O={},ft={},mt=[],gt={},vt=[],yt={},bt=0,wt=e(),xt=0,P=e(),_t=e(),kt=e(),St=function(e,t){return e.x===t.x&&e.y===t.y},Et=function(e,t){return yt.x=Math.abs(e.x-t.x),yt.y=Math.abs(e.y-t.y),Math.sqrt(yt.x*yt.x+yt.y*yt.y)},Ct=function(){Le&&(me(Le),Le=null)},At=function(){l&&(Le=fe(At),$t())},It=function(){return!("fit"===m.scaleMode&&v===f.currItem.initialZoomLevel)},Tt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Tt(e.parentNode,t))},Lt={},Ot=function(e,t){return Lt.prevent=!Tt(e.target,m.isClickableElement),k("preventDragEvent",e,t,Lt),Lt.prevent},Pt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Dt=function(e,t,n){var i;50<e-_e&&((i=2<vt.length?vt.shift():{}).x=t,i.y=n,vt.push(i),_e=e)},Nt=function(){var e=b.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(w.y/2))},Ft={},zt={},jt=[],Bt=function(e){for(;0<jt.length;)jt.pop();return pe?(Be=0,mt.forEach(function(e){0===Be?jt[0]=e:1===Be&&(jt[1]=e),Be++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(jt[0]=Pt(e.touches[0],Ft),1<e.touches.length)&&(jt[1]=Pt(e.touches[1],zt)):(Ft.x=e.pageX,Ft.y=e.pageY,Ft.id="",jt[0]=Ft),jt},Rt=function(e,t){var n,i,o,r=b[e]+t[e],a=0<t[e],s=P.x+t.x,l=P.x-gt.x,c=r>u.min[e]||r<u.max[e]?m.panEndFriction:1,r=b[e]+t[e]*c;return!m.allowPanToNext&&v!==f.currItem.initialZoomLevel||(Me?"h"!==De||"x"!==e||Ie||(a?(r>u.min[e]&&(c=m.panEndFriction,u.min[e],n=u.min[e]-$e[e]),(n<=0||l<0)&&1<M()?(o=s,l<0&&s>gt.x&&(o=gt.x)):u.min.x!==u.max.x&&(i=r)):(r<u.max[e]&&(c=m.panEndFriction,u.max[e],n=$e[e]-u.max[e]),(n<=0||0<l)&&1<M()?(o=s,0<l&&s<gt.x&&(o=gt.x)):u.min.x!==u.max.x&&(i=r))):o=s,"x"!==e)?void(y||Oe||v>f.currItem.fitRatio&&(b[e]+=t[e]*c)):(void 0!==o&&(Je(o,!0),Oe=o!==gt.x),u.min.x!==u.max.x&&(void 0!==i?b.x=i:Oe||(b.x+=t.x*c)),void 0!==o)},$t=function(){var e,t,n,i,o,r;c&&0!==(e=c.length)&&(A(T,c[0]),L.x=T.x-O.x,L.y=T.y-O.y,d&&1<e?(O.x=T.x,O.y=T.y,!L.x&&!L.y&&St(c[1],pt)||(A(pt,c[1]),Ie||(Ie=!0,k("zoomGestureStarted")),e=Et(T,pt),(t=Ht(e))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(je=!0),n=1,i=ot(),o=rt(),t<i?m.pinchToClose&&!je&&ne<=f.currItem.initialZoomLevel?(E(r=1-(i-t)/(i/1.2)),k("onPinchClose",r),Fe=!0):t=i-(n=1<(n=(i-t)/i)?1:n)*(i/3):o<t&&(t=o+(n=1<(n=(t-o)/(6*i))?1:n)*i),n<0&&(n=0),Mt(T,pt,wt),Re.x+=wt.x-kt.x,Re.y+=wt.y-kt.y,A(kt,wt),b.x=Qe("x",t),b.y=Qe("y",t),Se=v<t,v=t,C())):De&&(Ne&&(Ne=!1,Math.abs(L.x)>=ht&&(L.x-=c[0].x-ft.x),Math.abs(L.y)>=ht)&&(L.y-=c[0].y-ft.y),O.x=T.x,O.y=T.y,0===L.x&&0===L.y||("v"===De&&m.closeOnVerticalDrag&&!It()?(Re.y+=L.y,b.y+=L.y,r=Nt(),Ee=!0,k("onVerticalDrag",r),E(r),C()):(Dt(S(),T.x,T.y),Te=!0,u=f.currItem.bounds,Rt("x",L)||(Rt("y",L),et(b),C())))))},qt=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<vt.length?(t=S()-_e+50,vt[vt.length-2]):(t=S()-xe,ft))[e],i.lastFlickOffset[e]=O[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(b[t]>u.min[t]?i.backAnimDestination[t]=u.min[t]:b[t]<u.max[t]&&(i.backAnimDestination[t]=u.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05)&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,dt("bounceZoomPan"+t,b[t],i.backAnimDestination[t],e||300,p.easing.sine.out,function(e){b[t]=e,C()})))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,b[e]+=i.distanceOffset[e])},panAnimLoop:function(){I.zoomPan&&(I.zoomPan.raf=fe(i.panAnimLoop),i.now=S(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),C(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05)&&i.speedDecelerationRatioAbs.y<.05&&(b.x=Math.round(b.x),b.y=Math.round(b.y),C(),st("zoomPan"))}};return i},Zt=function(e){return e.calculateSwipeSpeed("y"),u=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=S(),void e.panAnimLoop())},Ut=function(e,t){var n,i,o;y||(bt=g),"swipe"===e&&(e=O.x-ft.x,r=t.lastFlickDist.x<10,ut<e&&(r||20<t.lastFlickOffset.x)?i=-1:e<-ut&&(r||t.lastFlickOffset.x<-20)&&(i=1)),i&&((g+=i)<0?(g=m.loop?M()-1:0,o=!0):g>=M()&&(g=m.loop?0:M()-1,o=!0),o&&!m.loop||(_+=i,qe-=i,n=!0));var e=x.x*qe,r=Math.abs(e-P.x),a=n||e>P.x==0<t.lastFlickSpeed.x?(a=0<Math.abs(t.lastFlickSpeed.x)?r/Math.abs(t.lastFlickSpeed.x):333,a=Math.min(a,400),Math.max(a,250)):333;return bt===g&&(n=!1),y=!0,k("mainScrollAnimStart"),dt("mainScroll",P.x,e,a,p.easing.cubic.out,Je,function(){ct(),y=!1,bt=-1,!n&&bt===g||f.updateCurrItem(),k("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Ht=function(e){return 1/Pe*e*ne},Wt=function(){var e=v,t=ot(),n=rt();v<t?e=t:n<v&&(e=n);var i,o=ze;return Fe&&!Se&&!je&&v<t?f.close():(Fe&&(i=function(e){E((1-o)*e+o)}),f.zoomTo(e,0,200,p.easing.cubic.out,i)),!0};R("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){le=e+t,ce=e+n,de=e+i,ue=o?e+o:""}(pe=s.pointerEvent)&&s.touch&&(s.touch=!1),pe?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):s.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),ee=ce+" "+de+" "+ue,te=le,pe&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=o,i[le]=W,i[ce]=V,i[de]=Y,ue&&(i[ue]=i[de]),s.touch&&(te+=" mousedown",ee+=" mousemove mouseup",i.mousedown=i[le],i.mousemove=i[ce],i.mouseup=i[de]),o||(m.allowPanToNext=!1)}}});function Vt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=p.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Yt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=m.errorMsg.replace("%url%",e.src),1)}function Gt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var Xt,Kt,Jt,Qt,en,M,tn=function(r,e,a,t){function s(){st("initialZoom"),a?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(E(1),e&&(e.style.display="block"),p.addClass(h,"pswp--animated-in"),k("initialZoom"+(a?"OutEnd":"InEnd"))),t&&t(),Qt=!1}Xt&&clearTimeout(Xt),Jt=Qt=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=m.getThumbBoundsFn&&m.getThumbBoundsFn(g);var l,c,d,u=a?m.hideAnimationDuration:m.showAnimationDuration;u&&l&&void 0!==l.x?(c=K,d=!f.currItem.src||f.currItem.loadError||m.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),a||(v=l.w/r.w,b.x=l.x,b.y=l.y-ve,f[d?"template":"bg"].style.opacity=.001,C()),lt("initialZoom"),a&&!c&&p.removeClass(h,"pswp--animated-in"),d&&(a?p[(c?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){p.addClass(h,"pswp--animate_opacity")},30)),Xt=setTimeout(function(){var t,n,i,o,e;k("initialZoom"+(a?"Out":"In")),a?(t=l.w/r.w,n={x:b.x,y:b.y},i=v,o=ze,e=function(e){1===e?(v=t,b.x=l.x,b.y=l.y-be):(v=(t-i)*e+i,b.x=(l.x-n.x)*e+n.x,b.y=(l.y-be-n.y)*e+n.y),C(),d?h.style.opacity=1-e:E(o-e*o)},c?dt("initialZoom",0,1,u,p.easing.cubic.out,e,s):(e(1),Xt=setTimeout(s,u+20))):(v=r.initialZoomLevel,A(b,r.initialPosition),C(),E(1),d?h.style.opacity=1:E(1),Xt=setTimeout(s,u+20))},a?25:90)):(k("initialZoom"+(a?"Out":"In")),v=r.initialZoomLevel,A(b,r.initialPosition),C(),h.style.opacity=a?0:1,E(1),u?setTimeout(function(){s()},u):s())},D={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Kt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var i=e.bounds;i.center.x=Math.round((D.x-t)/2),i.center.y=Math.round((D.y-n)/2)+e.vGap.top,i.max.x=t>D.x?Math.round(D.x-t):i.center.x,i.max.y=n>D.y?Math.round(D.y-n)+e.vGap.top:i.center.y,i.min.x=t>D.x?0:i.center.x,i.min.y=n>D.y?e.vGap.top:i.center.y},sn=function(e,t,n){var i,o;return e.src&&!e.loadError?((i=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),k("parseVerticalMargin",e)),D.x=t.x,D.y=t.y-e.vGap.top-e.vGap.bottom,i&&(t=D.x/e.w,o=D.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=m.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=rn())),n?(an(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,cn(t,i,t===f.currItem&&Ve),n.appendChild(i),r)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},cn=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")};R("Controller",{publicMethods:{lazyLoadItem:function(e){e=$(e);var t=en(e);t&&(!t.loaded&&!t.loading||ae)&&(k("gettingData",e,t),t.src)&&Vt(t)},initController:function(){p.extend(m,on,!0),f.items=Kt=t,en=f.getItemAt,M=m.getNumItemsFn,m.loop,M()<3&&(m.loop=!1),r("beforeChange",function(e){for(var t=m.preload,n=null===e||0<=e,i=Math.min(t[0],M()),o=Math.min(t[1],M()),r=1;r<=(n?o:i);r++)f.lazyLoadItem(g+r);for(r=1;r<=(n?i:o);r++)f.lazyLoadItem(g-r)}),r("initialLayout",function(){f.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(g)}),r("mainScrollAnimComplete",Gt),r("initialZoomInEnd",Gt),r("destroy",function(){for(var e,t=0;t<Kt.length;t++)(e=Kt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==Kt[e]&&Kt[e]},allowProgressiveImg:function(){return m.forceProgressiveLoading||!o||m.mouseUsed||1200<screen.width},setContent:function(t,n){m.loop&&(n=$(n));var e=f.getItemAt(t.index);e&&(e.container=null);var i,o,r,e=f.getItemAt(n);e?(k("gettingData",n,e),t.index=n,o=(t.item=e).container=p.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?o.appendChild(e.html):o.innerHTML=e.html),Yt(e),sn(e,w),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((i=p.createEl("pswp__img","img")).style.opacity=1,i.src=e.src,cn(e,i),ln(n,e,o,i,!0)):(e.loadComplete=function(e){if(G){if(t&&t.index===n){if(Yt(e,!0))return e.loadComplete=e.img=null,sn(e,w),Xe(e),void(t.index===g&&f.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):s.transform&&(y||Qt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,o,e.img,y||Qt,!0)}e.loadComplete=null,e.img=null,k("imageLoadComplete",n,e)}},p.features.transform&&(r="pswp__img pswp__img--placeholder",r+=e.msrc?"":" pswp__img--placeholder--blank",r=p.createEl(r,e.msrc?"img":""),e.msrc&&(r.src=e.msrc),cn(e,r),o.appendChild(r),e.placeholder=r),e.loading||Vt(e),f.allowProgressiveImg()&&(!Jt&&s.transform?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t}):ln(n,e,o,e.img,!0,!0))),Jt||n!==g?Xe(e):(Me=o.style,tn(e,i||e.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function dn(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}var un,N,hn={};R("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",f.onTapStart),r("touchRelease",f.onTapRelease),r("destroy",function(){hn={},un=null})},onTapStart:function(e){1<e.length&&(clearTimeout(un),un=null)},onTapRelease:function(e,t){var n,i,o;!t||Te||Ae||at||(n=t,un&&(clearTimeout(un),un=null,i=n,o=hn,Math.abs(i.x-o.x)<B)&&Math.abs(i.y-o.y)<B?k("doubleTap",n):"mouse"===t.type?dn(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||p.hasClass(e.target,"pswp__single-tap")?dn(e,t):(A(hn,n),un=setTimeout(function(){dn(e,t),un=null},300)))}}}),R("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ye||(o?r("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){N={};var t="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){p.bind(h,t,f.handleMouseWheel)}),r("unbindEvents",function(){N&&p.unbind(h,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function n(){f.mouseZoomedIn&&(p.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),v<1?p.addClass(h,"pswp--zoom-allowed"):p.removeClass(h,"pswp--zoom-allowed"),o()}var i,o=function(){i&&(p.removeClass(h,"pswp--dragging"),i=!1)};r("resize",n),r("afterChange",n),r("pointerDown",function(){f.mouseZoomedIn&&(i=!0,p.addClass(h,"pswp--dragging"))}),r("pointerUp",o),e||n()},handleMouseWheel:function(e){if(v<=f.currItem.fitRatio)return m.modal&&(!m.closeOnScroll||at||l?e.preventDefault():he&&2<Math.abs(e.deltaY)&&(K=!0,f.close())),!0;if(e.stopPropagation(),N.x=0,"deltaX"in e)1===e.deltaMode?(N.x=18*e.deltaX,N.y=18*e.deltaY):(N.x=e.deltaX,N.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(N.x=-.16*e.wheelDeltaX),e.wheelDeltaY?N.y=-.16*e.wheelDeltaY:N.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;N.y=e.detail}it(v,!0);var t=b.x-N.x,n=b.y-N.y;(m.modal||t<=u.min.x&&t>=u.max.x&&n<=u.min.y&&n>=u.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:w.x/2+Ze.x,y:w.y/2+Ze.y};var t=m.getDoubleTapZoom(!0,f.currItem),n=v===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),p[(n?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});function pn(){mn&&clearTimeout(mn),vn&&clearTimeout(vn)}function fn(){var e=Cn(),t={};if(!(e.length<5)){var n,i=e.split("&");for(r=0;r<i.length;r++)!i[r]||(n=i[r].split("=")).length<2||(t[n[0]]=n[1]);if(m.galleryPIDs){for(var o=t.pid,r=t.pid=0;r<Kt.length;r++)if(Kt[r].pid===o){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var mn,gn,vn,yn,bn,wn,n,xn,_n,kn,F,Sn,En={history:!0,galleryUID:1},Cn=function(){return F.hash.substring(1)},An=function(){var e,t;vn&&clearTimeout(vn),at||l?vn=setTimeout(An,500):(yn?clearTimeout(gn):yn=!0,t=g+1,(e=en(g)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+m.galleryUID+"&pid="+t,xn||-1===F.hash.indexOf(e)&&(kn=!0),t=F.href.split("#")[0]+"#"+e,Sn?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?F.replace(t):F.hash=e,xn=!0,gn=setTimeout(function(){yn=!1},60))};R("History",{publicMethods:{initHistory:function(){var e,t;p.extend(m,En,!0),m.history&&(F=window.location,xn=_n=kn=!1,n=Cn(),Sn="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",f.updateURL),r("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),e=function(){wn=!0,_n||(kn?history.back():n?F.hash=n:Sn?history.pushState("",document.title,F.pathname+F.search):F.hash=""),pn()},r("unbindEvents",function(){K&&e()}),r("destroy",function(){wn||e()}),r("firstUpdate",function(){g=fn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){G&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return Cn()===n?(_n=!0,void f.close()):void(yn||(bn=!0,f.goTo(fn().pid),bn=!1))},updateURL:function(){pn(),bn||(xn?mn=setTimeout(An,800):An())}}}),p.extend(f,j)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}return function(e,o){return void 0===o&&(o="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,i;-1!==e.className.split(" ").indexOf(o)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=o,(i=n.style).position="relative",i.width="100%",i.paddingTop=t+"%",(i=e.style).position="absolute",i.width="100%",i.height="100%",i.left="0",i.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(i=e.parentNode)&&i.removeChild(e),n.appendChild(e))})}}),function(){var e=document.querySelector(".gh-burger");e&&e.addEventListener("click",function(){document.body.classList.contains("is-head-open")?document.body.classList.remove("is-head-open"):document.body.classList.add("is-head-open")})}(),lightbox(".kg-image-card > .kg-image[width][height], .kg-gallery-image > img"),reframe(document.querySelectorAll(['.gh-content iframe[src*="youtube.com"]','.gh-content iframe[src*="youtube-nocookie.com"]','.gh-content iframe[src*="player.vimeo.com"]','.gh-content iframe[src*="kickstarter.com"][src*="video.html"]',".gh-content object",".gh-content embed"].join(","))),dropdown(),flyingPages(),pagination(!0);const removeAccents=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");function darkMode(){document.querySelector(".it-dark-light").addEventListener("click",function(){html.classList.contains("dark")?html.classList.remove("dark"):html.classList.add("dark")})}const readingProgress=(e,t)=>{const n=document.querySelector(e),i=document.querySelector(t),o=()=>{var e=n.getBoundingClientRect(),t=window.innerHeight/2;Math.round(i.max-i.value),e.top>t&&(i.value=0),e.top<t&&(i.value=i.max),e.top<=t&&e.bottom>=t&&(i.value=i.max*Math.abs(e.top-t)/e.height),window.addEventListener("scroll",o)};window.addEventListener("scroll",o)},flktySlider=(document.querySelector(".post-progress")&&readingProgress(".post-content",".post-progress"),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return n={134:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var t=n(817),i=n.n(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r(s.prototype,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",t=window.pageYOffset||document.documentElement.scrollTop,this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==o(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]);const a=s;function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.resolveOptions(e),this.initSelection()}var t=n(279),l=n.n(t),t=n(370),c=n.n(t);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if(e="data-clipboard-".concat(e),t.hasAttribute(e))return t.getAttribute(e)}const m=function(){var e=r,t=l();if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t);n=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();var n,i,o=function(){var e=p(n),t=i?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;if(!t||"object"!==d(t)&&"function"!=typeof t){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t};function r(e,t){var n;if(this instanceof r)return(n=o.call(this)).resolveOptions(t),n.listenClick(e),n;throw new TypeError("Cannot call a class as a function")}return e=[{key:"isSupported",value:function(){var e="string"==typeof(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"])?[e]:e,t=!!document.queryCommandSupported;return e.forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}],u((t=r).prototype,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=c()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget,this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){if(e=f("target",e))return document.querySelector(e)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),u(t,e),r}()},828:e=>{var t;"undefined"==typeof Element||Element.prototype.matches||((t=Element.prototype).matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:(e,t,n)=>{var a=n(828);function r(e,t,n,i,o){var r=function(t,n,e,i){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,i,o)}))}},879:(e,n)=>{n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:(e,t,n)=>{var c=n(879),d=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return(a=e).addEventListener(s=t,l=n),{destroy:function(){a.removeEventListener(s,l)}};if(c.nodeList(e))return i=e,o=t,r=n,Array.prototype.forEach.call(i,function(e){e.addEventListener(o,r)}),{destroy:function(){Array.prototype.forEach.call(i,function(e){e.removeEventListener(o,r)})}};if(c.string(e))return d(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,o,r,a,s,l}},817:e=>{e.exports=function(e){var t,n="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t),n.toString());return n}},279:e=>{function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},o={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(134).default;function i(e){var t;return(o[e]||(t=o[e]={exports:{}},n[e](t,t.exports,i),t)).exports}var n,o}),new ClipboardJS("#copy"),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return i={352:e=>{function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function g(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";var r,d={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",background:"var(--bg-color-80, rgba(255, 255, 255, .98))",zIndex:1e6,beforeShow:void 0,afterShow:void 0,beforeHide:void 0,afterHide:void 0},u={};function a(e){var t=u[e];if(t){if("function"!=typeof t)throw"config.".concat(e," must be a function!");Reflect.apply(t,u,[u])}}function s(t){t.src&&!t.classList.contains("lightense-target")&&(t.classList.add("lightense-target"),t.addEventListener("click",function(e){if(u.keyboard&&(e.metaKey||e.ctrlKey))return window.open(t.src,"_blank");var n,i,o;e=this,u.target=e,u.target.classList.contains("lightense-open")?p():(a("beforeShow"),u.scrollY=window.scrollY,n=u.target,i="transitionend",o=function(){a("afterShow")},n.addEventListener(i,function e(t){Reflect.apply(o,this,t),n.removeEventListener(i,e)}),(e=new Image).onload=function(){var e,t,n,i,o,r,a,s,l,c;t=(e=this).width,e=e.height,n=window.pageYOffset||document.documentElement.scrollTop||0,i=window.pageXOffset||document.documentElement.scrollLeft||0,o=u.target.getBoundingClientRect(),r=t/o.width,a=window.innerWidth||document.documentElement.clientWidth||0,s=window.innerHeight||document.documentElement.clientHeight||0,l=u.target.getAttribute("data-lightense-padding")||u.target.getAttribute("data-padding")||u.padding,c=l<a?a-l:a-d.padding,l=l<s?s-l:s-d.padding,u.scaleFactor=t<c&&e<l?r:t/e<c/l?l/e*r:c/t*r,l=a/2,e=n+s/2,c=o.left+i+o.width/2,t=o.top+n+o.height/2,u.translateX=Math.round(l-c),u.translateY=Math.round(e-t),u.target.classList.add("lightense-open"),u.wrap=document.createElement("div"),u.wrap.className="lightense-wrap",setTimeout(function(){u.target.style.transform="scale("+u.scaleFactor+")"},20),u.target.parentNode.insertBefore(u.wrap,u.target),u.wrap.appendChild(u.target),setTimeout(function(){u.wrap.style.transform="translate3d("+u.translateX+"px, "+u.translateY+"px, 0)"},20),r={cubicBezier:u.target.getAttribute("data-lightense-cubic-bezier")||u.cubicBezier,background:u.target.getAttribute("data-lightense-background")||u.target.getAttribute("data-background")||u.background,zIndex:u.target.getAttribute("data-lightense-z-index")||u.zIndex},r=g(g({},u),r),h("lightense-images-css-computed","\n    :root {\n      --lightense-z-index: ".concat(r.zIndex-1,";\n      --lightense-backdrop: ").concat(r.background,";\n      --lightense-duration: ").concat(r.time,"ms;\n      --lightense-timing-func: ").concat(r.cubicBezier,";\n    }")),u.container.style.visibility="visible",setTimeout(function(){u.container.style.opacity="1"},20),window.addEventListener("keyup",m,!1),window.addEventListener("scroll",f,!1),u.container.addEventListener("click",p,!1)},e.src=u.target.src)},!1))}function h(e,t){var n=document.head||document.getElementsByTagName("head")[0],i=(document.getElementById(e)&&document.getElementById(e).remove(),document.createElement("style"));i.id=e,i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),n.appendChild(i)}function p(){a("beforeHide"),window.removeEventListener("keyup",m,!1),window.removeEventListener("scroll",f,!1),u.container.removeEventListener("click",p,!1),u.target.classList.remove("lightense-open"),u.wrap.style.transform="",u.target.style.transform="",u.target.classList.add("lightense-transitioning"),u.container.style.opacity="",setTimeout(function(){a("afterHide"),u.container.style.visibility="",u.container.style.backgroundColor="",u.wrap.parentNode.replaceChild(u.target,u.wrap),u.target.classList.remove("lightense-transitioning")},u.time)}function f(){Math.abs(u.scrollY-window.scrollY)>=u.offset&&p()}function m(e){e.preventDefault(),27===e.keyCode&&p()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(r=function(e){switch(l(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}(e),u=g(g({},d),t),h("lightense-images-css","\n:root {\n  --lightense-z-index: ".concat(u.zIndex-1,";\n  --lightense-backdrop: ").concat(u.background,";\n  --lightense-duration: ").concat(u.time,"ms;\n  --lightense-timing-func: ").concat(u.cubicBezier,";\n}\n\n.lightense-backdrop {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: calc(var(--lightense-z-index) - 1);\n  padding: 0;\n  margin: 0;\n  transition: opacity var(--lightense-duration) ease;\n  cursor: zoom-out;\n  opacity: 0;\n  background-color: var(--lightense-backdrop);\n  visibility: hidden;\n}\n\n@supports (-webkit-backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    -webkit-backdrop-filter: blur(30px);\n  }\n}\n\n@supports (backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    backdrop-filter: blur(30px);\n  }\n}\n\n.lightense-wrap {\n  position: relative;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  z-index: var(--lightense-z-index);\n  pointer-events: none;\n}\n\n.lightense-target {\n  cursor: zoom-in;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  pointer-events: auto;\n}\n\n.lightense-open {\n  cursor: zoom-out;\n}\n\n.lightense-transitioning {\n  pointer-events: none;\n}")),null===document.querySelector(".lightense-backdrop")?(u.container=document.createElement("div"),u.container.className="lightense-backdrop",document.body.appendChild(u.container)):u.container=document.querySelector(".lightense-backdrop"),r),i=n.length;if(i)for(var o=0;o<i;o++)s(n[o]);else s(n)}}();e.exports=n}},o={},function e(t){var n=o[t];return void 0!==n||(n=o[t]={exports:{}},i[t](n,n.exports,e)),n.exports}(352);var i,o}),window.addEventListener("load",function(){var e=document.querySelector(".post-content .kg-card img"),t=document.querySelectorAll(".post-content .kg-image-card a img");if(t)for(var n=0;n<t.length;n++)t[n].classList.add("no-lightense");e&&Lightense(".post-content .kg-image-card img:not(.no-lightense),.post-content .kg-gallery-card img:not(.no-lightense)",{padding:60,offset:0})},!1),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).reframe=t()}(this,function(){"use strict";return function(e,t){var n="string"==typeof e?document.querySelectorAll(e):e,i=t||"js-reframe";"length"in n||(n=[n]);for(var o=0;o<n.length;o+=1){var r,a,s,l=n[o];-1===l.className.split(" ").indexOf(i)&&(r=l.getAttribute("height"),-1<(a=l.getAttribute("width")).indexOf("%")||-1<l.style.width.indexOf("%")||(r=(r||l.offsetHeight)/(a||l.offsetWidth)*100,(a=document.createElement("div")).className=i,(s=a.style).position="relative",s.width="100%",s.paddingTop=r+"%",(s=l.style).position="absolute",s.width="100%",s.height="100%",s.left="0",s.top="0",l.parentNode.insertBefore(a,l),l.parentNode.removeChild(l),a.appendChild(l)))}}}),reframe(".post-content iframe:not(.reframe-off)"),!function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";function n(l,c,d){(d=d||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){d.isPlainObject(e)&&(this.options=d.extend(!0,this.options,e))}),d.fn[l]=function(e){var t,i,o,r,a,s;return"string"==typeof e?(t=u.call(arguments,1),o=t,a="$()."+l+'("'+(i=e)+'")',(t=this).each(function(e,t){var n,t=d.data(t,l);t?(n=t[i])&&"_"!=i.charAt(0)?(n=n.apply(t,o),r=void 0===r?n:r):h(a+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==r?r:t):(s=e,this.each(function(e,t){var n=d.data(t,l);n?(n.option(s),n._init()):(n=new c(t,s),d.data(t,l,n))}),this)},i(d))}function i(e){e&&!e.bridget&&(e.bridget=n)}var u=Array.prototype.slice,o=e.console,h=void 0===o?function(){}:function(e){o.error(e)};return i(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,r){var l={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,c=(l.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},l.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},l.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},l.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.filterFindElements=function(e,i){e=l.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},l.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r],t=(clearTimeout(e),arguments),n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},l.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},l.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return l.htmlInit=function(a,s){l.docReady(function(){var e=l.toDashed(s),i="data-"+e,t=document.querySelectorAll("["+i+"]"),e=document.querySelectorAll(".js-"+e),t=l.makeArray(t).concat(l.makeArray(e)),o=i+"-options",r=n.jQuery;t.forEach(function(t){var e,n=t.getAttribute(i)||t.getAttribute(o);try{e=n&&JSON.parse(n)}catch(e){return void(c&&c.error("Error parsing "+i+" on "+t.className+": "+e))}n=new a(t,e);r&&r.data(t,s,n)})})},l}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("ev-emitter"),require("fizzy-ui-utils")):n.InfiniteScroll=i(n,n.EvEmitter,n.fizzyUIUtils)}(window,function(t,e,o){function r(e,t){var n,i=o.getQueryElement(e);if(i)return(e=i).infiniteScrollGUID?((n=s[e.infiniteScrollGUID]).option(t),n):(this.element=e,this.options=o.extend({},r.defaults),this.option(t),a&&(this.$element=a(this.element)),void this.create());console.error("Bad element for InfiniteScroll: "+(i||e))}var a=t.jQuery,s={},n=(r.defaults={},r.create={},r.destroy={},r.prototype),i=(o.extend(n,e.prototype),0),l=(n.create=function(){var e=this.guid=++i;if(this.element.infiniteScrollGUID=e,(s[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[t].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(e){o.extend(this.options,e)},n.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},n.dispatchEvent=function(e,t,n){this.log(e,n);var i=t?[t].concat(n):n;this.emitEvent(e,i),a&&this.$element&&(i=e+=".infiniteScroll",t&&((t=a.Event(t)).type=e,i=t),this.$element.trigger(i,n))},{initialized:function(e){return"on "+e},request:function(e){return"URL: "+e},load:function(e,t){return(e.title||"")+". URL: "+t},error:function(e,t){return e+". URL: "+t},append:function(e,t,n){return n.length+" items. URL: "+t},last:function(e,t){return"URL: "+t},history:function(e,t){return"URL: "+t},pageIndex:function(e,t){return"current page determined to be: "+e+" from "+t}}),c=(n.log=function(e,t){var n;this.options.debug&&(n="[InfiniteScroll] "+e,(e=l[e])&&(n+=". "+e.apply(this,t)),console.log(n))},n.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},n.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:o.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},n.updateGetPath=function(){var e=this.options.path;if(e){var t=typeof e;if("function"!=t)return"string"==t&&e.match("{{#}}")?void this.updateGetPathTemplate(e):void this.updateGetPathSelector(e);this.getPath=e}else console.error("InfiniteScroll path option required. Set as: "+e)},n.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),e=new RegExp(e),e=location.href.match(e);e&&(this.pageIndex=parseInt(e[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]);return n.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){for(var n,i=t.getAttribute("href"),o=0;i&&o<c.length;o++){var r=i.match(c[o]);if(r){n=r.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var e=this.pageIndex+1;return n[0]+e+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+i)}console.error("Bad InfiniteScroll path option. Next link not found: "+e)},n.updateGetAbsolutePath=function(){var e,t,n=this.getPath();n.match(/^http/)||n.match(/^\//)?this.getAbsolutePath=this.getPath:(e=location.pathname,n.match(/^\?/)?this.getAbsolutePath=function(){return e+this.getPath()}:(t=e.substring(0,e.lastIndexOf("/")),this.getAbsolutePath=function(){return t+"/"+this.getPath()}))},r.create.hideNav=function(){var e=o.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var e in this.allOff(),r.destroy)r.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete s[this.guid],a&&this.$element&&a.removeData(this.element,"infiniteScroll")},r.throttle=function(i,o){var r,a;return o=o||200,function(){var e=+new Date,t=arguments,n=function(){r=e,i.apply(this,t)}.bind(this);r&&e<r+o?(clearTimeout(a),a=setTimeout(n,o)):n()}},r.data=function(e){e=(e=o.getQueryElement(e))&&e.infiniteScrollGUID;return e&&s[e]},r.setJQuery=function(e){a=e},o.htmlInit(r,"infinite-scroll"),n._init=function(){},a&&a.bridget&&a.bridget("infiniteScroll",r),r}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("./core")):n(t,t.InfiniteScroll)}(window,function(i,o){function u(e){for(var t=document.createDocumentFragment(),n=0;e&&n<e.length;n++)t.appendChild(e[n]);return t}var e=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},e.loadNextPage=function(){var t,e,n,i,o,r,a,s,l,c;!this.isLoading&&this.canLoad&&(t=this.getAbsolutePath(),this.isLoading=!0,e=function(e){this.onPageLoad(e,t)}.bind(this),n=function(e){this.onPageError(e,t)}.bind(this),i=function(e){this.lastPageReached(e,t)}.bind(this),o=t,r=this.options.responseType,a=e,s=n,l=i,(c=new XMLHttpRequest).open("GET",o,!0),c.responseType=r||"",c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onload=function(){var e;200==c.status?a(c.response):204==c.status?l(c.response):(e=new Error(c.statusText),s(e))},c.onerror=function(){var e=new Error("Network error requesting "+o);s(e)},c.send(),this.dispatchEvent("request",null,[t]))},e.onPageLoad=function(e,t){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t]),this.appendNextPage(e,t),e},e.appendNextPage=function(e,t){var n,i,o=this.options.append;"document"==this.options.responseType&&o&&(n=e.querySelectorAll(o),i=u(n),o=function(){this.appendItems(n,i),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,n])}.bind(this),this.options.outlayer?this.appendOutlayerItems(i,o):o())},e.appendItems=function(e,t){if(e&&e.length){for(var n=(t=t||u(e)).querySelectorAll("script"),i=0;i<n.length;i++){for(var o=n[i],r=document.createElement("script"),a=(d=c=l=s=a=void 0,o),s=r,l=a.attributes,c=0;c<l.length;c++){var d=l[c];s.setAttribute(d.name,d.value)}r.innerHTML=o.innerHTML,o.parentNode.replaceChild(r,o)}this.element.appendChild(t)}},e.appendOutlayerItems=function(e,t){var n=o.imagesLoaded||i.imagesLoaded;return n?void n(e,t):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},e.onAppendOutlayer=function(e,t,n){this.options.outlayer.appended(n)},e.checkLastPage=function(e,t){var n=this.options.checkLastPage;if(n){var i,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(e,t);"string"==typeof n?i=n:this.isPathSelector&&(i=o),i&&e.querySelector&&(e.querySelector(i)||this.lastPageReached(e,t))}},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t]),e},o.create.prefill=function(){var e;this.options.prefill&&((e=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e))},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;!e&&0!==e||this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},i.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},i.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},i.bindScrollWatchEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),t[e]("resize",this.resizeHandler)},i.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),i.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},i.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},i.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},i.onResize=function(){this.updateMeasurements()},n.debounceMethod(e,"onResize",150),e}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype,o=(e.defaults.history="replace",document.createElement("a"));return e.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),t[e]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(e,t,n){n&&n.length&&(n=n[0],n=this.getElementScrollY(n),o.href=t,this.scrollPages.push({top:n,path:o.href,title:e.title}))},i.getElementScrollY=function(e){return this.options.elementScroll?this.getElementElementScrollY(e):this.getElementWindowScrollY(e)},i.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},i.getElementElementScrollY=function(e){return e.offsetTop-this.top},i.onScrollHistory=function(){for(var e,t,n=this.getScrollViewY(),i=0;i<this.scrollPages.length;i++){var o=this.scrollPages[i];if(o.top>=n)break;e=i,t=o}e!=this.scrollPageIndex&&(this.scrollPageIndex=e,this.setHistory(t.title,t.path))},n.debounceMethod(e,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},i.setHistory=function(e,t){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},i.onUnload=function(){var e=this.scrollPageIndex;0!==e&&(e=this.scrollPages[e],e=t.pageYOffset-e.top+this.top,this.destroyHistory(),scrollTo(0,e))},i.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}return t.create.button=function(){var e=n.getQueryElement(this.options.button);e&&(this.button=new i(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},i.prototype.onClick=function(e){e.preventDefault(),this.infScroll.loadNextPage()},i.prototype.enable=function(){this.element.removeAttribute("disabled")},i.prototype.disable=function(){this.element.disabled="disabled"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},t.Button=i,t}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e){r(e,"none")}function o(e){r(e,"block")}function r(e,t){e&&(e.style.display=t)}var a=t.prototype;return t.create.status=function(){var e=n.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},a.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},a.showRequestStatus=function(){this.showStatus("request")},a.showErrorStatus=function(){this.showStatus("error")},a.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},a.showStatus=function(e){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[e])},a.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},a.hideStatusEventElements=function(){for(var e in this.statusEventElements)i(this.statusEventElements[e])},t}),function(e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(e){return e})),function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function r(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,n){var i,o;return this instanceof a?(i="string"==typeof(i=e)?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?c.call(o):[o]),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(i||e)):new a(e,t,n)}function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var s=t.jQuery,l=t.console,c=Array.prototype.slice,d=((a.prototype=Object.create(e.prototype)).options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}},{1:!0,9:!0,11:!0});return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){e=new n(e);this.images.push(e)},a.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},a.prototype.check=function(){function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(s(this))})})(),a}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".pagination-section a")&&new InfiniteScroll(".loop-section",{path:".pagination-section a",append:".loop-wrap",button:".pagination-section button",hideNav:".pagination-section a",history:!1,scrollThreshold:!1}).on("append",function(e,t,n){for(var i=0;i<n.length;i++){s=a=r=o=void 0;for(var o=n[i],r=o.querySelectorAll("img[srcset]"),a=0;a<r.length;a++){var s=r[a];s.outerHTML=s.outerHTML}}})}),!function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";var n=Array.prototype.slice,i=e.console,u=void 0===i?function(){}:function(e){i.error(e)};function o(l,c,d){(d=d||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){d.isPlainObject(e)&&(this.options=d.extend(!0,this.options,e))}),d.fn[l]=function(e){var t,i,o,r,a,s;return"string"==typeof e?(t=n.call(arguments,1),o=t,a="$()."+l+'("'+(i=e)+'")',(t=this).each(function(e,t){var n,t=d.data(t,l);t?(n=t[i])&&"_"!=i.charAt(0)?(n=n.apply(t,o),r=void 0===r?n:r):u(a+" is not a valid method"):u(l+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==r?r:t):(s=e,this.each(function(e,t){var n=d.data(t,l);n?(n.option(s),n._init()):(n=new c(t,s),d.data(t,l,n))}),this)},r(d))}function r(e){e&&!e.bridget&&(e.bridget=o)}return r(t||e.jQuery),o}),!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),!function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function g(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],y=v.length;function b(e){e=getComputedStyle(e);return e||t("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var w,x=!1;function _(e){if(x||(x=!0,(d=document.createElement("div")).style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box",(c=document.body||document.documentElement).appendChild(d),r=b(d),w=200==Math.round(g(r.width)),_.isBoxSizeOuter=w,c.removeChild(d)),(e="string"==typeof e?document.querySelector(e):e)&&"object"==typeof e&&e.nodeType){var t=b(e);if("none"==t.display){for(var n={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<y;i++)n[v[i]]=0;return n}for(var o={},r=(o.width=e.offsetWidth,o.height=e.offsetHeight,o.isBorderBox="border-box"==t.boxSizing),a=0;a<y;a++){var s=v[a],l=t[s],l=parseFloat(l);o[s]=isNaN(l)?0:l}var c=o.paddingLeft+o.paddingRight,d=o.paddingTop+o.paddingBottom,e=o.marginLeft+o.marginRight,u=o.marginTop+o.marginBottom,h=o.borderLeftWidth+o.borderRightWidth,p=o.borderTopWidth+o.borderBottomWidth,f=r&&w,m=g(t.width),m=(!1!==m&&(o.width=m+(f?0:c+h)),g(t.height));return!1!==m&&(o.height=m+(f?0:d+p)),o.innerWidth=o.width-(c+h),o.innerHeight=o.height-(d+p),o.outerWidth=o.width+e,o.outerHeight=o.height+u,o}}return _}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),!function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,r){var l={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,c=(l.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},l.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},l.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},l.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.filterFindElements=function(e,i){e=l.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},l.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r],t=(clearTimeout(e),arguments),n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},l.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},l.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return l.htmlInit=function(a,s){l.docReady(function(){var e=l.toDashed(s),i="data-"+e,t=document.querySelectorAll("["+i+"]"),e=document.querySelectorAll(".js-"+e),t=l.makeArray(t).concat(l.makeArray(e)),o=i+"-options",r=n.jQuery;t.forEach(function(e){var t=e.getAttribute(i)||e.getAttribute(o);try{n=t&&JSON.parse(t)}catch(t){return void(c&&c.error("Error parsing "+i+" on "+e.className+": "+t))}var n=new a(e,n);r&&r.data(e,s,n)})})},l}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(e){return t(0,e)}):"object"==typeof module&&module.exports?module.exports=t(0,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(0,e.getSize))}(window,function(e,t){function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},i.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t="left"===this.parent.originSide?1:-1,e=this.parent.options.percentPosition?e*t*(this.parent.size.innerWidth/this.size.width):e*t;this.element.style.transform="translateX("+this.parent.getPositionValue(e)+")"},i.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},i.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){var t;this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length&&(this.x=e.x,t=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=e.size[t])},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),t=t?t.size[e]:0,e=this.outerWidth-(this.firstMargin+t);this.target=this.x+this.firstMargin+e*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach(function(e){e.select()})},t.unselect=function(){this.cells.forEach(function(e){e.unselect()})},t.getCellElements=function(){return this.cells.map(function(e){return e.element})},e}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(e){return t(0,e)}):"object"==typeof module&&module.exports?module.exports=t(0,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(0,e.fizzyUIUtils))}(window,function(e,t){var n={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e,t=this.x;this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating&&(e=this,requestAnimationFrame(function(){e.animate()}))},positionSlider:function(){var e=this.x;this.options.wrapAround&&1<this.cells.length&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;e=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+e+",0,0)":"translateX("+e+")"},dispatchScrollEvent:function(){var e,t=this.slides[0];t&&(e=(t=-this.x-t.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[e,t]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e,t=(this._shiftCells(this.beforeShiftCells,t,-1),this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition));this._shiftCells(this.afterShiftCells,t,1)},_shiftCells:function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];o.wrapShift(0<t?n:0),t-=o.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var e;this.isDraggable&&this.isPointerDown&&(e=this.dragX-this.x-this.velocity,this.applyForce(e))},applySelectedAttraction:function(){var e;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(e))}};return n}),!function(a,s){var e;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(e,t,n,i,o,r){return s(a,e,t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=s(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(e=a.Flickity,a.Flickity=s(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype))}(window,function(i,e,t,a,n,s,o){var r=i.jQuery,l=i.getComputedStyle,c=i.console;function d(e,t){for(e=a.makeArray(e);e.length;)t.appendChild(e.shift())}var u=0,h={};function p(e,t){var n,i=a.getQueryElement(e);if(i){if(this.element=i,this.element.flickityGUID)return(n=h[this.element.flickityGUID])&&n.option(t),n;r&&(this.$element=r(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(t),this._create()}else c&&c.error("Bad element for Flickity: "+(i||e))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype,m=(a.extend(f,e.prototype),f._create=function(){var e,t=this.guid=++u;for(e in this.element.flickityGUID=t,(h[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&i.addEventListener("resize",this),this.options.on){var n=this.options.on[e];this.on(e,n)}p.createMethods.forEach(function(e){this[e]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(e){a.extend(this.options,e)},f.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},f._filterFindCellElements=function(e){return a.filterFindElements(e,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(e){return this._filterFindCellElements(e).map(function(e){return new n(e,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(e){this.maxCellHeight=(e=e||0)&&this.maxCellHeight||0;for(var t,n=0,i=(0<e&&(n=(t=this.cells[e-1]).x+t.size.outerWidth),this.cells.length),o=e;o<i;o++){var r=this.cells[o];r.setPosition(n),n+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=n,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(e){e.forEach(function(e){e.getSize()})},f.updateSlides=function(){var i,o,r;this.slides=[],this.cells.length&&(i=new s(this),this.slides.push(i),o="left"==this.originSide?"marginRight":"marginLeft",r=this._getCanCellFit(),this.cells.forEach(function(e,t){var n;i.cells.length&&(n=i.outerWidth-i.firstMargin+(e.size.outerWidth-e.size[o]),r.call(this,t,n)||(i.updateTarget(),i=new s(this),this.slides.push(i))),i.addCell(e)},this),i.updateTarget(),this.updateSelectedSlide())},f._getCanCellFit=function(){var t,n,e=this.options.groupCells;return e?"number"==typeof e?(t=parseInt(e,10),function(e){return e%t!=0}):(e="string"==typeof e&&e.match(/^(\d+)%$/),n=e?parseInt(e[1],10)/100:1,function(e,t){return t<=(this.size.innerWidth+1)*n}):function(){return!1}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=t(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign},{center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}});return f.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){var e;this.options.setGallerySize&&(e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=e+"px")},f._getWrapShiftCells=function(){var e,t;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),e=this.cursorPosition,t=this.cells.length-1,this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1))},f._getGapCells=function(e,t,n){for(var i=[];0<e;){var o=this.cells[t];if(!o)break;i.push(o),t+=n,e-=o.size.outerWidth}return i},f._containSlides=function(){var e,t,n,i,o,r;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(e=(t=this.options.rightToLeft)?"marginRight":"marginLeft",t=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[t],i=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(e){i?e.target=n*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,r))},this))},f.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;this.emitEvent(e,i),r&&this.$element&&(i=e+=this.options.namespaceJQueryEvents?".flickity":"",t&&((t=new r.Event(t)).type=e,i=t),this.$element.trigger(i,n))},f.select=function(e,t,n){this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=a.modulo(e,this.slides.length)),this.slides[e])&&(t=this.selectedIndex,this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=t&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect"))},f._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&1<t))return e;var n=a.modulo(e,t),i=Math.abs(n-this.selectedIndex),o=Math.abs(n+t-this.selectedIndex),n=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&o<i?e+=t:!this.isDragSelect&&n<i&&(e-=t),e<0?this.x-=this.slideableWidth:t<=e&&(this.x+=this.slideableWidth)},f.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},f.next=function(e,t){this.select(this.selectedIndex+1,e,t)},f.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),(this.selectedSlide=e).select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e)if(this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},f.selectCell=function(e,t,n){var e=this.queryCell(e);e&&(e=this.getCellSlideIndex(e),this.select(e,t,n))},f.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},f.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},f.getCells=function(e){e=a.makeArray(e);var t=[];return e.forEach(function(e){e=this.getCell(e);e&&t.push(e)},this),t},f.getCellElements=function(){return this.cells.map(function(e){return e.element})},f.getParentCell=function(e){var t=this.getCell(e);return t||(e=a.getParent(e,".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(n<=1+2*e)return this.getCellElements();for(var i=[],o=t-e;o<=t+e;o++){var r=this.options.wrapAround?a.modulo(o,n):o,r=this.slides[r];r&&(i=i.concat(r.getCellElements()))}return i},f.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#.]?[\d/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(p,"onresize",150),f.resize=function(){var e;!this.isActive||this.isAnimating||this.isDragging||(this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),e=this.selectedElements&&this.selectedElements[0],this.selectCell(e,!1,!0))},f.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;this.options.accessibility&&!t&&(t=p.keyboardHandlers[e.keyCode])&&t.call(this)},p.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},f.focus=function(){var e=i.pageYOffset;this.element.focus({preventScroll:!0}),i.pageYOffset!=e&&i.scrollTo(i.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(e){e.destroy()}),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),i.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},a.extend(f,o),p.data=function(e){e=(e=a.getQueryElement(e))&&e.flickityGUID;return e&&h[e]},a.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(e){r=e},p.Cell=n,p.Slide=s,p}),!function(t,n){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.Unipointer=n(t,t.EvEmitter)}(window,function(i,e){function t(){}var e=t.prototype=Object.create(e.prototype),n=(e.bindStartEvent=function(e){this._bindStartEvent(e,!0)},e.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},e._bindStartEvent=function(e,t){var t=(t=void 0===t||t)?"addEventListener":"removeEventListener",n="mousedown";"ontouchstart"in i?n="touchstart":i.PointerEvent&&(n="pointerdown"),e[t](n,this)},e.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},e.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},e.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},e.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},e.onpointerdown=function(e){this._pointerDown(e,e)},e._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},e.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},{mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]});return e._bindPostStartEvents=function(e){e&&((e=n[e.type]).forEach(function(e){i.addEventListener(e,this)},this),this._boundPointerEvents=e)},e._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){i.removeEventListener(e,this)},this),delete this._boundPointerEvents)},e.onmousemove=function(e){this._pointerMove(e,e)},e.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},e.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},e._pointerMove=function(e,t){this.pointerMove(e,t)},e.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},e.onmouseup=function(e){this._pointerUp(e,e)},e.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},e.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},e._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},e.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},e._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},e._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},e.pointerDone=function(){},e.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},e.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},e._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},e.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},t.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},t}),!function(t,n){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("unipointer")):t.Unidragger=n(t,t.Unipointer)}(window,function(r,e){function t(){}var n=t.prototype=Object.create(e.prototype),i=(n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){for(var t=(e=void 0===e||e)?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",i=0;i<this.handles.length;i++){var o=this.handles[i];this._bindStartEvent(o,e),o[t]("click",this),r.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))},{TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0}),o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(e){var t=i[e.target.nodeName],e=o[e.target.type],t=!t||e;return t||this._pointerReset(),t},n.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},n.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},n._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},n.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},n.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},n._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},n._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},n.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},n._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},n.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},n._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},n.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},n.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},n._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},t.getPointerPoint=e.getPointerPoint,t}),!function(i,o){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(e,t,n){return o(i,e,t,n)}):"object"==typeof module&&module.exports?module.exports=o(i,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):i.Flickity=o(i,i.Flickity,i.Unidragger,i.fizzyUIUtils)}(window,function(n,e,t,r){r.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var i=e.prototype,o=(r.extend(i,t.prototype),i._touchActionValue="pan-y",i._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},i.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},i.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},i.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},i.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},i.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},i._uiChangeDrag=function(){delete this.isFreeScrolling},i.pointerDown=function(e,t){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),n.addEventListener("scroll",this),this._pointerDownDefault(e,t)):this._pointerDownDefault(e,t)},i._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])},{INPUT:!0,TEXTAREA:!0,SELECT:!0});function a(){return{x:n.pageXOffset,y:n.pageYOffset}}return i.pointerDownFocus=function(e){o[e.target.nodeName]||this.focus()},i._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,n="touch"==e.pointerType,i=o[e.target.nodeName];t||n||i||e.preventDefault()},i.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},i.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},i.pointerDone=function(){n.removeEventListener("scroll",this),delete this.pointerDownScroll},i.dragStart=function(e,t){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),n.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[t]))},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},i.dragMove=function(e,t,n){var i,o;this.isDraggable&&(e.preventDefault(),this.previousDragX=this.dragX,i=this.options.rightToLeft?-1:1,this.options.wrapAround&&(n.x%=this.slideableWidth),i=this.dragStartPosition+n.x*i,!this.options.wrapAround&&this.slides.length&&(i=(i=(o=Math.max(-this.slides[0].target,this.dragStartPosition))<i?.5*(i+o):i)<(o=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(i+o):i),this.dragX=i,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n]))},i.dragEnd=function(e,t){var n,i;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),n=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(i=this.getRestingPosition(),this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target):this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t]))},i.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),e=this._getClosestResting(e,t,-1);return(n.distance<e.distance?n:e).index},i._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(o=t,null!==(t=this.getSlideDistance(-e,i+=n)));)t=Math.abs(t);return{distance:o,index:i-n}},i.getSlideDistance=function(e,t){var n=this.slides.length,i=this.options.wrapAround&&1<n,o=i?r.modulo(t,n):t,o=this.slides[o];return o?(i=i?this.slideableWidth*Math.floor(t/n):0,e-(o.target+i)):null},i.dragEndBoostSelect=function(){var e,t;return void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime?0:(e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX,0<e&&0<t?1:e<0&&t<0?-1:0)},i.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,n=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,n])},i.onscroll=function(){var e=a(),t=this.pointerDownScroll.x-e.x,e=this.pointerDownScroll.y-e.y;(3<Math.abs(t)||3<Math.abs(e))&&this._pointerDone()},e}),!function(e,i){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,n){return i(0,e,t,n)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(0,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,function(e,t,n,i){"use strict";var o="http://www.w3.org/2000/svg";function r(e,t){this.direction=e,this.parent=t,this._create()}(r.prototype=Object.create(n.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1,e=(this.isLeft=this.direction==e,this.element=document.createElement("button")),t=(e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next"),this.createSVG());e.appendChild(t),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},r.prototype.createSVG=function(){var e=document.createElementNS(o,"svg"),t=(e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100"),document.createElementNS(o,"path")),n="string"!=typeof(n=this.parent.options.arrowShape)?"M "+n.x0+",50 L "+n.x1+","+(n.y1+50)+" L "+n.x2+","+(n.y2+50)+" L "+n.x3+",50  L "+n.x2+","+(50-n.y2)+" L "+n.x1+","+(50-n.y1)+" Z":n;return t.setAttribute("d",n),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},r.prototype.handleEvent=i.handleEvent,r.prototype.onclick=function(){var e;this.isEnabled&&(this.parent.uiChange(),e=this.isPrevious?"previous":"next",this.parent[e]())},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var e=this.parent.slides;this.parent.options.wrapAround&&1<e.length?this.enable():(e=e.length?e.length-1:0,e=this.isPrevious?0:e,this[this.parent.selectedIndex==e?"disable":"enable"]())},r.prototype.destroy=function(){this.deactivate(),this.allOff()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");n=t.prototype;return n._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r(-1,this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},n.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},n.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=r,t}),!function(e,i){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,n){return i(0,e,t,n)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(0,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,function(e,t,n,i){function o(e){this.parent=e,this._create()}(o.prototype=Object.create(n.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;0<e?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[],i=this.dots.length,o=i+e,r=i;r<o;r++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(r+1)),t.appendChild(a),n.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(n)},o.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach(function(e){this.holder.removeChild(e)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(e){var e=e.target;"LI"==e.nodeName&&(this.parent.uiChange(),e=this.dots.indexOf(e),this.parent.select(e))},o.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=o,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");n=t.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t}),!function(e,t){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,function(e,t,n){function i(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(i.prototype=Object.create(e.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},i.prototype.tick=function(){var e,t;"playing"==this.state&&(e="number"==typeof(e=this.parent.options.autoPlay)?e:3e3,(t=this).clear(),this.timeout=setTimeout(function(){t.parent.next(!0),t.tick()},e))},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");e=n.prototype;return e._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},e.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},e.playPlayer=function(){this.player.play()},e.stopPlayer=function(){this.player.stop()},e.pausePlayer=function(){this.player.pause()},e.unpausePlayer=function(){this.player.unpause()},e.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},e.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},e.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n}),!function(e,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("fizzy-ui-utils")):n(0,e.Flickity,e.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;return n.insert=function(e,t){var n,i,o,r,a,e=this._makeCells(e);e&&e.length&&(n=this.cells.length,t=void 0===t?n:t,a=e,i=document.createDocumentFragment(),a.forEach(function(e){i.appendChild(e.element)}),a=i,(o=t==n)?this.slider.appendChild(a):(r=this.cells[t].element,this.slider.insertBefore(a,r)),0===t?this.cells=e.concat(this.cells):o?this.cells=this.cells.concat(e):(a=this.cells.splice(t,n-t),this.cells=this.cells.concat(e).concat(a)),this._sizeCells(e),this.cellChange(t,!0))},n.append=function(e){this.insert(e,this.cells.length)},n.prepend=function(e){this.insert(e,0)},n.remove=function(e){var n,e=this.getCells(e);e&&e.length&&(n=this.cells.length-1,e.forEach(function(e){e.remove();var t=this.cells.indexOf(e);n=Math.min(t,n),i.removeFrom(this.cells,e)},this),this.cellChange(n,!0))},n.cellSizeChange=function(e){var e=this.getCell(e);e&&(e.getSize(),e=this.cells.indexOf(e),this.cellChange(e))},n.cellChange=function(e,t){var n=this.selectedElement,n=(this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize(),this.getCell(n));n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}),!function(e,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("fizzy-ui-utils")):n(0,e.Flickity,e.fizzyUIUtils)}(window,function(e,t,o){"use strict";t.createMethods.push("_createLazyload");var n=t.prototype;function i(e,t){this.img=e,this.flickity=t,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t,e=this.options.lazyLoad;e&&(e=this.getAdjacentCellElements("number"==typeof e?e:0),t=[],e.forEach(function(e){e=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),n=e.getAttribute("data-flickity-lazyload-src"),i=e.getAttribute("data-flickity-lazyload-srcset");if(t||n||i)return[e]}t=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(t)}(e);t=t.concat(e)}),t.forEach(function(e){new i(e,this)},this))},i.prototype.handleEvent=o.handleEvent,i.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},i.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},i.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},i.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),n=n&&n.element;this.flickity.cellSizeChange(n),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,n)},t.LazyLoader=i,t}),!function(e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(e){return e})),!function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,function(n,i){n.createMethods.push("_createAsNavFor");var e=n.prototype;return e._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e,t=this.options.asNavFor;t&&(e=this,setTimeout(function(){e.setNavCompanion(t)}))},e.setNavCompanion=function(e){e=i.getQueryElement(e);var t,e=n.data(e);e&&e!=this&&(this.navCompanion=e,(t=this).onNavCompanionSelect=function(){t.navCompanionSelect()},e.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},e.navCompanionSelect=function(e){var t,n,i=this.navCompanion&&this.navCompanion.selectedCells;i&&(t=i[0],t=this.navCompanion.cells.indexOf(t),i=t+i.length-1,n=Math.floor((n=this.navCompanion.cellAlign,(i-t)*n+t)),this.selectCell(n,!1,e),this.removeNavSelectedElements(),n>=this.cells.length||(e=this.cells.slice(t,1+i),this.navSelectedElements=e.map(function(e){return e.element}),this.changeNavSelectedClass("add")))},e.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},e.activateAsNavFor=function(){this.navCompanionSelect(!0)},e.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},e.onNavStaticClick=function(e,t,n,i){"number"==typeof i&&this.navCompanion.selectCell(i)},e.deactivateAsNavFor=function(){this.removeNavSelectedElements()},e.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),!function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var r=t.jQuery,a=t.console;function s(e,t){for(var n in t)e[n]=t[n];return e}var l=Array.prototype.slice;function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);var i,o=e;(o="string"==typeof e?document.querySelectorAll(e):o)?(this.elements=(i=o,Array.isArray(i)?i:"object"==typeof i&&"number"==typeof i.length?l.call(i):[i]),this.options=s({},this.options),"function"==typeof t?n=t:s(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(o||e))}(c.prototype=Object.create(e.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}};var d={1:!0,9:!0,11:!0};function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return c.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},c.prototype.addImage=function(e){e=new n(e);this.images.push(e)},c.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},c.prototype.check=function(){var i=this;function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},c.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},c.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(c.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new c(this,e,t).jqDeferred.promise(r(this))})})(),c}),!function(e,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("flickity"),require("imagesloaded")):e.Flickity=n(0,e.Flickity,e.imagesLoaded)}(window,function(e,t,i){"use strict";t.createMethods.push("_createImagesLoaded");var n=t.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){var n;this.options.imagesLoaded&&i((n=this).slider).on("progress",function(e,t){t=n.getParentCell(t.img),n.cellSizeChange(t&&t.element),n.options.freeScroll||n.positionSliderAtSelected()})},t}),document.querySelector(".featured-wrap")),flktyBtnPrevious=document.querySelector(".featured-btn-previous"),flktyBtnNext=document.querySelector(".featured-btn-next");if(flktySlider){flktyDragThreshold=matchMedia("(min-width:1281px)").matches?(flktyGroupCells=2,flktySelectedAttraction=.025,flktyFriction=.28,5):(flktyGroupCells=1,flktySelectedAttraction=.2,flktyFriction=.8,10);var flktyGroupCells,flktySelectedAttraction,flktyFriction,flktyDragThreshold,tapArea,startX,item,flkty=new Flickity(flktySlider,{cellAlign:"left",contain:!0,groupCells:flktyGroupCells,prevNextButtons:!1,pageDots:!1,dragThreshold:flktyDragThreshold,selectedAttraction:flktySelectedAttraction,friction:flktyFriction,imagesLoaded:!0}),flktyObserver=new IntersectionObserver(onIntersection,{root:null,threshold:0});function onIntersection(e,t){e.forEach(e=>e.target.classList.toggle("is-visible",e.isIntersecting)),document.querySelector(".is-visible")?flktyBtnNext.classList.toggle("is-end"):flktyBtnNext.classList.remove("is-end")}flktyObserver.observe(document.querySelector(".item .item-image .is-last")),flkty.on("change",function(e){0<e?flktyBtnPrevious.classList.add("is-prev"):flktyBtnPrevious.classList.remove("is-prev")}),flktyBtnPrevious.addEventListener("click",function(){flkty.previous()}),flktyBtnNext.addEventListener("click",function(){flkty.next()});for(item of(tapArea=document.querySelectorAll(".featured-wrap"),startX=0,tapArea))item.ontouchstart=function(e){startX=e.touches[0].clientX},item.ontouchmove=function(e){5<Math.abs(e.touches[0].clientX-startX)&&e.cancelable&&e.preventDefault()}}var e,t;function e(o){return Object.keys(o).reduce((e,t)=>{var n,i=o[t];return e[t]=Object.assign({},i),r(i.value)&&(n=i.value,"[object Function]"!==Object.prototype.toString.call(n))&&!Array.isArray(i.value)&&(e[t].value=Object.assign({},i.value)),Array.isArray(i.value)&&(e[t].value=i.value.slice(0)),e},{})}function t(t){if(t)try{return JSON.parse(t)}catch(e){return t}}function n(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let i=JSON.stringify(n);e.__updating[t]=!0,"true"===i&&(i=""),e.setAttribute(t,i),Promise.resolve().then(()=>delete e.__updating[t])}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}e=this,t=function(){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function o(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){var t;if(e)return"string"==typeof e?n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function m(e){return"string"==typeof e}function g(e){return"number"==typeof e}function v(e){return null!=e}function c(e){return!e.trim().length}function y(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var a=Object.prototype.hasOwnProperty,r=(e(s,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),s);function s(e){var t=this,n=(p(this,s),this._keys=[],this._keyMap={},0);e.forEach(function(e){e=l(e);n+=e.weight,t._keys.push(e),t._keyMap[e.id]=e,n+=e.weight}),this._keys.forEach(function(e){e.weight/=n})}function l(e){var t=null,n=null,i=null,o=1;if(m(e)||h(e))i=e,t=d(e),n=b(e);else{if(!a.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var r=e.name,i=r;if(a.call(e,"weight")&&(o=e.weight)<=0)throw new Error("Property 'weight' in key '".concat(r,"' must be a positive integer"));t=d(r),n=b(r)}return{path:t,id:n,weight:o,src:i}}function d(e){return h(e)?e:e.split(".")}function b(e){return h(e)?e.join("."):e}var D=o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var c=[],d=!1;return function e(t,n,i){if(v(t))if(n[i]){var o=t[n[i]];if(v(o))if(i===n.length-1&&(m(o)||g(o)||!0===(s=o)||!1===s||"object"===u(l=s)&&null!==l&&"[object Boolean]"==y(s)))c.push(null==(l=o)?"":"string"==typeof l?l:"0"==(s=l+"")&&1/l==-1/0?"-0":s);else if(h(o)){d=!0;for(var r=0,a=o.length;r<a;r+=1)e(o[r],n,i+1)}else n.length&&e(o,n,i+1)}else c.push(t);var s,l}(e,m(t)?t.split("."):t,0),d?c:c[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),w=/[^ ]+/g;e(_,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(function(e,t){n._keysMap[e.id]=t})}},{key:"create",value:function(){var n=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach(function(e,t){n._addString(e,t)}):this.docs.forEach(function(e,t){n._addObject(e,t)}),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();m(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)--this.records[t].i}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){v(e)&&!c(e)&&(t={v:e,i:t,n:this.norm.get(e)},this.records.push(t))}},{key:"_addObject",value:function(a,e){var s=this,l={i:e,$:{}};this.keys.forEach(function(e,t){var e=s.getFn(a,e.path);if(v(e))if(h(e)){for(var n=[],i=[{nestedArrIndex:-1,value:e}];i.length;){var o=i.pop(),r=o.nestedArrIndex,o=o.value;v(o)&&(m(o)&&!c(o)?(r={v:o,i:r,n:s.norm.get(o)},n.push(r)):h(o)&&o.forEach(function(e,t){i.push({nestedArrIndex:t,value:e})}))}l.$[t]=n}else c(e)||(e={v:e,n:s.norm.get(e)},l.$[t]=e)}),this.records.push(l)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);var x=_;function _(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn,e=void 0===e?D.getFn:e;p(this,_),this.norm=function(e){var e=0<arguments.length&&void 0!==e?e:3,n=new Map,i=Math.pow(10,e);return{get:function(e){var t,e=e.match(w).length;return n.has(e)?n.get(e):(t=1/Math.sqrt(e),t=parseFloat(Math.round(t*i)/i),n.set(e,t),t)},clear:function(){n.clear()}}}(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}function k(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn,n=void 0===n?D.getFn:n,n=new x({getFn:n});return n.setKeys(e.map(l)),n.setSources(t),n.create(),n}function N(e,t){var t=1<arguments.length&&void 0!==t?t:{},n=t.errors,i=t.currentLocation,o=t.expectedLocation,r=t.distance,r=void 0===r?D.distance:r,t=t.ignoreLocation,t=void 0===t?D.ignoreLocation:t,n=(void 0===n?0:n)/e.length;return t?n:(e=Math.abs((void 0===o?0:o)-(void 0===i?0:i)),r?n+e/r:e?1:n)}e(C,[{key:"searchIn",value:function(i){var o,r,a,s,l,c,d,u,h,e=this.options,t=e.isCaseSensitive,p=e.includeMatches;return t||(i=i.toLowerCase()),this.pattern===i?(e={isMatch:!0,score:0},p&&(e.indices=[[0,i.length-1]])):(t=this.options,o=t.location,r=t.distance,a=t.threshold,s=t.findAllMatches,l=t.minMatchCharLength,c=t.ignoreLocation,u=0,h=!(d=[]),this.chunks.forEach(function(e){var t=e.pattern,n=e.alphabet,e=e.startIndex,t=function(e,t,n,i){var i=3<arguments.length&&void 0!==i?i:{},o=i.location,o=void 0===o?D.location:o,r=i.distance,a=void 0===r?D.distance:r,r=i.threshold,r=void 0===r?D.threshold:r,s=i.findAllMatches,l=void 0===s?D.findAllMatches:s,s=i.minMatchCharLength,s=void 0===s?D.minMatchCharLength:s,c=i.includeMatches,c=void 0===c?D.includeMatches:c,i=i.ignoreLocation,d=void 0===i?D.ignoreLocation:i;if(32<t.length)throw new Error("Pattern length exceeds max of ".concat(32,"."));for(var u,h=t.length,p=e.length,f=Math.max(0,Math.min(o,p)),m=r,g=f,v=1<s||c,y=v?Array(p):[];-1<(u=e.indexOf(t,g));){var b=N(t,{currentLocation:u,expectedLocation:f,distance:a,ignoreLocation:d}),m=Math.min(b,m),g=u+h;if(v)for(var w=0;w<h;)w+=y[u+w]=1}g=-1;for(var x=[],_=1,k=h+p,S=1<<h-1,E=0;E<h;E+=1){for(var C=0,A=k;C<A;)N(t,{errors:E,currentLocation:f+A,expectedLocation:f,distance:a,ignoreLocation:d})<=m?C=A:k=A,A=Math.floor((k-C)/2+C);var k=A,I=Math.max(1,f-A+1),T=l?p:Math.min(f+A,p)+h,L=Array(T+2);L[T+1]=(1<<E)-1;for(var O=T;I<=O;--O){var P=O-1,M=n[e.charAt(P)];if(v&&(y[P]=+!!M),L[O]=(L[O+1]<<1|1)&M,E&&(L[O]|=(x[O+1]|x[O])<<1|1|x[O+1]),L[O]&S&&(_=N(t,{errors:E,currentLocation:P,expectedLocation:f,distance:a,ignoreLocation:d}))<=m){if(m=_,(g=P)<=f)break;I=Math.max(1,2*f-g)}}if(m<N(t,{errors:E+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:d}))break;x=L}i={isMatch:0<=g,score:Math.max(.001,_)};return v&&((o=function(e,t){for(var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length&&void 0!==t?t:D.minMatchCharLength,o=[],r=-1,a=0,s=n.length;a<s;a+=1){var l=n[a];l&&-1===r?r=a:l||-1===r||((l=a-1)-r+1>=i&&o.push([r,l]),r=-1)}return n[a-1]&&i<=a-r&&o.push([r,a-1]),o}(y,s)).length?c&&(i.indices=o):i.isMatch=!1),i}(i,t,n,{location:o+e,distance:r,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:p,ignoreLocation:c}),n=t.isMatch,e=t.score,t=t.indices;n&&(h=!0),u+=e,n&&t&&(d=[].concat(f(d),f(t)))}),e={isMatch:h,score:h?u/this.chunks.length:1},h&&p&&(e.indices=d)),e}}]);var S=C,E=[];function C(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.location,i=void 0===i?D.location:i,o=t.threshold,o=void 0===o?D.threshold:o,r=t.distance,r=void 0===r?D.distance:r,a=t.includeMatches,a=void 0===a?D.includeMatches:a,s=t.findAllMatches,s=void 0===s?D.findAllMatches:s,l=t.minMatchCharLength,l=void 0===l?D.minMatchCharLength:l,c=t.isCaseSensitive,c=void 0===c?D.isCaseSensitive:c,t=t.ignoreLocation,t=void 0===t?D.ignoreLocation:t;if(p(this,C),this.options={location:i,threshold:o,distance:r,includeMatches:a,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:t},this.pattern=c?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var d=function(e,t){n.chunks.push({pattern:e,alphabet:function(e){for(var t={},n=0,i=e.length;n<i;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}(e),startIndex:t})},i=this.pattern.length;if(32<i){for(var u=0,o=i%32,h=i-o;u<h;)d(this.pattern.substr(u,32),u),u+=32;o&&d(this.pattern.substr(r=i-32),r)}else d(this.pattern,0)}}function A(e,t){for(var n=0,i=E.length;n<i;n+=1){var o=E[n];if(o.condition(e,t))return new o(e,t)}return new S(e,t)}function I(e,n){e=e.matches;n.matches=[],v(e)&&e.forEach(function(e){var t;v(e.indices)&&e.indices.length&&(t={indices:e.indices,value:e.value},e.key&&(t.key=e.key.src),-1<e.idx&&(t.refIndex=e.idx),n.matches.push(t))})}function T(e,t){t.score=e.score}e(O,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof x))throw new Error("Incorrect 'index' type");this._myIndex=t||k(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,i=this._docs.length;n<i;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),--n,--i,t.push(o))}}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t,o,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===n?-1:n,i=this.options,r=i.includeMatches,a=i.includeScore,s=i.shouldSort,l=i.sortFn,i=i.ignoreFieldNorm,e=m(e)?m(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return t=e,o=void 0===(i=(i={ignoreFieldNorm:i}).ignoreFieldNorm)?D.ignoreFieldNorm:i,t.forEach(function(e){var i=1;e.matches.forEach(function(e){var t=e.key,n=e.norm,e=e.score,t=t?t.weight:null;i*=Math.pow(0===e&&t?Number.EPSILON:e,(t||1)*(o?1:n))}),e.score=i}),s&&e.sort(l),function(e,i,t){var t=2<arguments.length&&void 0!==t?t:{},n=void 0===(n=t.includeMatches)?D.includeMatches:n,t=t.includeScore,t=void 0===t?D.includeScore:t,o=[];return n&&o.push(I),t&&o.push(T),e.map(function(t){var e=t.idx,n={item:i[e],refIndex:e};return o.length&&o.forEach(function(e){e(t,n)}),n})}(e=g(n)&&-1<n?e.slice(0,n):e,this._docs,{includeMatches:r,includeScore:a})}},{key:"_searchStringList",value:function(e){var a=A(e,this.options),e=this._myIndex.records,s=[];return e.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=a.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&s.push({item:o,idx:r,matches:[{score:n,value:o,norm:e,indices:i}]})}),s}},{key:"_searchLogical",value:function(e){throw new Error("Logical search is not available")}},{key:"_searchObjectList",value:function(e){var o=this,r=A(e,this.options),e=this._myIndex,t=e.keys,e=e.records,a=[];return e.forEach(function(e){var n,i=e.$,e=e.i;v(i)&&(n=[],t.forEach(function(e,t){n.push.apply(n,f(o._findMatches({key:e,value:i[t],searcher:r})))}),n.length)&&a.push({idx:e,item:i,matches:n})}),a}},{key:"_findMatches",value:function(e){var a,t,n,i,s=e.key,o=e.value,l=e.searcher;return v(o)?(a=[],h(o)?o.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=l.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&a.push({score:n,key:s,value:o,idx:r,norm:e,indices:i})}):(e=o.v,o=o.n,t=(i=l.searchIn(e)).isMatch,n=i.score,i=i.indices,t&&a.push({score:n,key:s,value:e,norm:o,indices:i})),a):[]}}]);var L=O;function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(p(this,O),this.options=o({},D,{},t),this.options.useExtendedSearch)throw new Error("Extended search is not available");this._keyStore=new r(this.options.keys),this.setCollection(e,n)}return L.version="6.4.6",L.createIndex=k,L.parseIndex=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,t=void 0===t?D.getFn:t,n=e.keys,e=e.records,t=new x({getFn:t});return t.setKeys(n),t.setIndexRecords(e),t},L.config=D,L},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t(),document.addEventListener("DOMContentLoaded",function(){!function(i){"use strict";const e=document.body,n=document.querySelector(".search-section"),t=document.querySelectorAll(".search-open"),o=document.querySelector(".search-close"),r=document.querySelector(".search-input"),a=document.querySelector(".search-info"),s=document.querySelector(".search-counter"),l=document.querySelector(".search-results"),c=document.querySelector(".search-counter-results"),d=document.querySelector(".search-overlay");function u(){e.classList.remove("search-is-active"),e.classList.add("search-no-active"),r.value="",l.innerHTML="",s.classList.add("is-hide"),a.classList.remove("is-hide"),window.scrollTo(0,0)}var h;n&&(e.addEventListener("keyup",function(e){27==e.keyCode&&u()}),o.addEventListener("click",u),d.addEventListener("click",u),t.forEach(function(t){t.addEventListener("click",function(){e.classList.add("search-is-active"),e.classList.remove("search-no-active"),n.style.display="block",r.focus()}),t.addEventListener("click",function(){var e,n;!1===h&&(e=options.api,(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){var e,t;200<=n.status&&n.status<400&&(n.response,e=JSON.parse(n.responseText),t=new Fuse(e.posts,options),r.onkeyup=function(e){c.innerHTML="",l.innerHTML="",2<this.value.length&&(a.classList.add("is-hide"),s.classList.remove("is-hide")),this.value.length<3&&(a.classList.remove("is-hide"),s.classList.add("is-hide")),this.value.length<=2||(e=t.search(e.target.value,{limit:options.limit}),c.innerHTML=e.length,e.map(function(e){var t,n=new Date(e.item.published_at).toLocaleDateString(document.documentElement.lang,{year:"numeric",month:"long",day:"numeric"}),i=document.createElement("time"),o=document.createElement("h5"),r=document.createElement("span"),a=document.createElement("a");!0===options.images&&(t=document.createElement("img"),null!==e.item.feature_image)&&(t.setAttribute("src",e.item.feature_image),a.appendChild(t)),i.textContent=i.innerHTML+=n,r.textContent=e.item.title,a.setAttribute("href",e.item.url),o.appendChild(r),l.appendChild(a),a.appendChild(o),a.appendChild(i)}))})},n.send(),t.removeEventListener("click",i)),h=!0})}),h=!1)}(window)}),(()=>{var n={163:e=>{e.exports=function(s){var l,c=[].forEach,d=[].some,u=document.body,h=!0,p=" ";function a(e){var t=s.orderedList?"ol":"ul",t=document.createElement(t),n=s.listClass+p+s.extraListClasses;return e&&(n=(n+=p+s.collapsibleClass)+(p+s.isCollapsedClass)),t.setAttribute("class",n),t}return{enableTocAnimation:function(){h=!0},disableTocAnimation:function(e){e=e.target||e.srcElement;"string"==typeof e.className&&-1!==e.className.indexOf(s.linkClass)&&(h=!1)},render:function(e,t){var n=a(!1);if(t.forEach(function(e){!function t(e,n){var i,o,r,n=n.appendChild((n=e,i=document.createElement("li"),o=document.createElement("a"),s.listItemClass&&i.setAttribute("class",s.listItemClass),s.onClick&&(o.onclick=s.onClick),s.includeTitleTags&&o.setAttribute("title",n.textContent),s.includeHtml&&n.childNodes.length?c.call(n.childNodes,function(e){o.appendChild(e.cloneNode(!0))}):o.textContent=n.textContent,o.setAttribute("href",s.basePath+"#"+n.id),o.setAttribute("class",s.linkClass+p+"node-name--"+n.nodeName+p+s.extraLinkClasses),i.appendChild(o),i));e.children.length&&(r=a(e.isCollapsed),e.children.forEach(function(e){t(e,r)}),n.appendChild(r))}(e,n)}),null!==(l=e||l))return l.firstChild&&l.removeChild(l.firstChild),0===t.length?l:l.appendChild(n)},updateToc:function(e){var n=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop;s.positionFixedSelector&&(t=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop,o=document.querySelector(s.positionFixedSelector),"auto"===s.fixedSidebarOffset&&(s.fixedSidebarOffset=l.offsetTop),t>s.fixedSidebarOffset?-1===o.className.indexOf(s.positionFixedClass)&&(o.className+=p+s.positionFixedClass):o.className=o.className.split(p+s.positionFixedClass).join(""));var i,t,o,r,a=e;h&&null!==l&&0<a.length&&(d.call(a,function(e,t){return function e(t){var n=0;return null!==t&&(n=t.offsetTop,s.hasInnerContainers)&&(n+=e(t.offsetParent)),n}(e)>n+s.headingsOffset+10?(i=a[0===t?t:t-1],!0):t===a.length-1?(i=a[a.length-1],!0):void 0}),t=l.querySelectorAll("."+s.linkClass),c.call(t,function(e){e.className=e.className.split(p+s.activeLinkClass).join("")}),o=l.querySelectorAll("."+s.listItemClass),c.call(o,function(e){e.className=e.className.split(p+s.activeListItemClass).join("")}),(e=l.querySelector("."+s.linkClass+".node-name--"+i.nodeName+'[href="'+s.basePath+"#"+i.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]'))&&-1===e.className.indexOf(s.activeLinkClass)&&(e.className+=p+s.activeLinkClass),(r=e&&e.parentNode)&&-1===r.className.indexOf(s.activeListItemClass)&&(r.className+=p+s.activeListItemClass),r=l.querySelectorAll("."+s.listClass+"."+s.collapsibleClass),c.call(r,function(e){-1===e.className.indexOf(s.isCollapsedClass)&&(e.className+=p+s.isCollapsedClass)}),e&&e.nextSibling&&-1!==e.nextSibling.className.indexOf(s.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(p+s.isCollapsedClass).join("")),function e(t){return t&&-1!==t.className.indexOf(s.collapsibleClass)&&-1!==t.className.indexOf(s.isCollapsedClass)?(t.className=t.className.split(p+s.isCollapsedClass).join(""),e(t.parentNode.parentNode)):t}(e&&e.parentNode.parentNode))}}}},547:e=>{e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},971:function(e,t,g){var n=[],i=function(e){"use strict";var i,o,r,a,s=g(547),l={},c={},d=g(163),u=g(279),h=g(938),p=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||p)return a=Object.prototype.hasOwnProperty,c.destroy=function(){var e=m(l);null!==e&&(l.skipRendering||e&&(e.innerHTML=""),l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer).removeEventListener("resize",this._scrollListener,!1),i&&document.querySelector(l.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),i&&document.removeEventListener("click",this._clickListener,!1)))},c.init=function(e){if(p){l=function(){for(var e={},t=0;t<arguments.length;t++){var n,i=arguments[t];for(n in i)a.call(i,n)&&(e[n]=i[n])}return e}(s,e||{}),this.options=l,this.state={},l.scrollSmooth&&(l.duration=l.scrollSmoothDuration,l.offset=l.scrollSmoothOffset,c.scrollSmooth=g(374).initSmoothScrolling(l)),i=d(l),o=u(l),this._buildHtml=i,this._parseContent=o,this._headingsArray=r,c.destroy();e=function(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}(l);if(null!==e){var t,n=m(l);if(null!==n&&null!==(r=o.selectHeadings(e,l.headingSelector)))return e=o.nestHeadingsArray(r).nest,l.skipRendering||i.render(n,e),this._scrollListener=f(function(e){i.updateToc(r),l.disableTocScrollSync||h(l);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(i.updateToc(r),l.scrollEndCallback)&&l.scrollEndCallback(e)},l.throttleTimeout),this._scrollListener(),(l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer)):(document.addEventListener("scroll",this._scrollListener,!1),document)).addEventListener("resize",this._scrollListener,!1),t=null,this._clickListener=f(function(e){l.scrollSmooth&&i.disableTocAnimation(e),i.updateToc(r),t&&clearTimeout(t),t=setTimeout(function(){i.enableTocAnimation()},l.scrollSmoothDuration)},l.throttleTimeout),(l.scrollContainer&&document.querySelector(l.scrollContainer)?document.querySelector(l.scrollContainer):document).addEventListener("click",this._clickListener,!1),this}}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c;function f(i,o,r){var a,s;return o=o||250,function(){var e=r||this,t=+new Date,n=arguments;a&&t<a+o?(clearTimeout(s),s=setTimeout(function(){a=t,i.apply(e,n)},o)):(a=t,i.apply(e,n))}}function m(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}}(void 0!==g.g?g.g:this.window||this.global);void 0!==(t="function"==typeof i?i.apply(t,n):i)&&(e.exports=t)},279:e=>{e.exports=function(s){var t=[].reduce;function l(e){return e[e.length-1]}function c(e){var t;return e instanceof window.HTMLElement?!s.ignoreHiddenElements||e.offsetHeight&&e.offsetParent?(t=e.getAttribute("data-heading-label")||(s.headingLabelCallback?String(s.headingLabelCallback(e.textContent)):e.textContent.trim()),t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.toUpperCase().replace("H",""),textContent:t},s.includeHtml&&(t.childNodes=e.childNodes),s.headingObjectCallback?s.headingObjectCallback(t,e):t):null:e}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=c(t);if(t){for(var n=e.nest,t,i=(t=c(t)).headingLevel,o=n,r=l(o),a=i-(r?r.headingLevel:0);0<a&&(!(r=l(o))||i!==r.headingLevel);)r&&void 0!==r.children&&(o=r.children),a--;i>=s.collapseDepth&&(t.isCollapsed=!0),o.push(t)}return e},{nest:[]})},selectHeadings:function(e,t){var n=t;s.ignoreSelector&&(n=t.split(",").map(function(e){return e.trim()+":not("+s.ignoreSelector+")"}));try{return e.querySelectorAll(n)}catch(e){return console.warn("Headers not found with selector: "+n),null}}}}},374:(e,t)=>{t.initSmoothScrolling=function(d){var u=d.duration,h=d.offset,p=location.hash?f(location.href):location.href;function f(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",function(t){var e,n,i,o,r,a,s,l;function c(e){o=e-i,window.scrollTo(0,a.easing(o,r,s,l)),o<l?requestAnimationFrame(c):(window.scrollTo(0,r+s),"function"==typeof a.callback&&a.callback())}"a"!==(e=t.target).tagName.toLowerCase()||!(0<e.hash.length||"#"===e.href.charAt(e.href.length-1))||f(e.href)!==p&&f(e.href)+"#"!==p||-1<t.target.className.indexOf("no-smooth-scroll")||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||-1===t.target.className.indexOf(d.linkClass)||(e=t.target.hash,n={duration:u,offset:h,callback:function(){var e=t.target.hash;(e=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}},r=window.pageYOffset,a={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},n=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),s="string"==typeof e?a.offset+(e?n&&n.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,l="function"==typeof a.duration?a.duration(s):a.duration,requestAnimationFrame(function(e){c(i=e)}))},!1)}},938:e=>{e.exports=function(e){var t=e.tocElement||document.querySelector(e.tocSelector);t&&t.scrollHeight>t.clientHeight&&(e=t.querySelector("."+e.activeListItemClass))&&(t.scrollTop=e.offsetTop)}}},i={};function o(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e].call(t.exports,t,t.exports,o)),t.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o(971)})();let a;function o(i,l){const o=Object.keys(l);return class extends i{static get observedAttributes(){return o.map(e=>l[e].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(!this.__initialized){this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(a,i){const s=e(i);return Object.keys(i).forEach(r=>{const e=s[r],i=a.getAttribute(e.attribute),o=a[r];i&&(e.value=e.parse?t(i):i),null!=o&&(e.value=Array.isArray(o)?o.slice(0):o),e.reflect&&n(a,e.attribute,e.value),Object.defineProperty(a,r,{get:()=>e.value,set(i){var o=e.value;e.value=i,e.reflect&&n(this,e.attribute,e.value);for(let e=0,t=this.__propertyChangedCallbacks.length;e<t;e++)this.__propertyChangedCallbacks[e](r,i,o)},enumerable:!0,configurable:!0})}),s}(this,l);i=this.props;var i,o=Object.keys(i).reduce((e,t)=>(e[t]=i[t].value,e),{}),r=this.Component,s=a;try{(a=this).__initialized=!0,"function"==typeof r&&0===r.toString().indexOf("class")?new r(o,{element:this}):r(o,{element:this})}finally{a=s}}}async disconnectedCallback(){if(await Promise.resolve(),!this.isConnected){this.__propertyChangedCallbacks.length=0;for(var e=null;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}}attributeChangedCallback(e,n,i){this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in l&&(null==i&&!this[e]||(this[e]=l[e].parse?t(i):i))}lookupProp(t){if(l)return o.find(e=>t===e||t===l[e].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function i(n,a={},e={}){const{BaseElement:s=HTMLElement,extension:l}=e;return e=>{if(!n)throw new Error("tag is required to register a Component");let t=customElements.get(n);return t?t.prototype.Component=e:((t=o(s,(i=a)?Object.keys(i).reduce((e,t)=>{var n=i[t];return e[t]=r(n)&&"value"in n?n:{value:n},e[t].attribute||(e[t].attribute=t.replace(/\.?([A-Z]+)/g,(e,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")),e[t].parse="parse"in e[t]?e[t].parse:"string"!=typeof e[t].value,e},{}):{})).prototype.Component=e,t.prototype.registeredTag=n,customElements.define(n,t,l)),t;var i}}const s=Symbol("solid-proxy"),l=Symbol("solid-track"),d={equals:(e,t)=>e===t};let c=j;const u=1,p=2,h={owned:null,cleanups:null,context:null,owner:null};var f=null;let g=null,m=null,b=null,y=null,v=0;function w(e,t){const n=m,i=f,o=0===e.length,r=o?h:{owned:null,cleanups:null,context:null,owner:void 0===t?i:t},a=o?e:()=>e(()=>S(()=>B(r)));f=r,m=null;try{return M(a,!0)}finally{m=n,f=i}}function _(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},d,t):d).equals||void 0};return[I.bind(n),e=>("function"==typeof e&&(e=e(n.value)),P(n,e))]}function x(e,t,n){A(N(e,t,!1,u))}function k(e,t,n){c=L;e=N(e,t,!1,u);e.user=!0,y?y.push(e):A(e)}function C(e,t,n){n=n?Object.assign({},d,n):d;e=N(e,t,!0,0);return e.observers=null,e.observerSlots=null,e.comparator=n.equals||void 0,A(e),I.bind(e)}function S(e){if(null===m)return e();var t=m;m=null;try{return e()}finally{m=t}}function T(e){k(()=>S(e))}function $(e){return null!==f&&(null===f.cleanups?f.cleanups=[e]:f.cleanups.push(e)),e}function E(e){const t=C(e),n=C(()=>D(t()));return n.toArray=()=>{var e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function I(){var e;return this.sources&&this.state&&(this.state===u?A(this):(e=b,b=null,M(()=>Z(this),!1),b=e)),m&&(e=this.observers?this.observers.length:0,m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])),this.value}function P(i,e,t){var n=i.value;return i.comparator&&i.comparator(n,e)||(i.value=e,i.observers&&i.observers.length&&M(()=>{for(let e=0;e<i.observers.length;e+=1){var t=i.observers[e],n=g&&g.running;n&&g.disposed.has(t),(n?t.tState:t.state)||((t.pure?b:y).push(t),t.observers&&R(t)),n||(t.state=u)}if(1e6<b.length)throw b=[],new Error},!1)),e}function A(e){var t,n,i;e.fn&&(B(e),t=f,n=m,i=v,function(e,t,n){let i;try{i=e.fn(t)}catch(t){return e.pure&&(e.state=u,e.owned&&e.owned.forEach(B),e.owned=null),e.updatedAt=n+1,z(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?P(e,i):e.value=i,e.updatedAt=n)}(m=f=e,e.value,i),m=n,f=t)}function N(e,t,n,i=u,o){e={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:f,context:null,pure:n};return null!==f&&f!==h&&(f.owned?f.owned.push(e):f.owned=[e]),e}function O(t){if(0!==t.state){if(t.state===p)return Z(t);if(t.suspense&&S(t.suspense.inFallback))return t.suspense.effects.push(t);const i=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<v);)t.state&&i.push(t);for(let e=i.length-1;0<=e;e--){var n;(t=i[e]).state===u?A(t):t.state===p&&(n=b,b=null,M(()=>Z(t,i[0]),!1),b=n)}}}function M(e,t){if(b)return e();let n=!1;t||(b=[]),y?n=!0:y=[],v++;try{const t=e();var i=n;if(b&&(j(b),b=null),!i){const o=y;y=null,o.length&&M(()=>c(o),!1)}return t}catch(e){n||(y=null),b=null,z(e)}}function j(t){for(let e=0;e<t.length;e++)O(t[e])}function L(e){let t,n=0;for(t=0;t<e.length;t++){var i=e[t];i.user?e[n++]=i:O(i)}for(t=0;t<n;t++)O(e[t])}function Z(t,n){for(let e=t.state=0;e<t.sources.length;e+=1){var i=t.sources[e];if(i.sources){const t=i.state;t===u?i!==n&&(!i.updatedAt||i.updatedAt<v)&&O(i):t===p&&Z(i,n)}}}function R(t){for(let e=0;e<t.observers.length;e+=1){var n=t.observers[e];n.state||(n.state=p,(n.pure?b:y).push(n),n.observers&&R(n))}}function B(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const e=i.pop(),o=t.observerSlots.pop();n<i.length&&(e.sourceSlots[o]=n,i[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;0<=t;t--)B(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;0<=t;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function z(e){throw e}function D(t){if("function"==typeof t&&!t.length)return D(t());if(Array.isArray(t)){var n=[];for(let e=0;e<t.length;e++){var i=D(t[e]);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return n}return t}const V=Symbol("fallback");function U(t){for(let e=0;e<t.length;e++)t[e]()}function F(e,t){return S(()=>e(t||{}))}function G(){return!0}const K={get:(e,t,n)=>t===s?n:e.get(t),has:(e,t)=>t===s||e.has(t),set:G,deleteProperty:G,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:G,deleteProperty:G}),ownKeys:e=>e.keys()};function H(e){return(e="function"==typeof e?e():e)||{}}function W(...i){let n=!1;for(let e=0;e<i.length;e++){var t=i[e];n=n||!!t&&s in t,i[e]="function"==typeof t?(n=!0,C(t)):t}if(n)return new Proxy({get(t){for(let e=i.length-1;0<=e;e--){var n=H(i[e])[t];if(void 0!==n)return n}},has(t){for(let e=i.length-1;0<=e;e--)if(t in H(i[e]))return!0;return!1},keys(){var t=[];for(let e=0;e<i.length;e++)t.push(...Object.keys(H(i[e])));return[...new Set(t)]}},K);var o={};for(let e=i.length-1;0<=e;e--)if(i[e])for(const n in Object.getOwnPropertyDescriptors(i[e]))n in o||Object.defineProperty(o,n,{enumerable:!0,get(){for(let e=i.length-1;0<=e;e--){var t=(i[e]||{})[n];if(void 0!==t)return t}}});return o}function q(o,...e){const t=new Set(e.flat());if(s in o){const r=e.map(t=>new Proxy({get:e=>t.includes(e)?o[e]:void 0,has:e=>t.includes(e)&&e in o,keys:()=>t.filter(e=>e in o)},K));return r.push(new Proxy({get:e=>t.has(e)?void 0:o[e],has:e=>!t.has(e)&&e in o,keys:()=>Object.keys(o).filter(e=>!t.has(e))},K)),r}const r=Object.getOwnPropertyDescriptors(o);return e.push(Object.keys(r).filter(e=>!t.has(e))),e.map(t=>{var n={};for(let e=0;e<t.length;e++){const i=t[e];i in o&&Object.defineProperty(n,i,r[i]||{get:()=>o[i],set:()=>!0,enumerable:!0})}return n})}const Y=e=>`Stale read from <${e}>.`;function X(e){var t="fallback"in e&&{fallback:()=>e.fallback};return C(function(n,f={}){let m=[],g=[],v=[],y=0,b=1<n.length?[]:null;return $(()=>U(v)),()=>{let d,u,h=e.each||[];return h[l],S(()=>{let e,t,n,i,o,r,a,s,l,c=h.length;if(0===c)0!==y&&(U(v),v=[],m=[],g=[],y=0,b=b&&[]),f.fallback&&(m=[V],g[0]=w(e=>(v[0]=e,f.fallback())),y=1);else if(0===y){for(g=new Array(c),u=0;u<c;u++)m[u]=h[u],g[u]=w(p);y=c}else{for(n=new Array(c),i=new Array(c),b&&(o=new Array(c)),r=0,a=Math.min(y,c);r<a&&m[r]===h[r];r++);for(a=y-1,s=c-1;a>=r&&s>=r&&m[a]===h[s];a--,s--)n[s]=g[a],i[s]=v[a],b&&(o[s]=b[a]);for(e=new Map,t=new Array(s+1),u=s;u>=r;u--)l=h[u],d=e.get(l),t[u]=void 0===d?-1:d,e.set(l,u);for(d=r;d<=a;d++)l=m[d],void 0!==(u=e.get(l))&&-1!==u?(n[u]=g[d],i[u]=v[d],b&&(o[u]=b[d]),u=t[u],e.set(l,u)):v[d]();for(u=r;u<c;u++)u in n?(g[u]=n[u],v[u]=i[u],b&&(b[u]=o[u],b[u](u))):g[u]=w(p);g=g.slice(0,y=c),m=h.slice(0)}return g});function p(e){if(v[u]=e,b){const[e,t]=_(u);return b[u]=t,n(h[u],e)}return n(h[u])}}}(e.children,t||void 0))}function J(n){const i=n.keyed,o=C(()=>n.when,void 0,{equals:(e,t)=>i?e===t:!e==!t});return C(()=>{const e=o();if(e){const t=n.children;return"function"==typeof t&&0<t.length?S(()=>t(i?e:()=>{if(S(o))return n.when;throw Y("Show")})):t}return n.fallback},void 0,void 0)}function Q(o){let r=!1;const e=E(()=>o.children),a=C(()=>{let t=e();Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){var n=t[e].when;if(n)return r=!!t[e].keyed,[e,n,t[e]]}return[-1]},void 0,{equals:(e,t)=>e[0]===t[0]&&(r?e[1]===t[1]:!e[1]==!t[1])&&e[2]===t[2]});return C(()=>{const[e,t,n]=a();if(e<0)return o.fallback;const i=n.children;return"function"==typeof i&&0<i.length?S(()=>i(r?t:()=>{if(S(a)[0]!==e)throw Y("Match");return n.when})):i},void 0,void 0)}function ee(e){return e}const te=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),ne=new Set(["innerHTML","textContent","innerText","children"]),re=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ae=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}}),oe=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ie={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},se="_$DX_DELEGATE";function le(t,e,n){let i;const o=()=>{var e=document.createElement("template");return e.innerHTML=t,(n?e.content.firstChild:e.content).firstChild},r=e?()=>(i=i||o()).cloneNode(!0):()=>S(()=>document.importNode(i=i||o(),!0));return r.cloneNode=r}function de(n,i=window.document){var o=i[se]||(i[se]=new Set);for(let e=0,t=n.length;e<t;e++){var r=n[e];o.has(r)||(o.add(r),i.addEventListener(r,be))}}function ce(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ue(e,t){null==t?e.removeAttribute("class"):e.className=t}function pe(s,l={},c,e){const d={};return e||x(()=>d.children=ye(s,l.children,d.children)),x(()=>l.ref&&l.ref(s)),x(()=>{var e,[t,n,i,o,r={}]=[s,l,c,!0,d];n=n||{};for(const o in r)if(!(o in n)){if("children"===o)continue;r[o]=me(t,o,null,r[o],i,!0)}for(const a in n)"children"===a?o||ye(t,n.children):(e=n[a],r[a]=me(t,a,e,r[a],i,!0))}),d}function he(e,t,n){return S(()=>e(t,n))}function fe(t,n,i,e){if(void 0!==i&&(e=e||[]),"function"!=typeof n)return ye(t,n,e,i);x(e=>ye(t,n(),e,i),e)}function ge(n,e,i){var o=e.trim().split(/\s+/);for(let e=0,t=o.length;e<t;e++)n.classList.toggle(o[e],i)}function me(n,e,i,o,t,r){let a,s,l,c,d;if("style"===e){var u=n,h=i,p=o;if(!h)return p?ce(u,"style"):h;var f=u.style;if("string"==typeof h)return f.cssText=h;let e,t;for(t in"string"==typeof p&&(f.cssText=p=void 0),h=h||{},p=p||{})null==h[t]&&f.removeProperty(t),delete p[t];for(t in h)e=h[t],e!==p[t]&&(f.setProperty(t,e),p[t]=e);return p}if("classList"===e){var[m,g,v={}]=[n,i,o];const b=Object.keys(g||{}),w=Object.keys(v);let t,e;for(t=0,e=w.length;t<e;t++){const b=w[t];b&&"undefined"!==b&&!g[b]&&(ge(m,b,!1),delete v[b])}for(t=0,e=b.length;t<e;t++){const w=b[t],e=!!g[w];w&&"undefined"!==w&&v[w]!==e&&e&&(ge(m,w,!0),v[w]=e)}return v}if(i===o)return o;if("ref"===e)r||i(n);else if("on:"===e.slice(0,3)){const t=e.slice(3);o&&n.removeEventListener(t,o),i&&n.addEventListener(t,i)}else if("oncapture:"===e.slice(0,10)){const t=e.slice(10);o&&n.removeEventListener(t,o,!0),i&&n.addEventListener(t,i,!0)}else if("on"===e.slice(0,2)){const t=e.slice(2).toLowerCase(),r=oe.has(t);if(!r&&o){const e=Array.isArray(o)?o[0]:o;n.removeEventListener(t,e)}(r||i)&&(function(t,e,n,i){if(i)Array.isArray(n)?(t["$$"+e]=n[0],t[`$$${e}Data`]=n[1]):t["$$"+e]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=e=>i.call(t,n[1],e))}else t.addEventListener(e,n)}(n,t,i,r),r)&&de([t])}else if("attr:"===e.slice(0,5))ce(n,e.slice(5),i);else if((d="prop:"===e.slice(0,5))||(l=ne.has(e))||!t&&((c=function(e,t){e=ae[e];return"object"==typeof e?e[t]?e.$:void 0:e}(e,n.tagName))||(s=te.has(e)))||(a=n.nodeName.includes("-")))d&&(e=e.slice(5),s=!0),"class"===e||"className"===e?ue(n,i):!a||s||l?n[c||e]=i:n[e.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())]=i;else{const o=t&&-1<e.indexOf(":")&&ie[e.split(":")[0]];o?(u=n,r=o,t=e,null==(y=i)?u.removeAttributeNS(r,t):u.setAttributeNS(r,t,y)):ce(n,re[e]||e,i)}var y;return i}function be(e){var t="$$"+e.type;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){var i=n[t];if(i&&!n.disabled){var o=n[t+"Data"];if(void 0!==o?i.call(n,o,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ye(n,t,i,o,e){for(;"function"==typeof i;)i=i();if(t!==i){const h=typeof t,r=void 0!==o;if(n=r&&i[0]&&i[0].parentNode||n,"string"===h||"number"===h)if("number"===h&&(t=t.toString()),r){let e=i[0];e&&3===e.nodeType?e.data=t:e=document.createTextNode(t),i=_e(n,i,o,e)}else i=""!==i&&"string"==typeof i?n.firstChild.data=t:n.textContent=t;else if(null==t||"boolean"===h)i=_e(n,i,o);else{if("function"===h)return x(()=>{let e=t();for(;"function"==typeof e;)e=e();i=ye(n,e,i,o)}),()=>i;if(Array.isArray(t)){const h=[],a=i&&Array.isArray(i);if(ve(h,t,i,e))return x(()=>i=ye(n,h,i,o,!0)),()=>i;if(0===h.length){if(i=_e(n,i,o),r)return i}else if(a)if(0===i.length)we(n,h,o);else{var c=n;var d=i;var u=h;let e=u.length,o=d.length,r=e,a=0,s=0,t=d[o-1].nextSibling,l=null;for(;a<o||s<r;)if(d[a]!==u[s]){for(;d[o-1]===u[r-1];)o--,r--;if(o===a){const d=r<e?s?u[s-1].nextSibling:u[r-s]:t;for(;s<r;)c.insertBefore(u[s++],d)}else if(r===s)for(;a<o;)l&&l.has(d[a])||d[a].remove(),a++;else if(d[a]===u[r-1]&&u[s]===d[o-1]){const e=d[--o].nextSibling;c.insertBefore(u[s++],d[a++].nextSibling),c.insertBefore(u[--r],e),d[o]=u[r]}else{if(!l){l=new Map;let e=s;for(;e<r;)l.set(u[e],e++)}const i=l.get(d[a]);if(null!=i)if(s<i&&i<r){let e,t=a,n=1;for(;++t<o&&t<r&&null!=(e=l.get(d[t]))&&e===i+n;)n++;if(n>i-s){const e=d[a];for(;s<i;)c.insertBefore(u[s++],e)}else c.replaceChild(u[s++],d[a++])}else a++;else d[a++].remove()}}else a++,s++}else i&&_e(n),we(n,h);i=h}else if(t instanceof Node){if(Array.isArray(i)){if(r)return i=_e(n,i,o,t);_e(n,i,null,t)}else null!=i&&""!==i&&n.firstChild?n.replaceChild(t,n.firstChild):n.appendChild(t);i=t}else console.warn("Unrecognized value. Skipped inserting",t)}}return i}function ve(i,o,r,a){let s=!1;for(let n=0,e=o.length;n<e;n++){let e=o[n],t=r&&r[n];if(e instanceof Node)i.push(e);else if(null!=e&&!0!==e&&!1!==e)if(Array.isArray(e))s=ve(i,e,t)||s;else if("function"==typeof e)if(a){for(;"function"==typeof e;)e=e();s=ve(i,Array.isArray(e)?e:[e],Array.isArray(t)?t:[t])||s}else i.push(e),s=!0;else{const o=String(e);t&&3===t.nodeType?(t.data=o,i.push(t)):i.push(document.createTextNode(o))}}return s}function we(n,i,o=null){for(let e=0,t=i.length;e<t;e++)n.insertBefore(i[e],o)}function _e(n,i,o,e){if(void 0===o)return n.textContent="";var r=e||document.createTextNode("");if(i.length){let t=!1;for(let e=i.length-1;0<=e;e--){var a=i[e];if(r!==a){const i=a.parentNode===n;t||e?i&&a.remove():i?n.replaceChild(r,a):n.insertBefore(r,o)}else t=!0}}else n.insertBefore(r,o);return[r]}function xe(a){return(i,o)=>{const r=o["element"];return w(e=>{const n=function(t){var n=Object.keys(t),i={};for(let e=0;e<n.length;e++){const[o,r]=_(t[n[e]]);Object.defineProperty(i,n[e],{get:o,set(e){r(()=>e)}})}return i}(i);r.addPropertyChangedCallback((e,t)=>n[e]=t),r.addReleaseCallback(()=>{r.renderRoot.textContent="",e()});var t=a(n,o);return fe(r.renderRoot,t)},function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return(t&&t.assignedSlot?t.assignedSlot:e)._$owner}(r))}}function ke(e,t,n){return 2===arguments.length&&(n=t,t={}),i(e,t)(xe(n))}const Ce={typebot:"",onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,isPreview:void 0,startGroupId:void 0,prefilledVariables:void 0,apiHost:void 0,resultId:void 0},Se={...Ce,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},Te={...Ce,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0};var In,Pn,Wn,Yr,$e='/*! tailwindcss v3.3.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.-right-1{right:-4px}.-right-2{right:-8px}.-top-2{top:-8px}.bottom-20{bottom:80px}.bottom-24{bottom:96px}.bottom-5{bottom:20px}.left-0{left:0}.right-0{right:0}.right-5{right:20px}.top-0{top:0}.z-10{z-index:10}.z-20{z-index:20}.m-2{margin:8px}.mx-4{margin-left:16px;margin-right:16px}.my-2{margin-bottom:8px;margin-top:8px}.-ml-1{margin-left:-4px}.-mr-1{margin-right:-4px}.-mt-1{margin-top:-4px}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.ml-2{margin-left:8px}.mr-1{margin-right:4px}.mr-2{margin-right:8px}.mr-3{margin-right:12px}.mt-1{margin-top:4px}.mt-4{margin-top:16px}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:40px}.h-12{height:48px}.h-16{height:64px}.h-2{height:8px}.h-2\\.5{height:10px}.h-3{height:12px}.h-32{height:128px}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-8{height:32px}.h-9{height:36px}.h-\\[80vh\\]{height:80vh}.h-full{height:100%}.max-h-\\[704px\\]{max-height:704px}.min-h-full{min-height:100%}.w-10{width:40px}.w-12{width:48px}.w-16{width:64px}.w-2{width:8px}.w-3{width:12px}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-7{width:28px}.w-8{width:32px}.w-9{width:36px}.w-full{width:100%}.min-w-0{min-width:0}.max-w-\\[256px\\]{max-width:256px}.max-w-full{max-width:100%}.max-w-lg{max-width:512px}.max-w-xs{max-width:320px}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:8px}.gap-4{gap:16px}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.rounded-md{border-radius:6px}.border{border-width:1px}.border-2{border-width:2px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:4px}.p-4{padding:16px}.px-1{padding-left:4px;padding-right:4px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.px-8{padding-left:32px;padding-right:32px}.py-1{padding-bottom:4px;padding-top:4px}.py-2{padding-bottom:8px;padding-top:8px}.py-4{padding-bottom:16px;padding-top:16px}.py-6{padding-bottom:24px;padding-top:24px}.pb-0{padding-bottom:0}.pl-2{padding-left:8px}.pr-1{padding-right:4px}.pr-2{padding-right:8px}.pt-10{padding-top:40px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:24px;line-height:32px}.text-base{font-size:1.5rem;line-height:24px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.brightness-150{--tw-brightness:brightness(1.5)}.brightness-150,.brightness-200{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-200{--tw-brightness:brightness(2)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-100{transition-duration:.1s}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--typebot-container-bg-image:none;--typebot-container-bg-color:transparent;--typebot-container-font-family:"Open Sans";--typebot-button-bg-color:#0042da;--typebot-button-color:#fff;--typebot-host-bubble-bg-color:#f7f8ff;--typebot-host-bubble-color:#303235;--typebot-guest-bubble-bg-color:#ff8e21;--typebot-guest-bubble-color:#fff;--typebot-input-bg-color:#fff;--typebot-input-color:#303235;--typebot-input-placeholder-color:#9095a0;--typebot-header-bg-color:#fff;--typebot-header-color:#303235;--typebot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--typebot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}.slate-a{text-decoration:underline}.slate-html-container>div{min-height:24px}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.text-input::placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.typebot-container{background-color:var(--typebot-container-bg-color);background-image:var(--typebot-container-bg-image);font-family:var(--typebot-container-font-family),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.typebot-button{background-color:var(--typebot-button-bg-color);border:1px solid var(--typebot-button-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-button-color)}.typebot-button.selectable{background-color:var(--typebot-host-bubble-bg-color);border:1px solid var(--typebot-button-bg-color)}.typebot-button.selectable,.typebot-host-bubble{color:var(--typebot-host-bubble-color)}.typebot-host-bubble>.bubble-typing{background-color:var(--typebot-host-bubble-bg-color);border:var(--typebot-host-bubble-border);border-radius:6px}.typebot-host-bubble iframe,.typebot-host-bubble img,.typebot-host-bubble video{border-radius:var(--typebot-border-radius)}.typebot-guest-bubble{background-color:var(--typebot-guest-bubble-bg-color);border-radius:6px;color:var(--typebot-guest-bubble-color)}.typebot-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius);box-shadow:0 2px 6px -1px rgba(0,0,0,.1)}.typebot-input,.typebot-input-error-message{color:var(--typebot-input-color)}.typebot-button>.send-icon{fill:var(--typebot-button-color)}.typebot-chat-view{max-width:800px}.ping span{background-color:var(--typebot-button-bg-color)}.rating-icon-container svg{stroke:var(--typebot-button-bg-color);fill:var(--typebot-host-bubble-bg-color);height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:var(--typebot-button-bg-color)}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{border-radius:var(--typebot-border-radius)}.total-files-indicator,.upload-progress-bar{background-color:var(--typebot-button-bg-color)}.total-files-indicator{color:var(--typebot-button-color);font-size:10px}.typebot-upload-input{transition:border-color .1s ease-out}.typebot-upload-input.dragging-over{border-color:var(--typebot-button-bg-color)}.secondary-button{background-color:var(--typebot-host-bubble-bg-color);border-radius:var(--typebot-border-radius);color:var(--typebot-host-bubble-color)}.typebot-country-select{color:var(--typebot-input-color)}.typebot-country-select,.typebot-date-input{background-color:var(--typebot-input-bg-color);border-radius:var(--typebot-border-radius)}.typebot-date-input{color:var(--typebot-input-color);color-scheme:light}.typebot-popup-blocked-toast{border-radius:var(--typebot-border-radius)}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9)}.hover\\:brightness-90:hover,.hover\\:brightness-95:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:brightness-95:hover{--tw-brightness:brightness(.95)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75)}.active\\:brightness-75:active,.active\\:brightness-90:active{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.active\\:brightness-90:active{--tw-brightness:brightness(.9)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:640px){.sm\\:right-5{right:20px}.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:w-\\[400px\\]{width:400px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:512px}.sm\\:p-0{padding:0}}';let Ee=function(e){return e.TEXT="text input",e.NUMBER="number input",e.EMAIL="email input",e.URL="url input",e.DATE="date input",e.PHONE="phone number input",e.CHOICE="choice input",e.PAYMENT="payment input",e.RATING="rating input",e.FILE="file input",e}({}),Ie=function(e){return e.TEXT="text",e.IMAGE="image",e.VIDEO="video",e.EMBED="embed",e.AUDIO="audio",e}({});const Pe=async e=>{try{var t="string"==typeof e?e:e.url,n=await fetch(t,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&Ae(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&Ae(e.body)?JSON.stringify(e.body):void 0}),i=await n.json();if(n.ok)return{data:i};throw"error"in i?i.error:i}catch(e){return console.error(e),{error:e}}},Ae=e=>null!=e,Ne=e=>null==e,Oe=e=>null==e||""===e,Me=e=>null!=e&&""!==e,je=async({basePath:n="/api",files:e,onUploadProgress:t})=>{var i,o,r=[];let a=0;for({file:i,path:o}of e){t&&t(a/e.length*100),a+=1;var s=(await Pe(`${n}/storage/upload-url?filePath=${encodeURIComponent(o)}&fileType=`+i.type))["data"];if(s?.presignedUrl){var{url:l,fields:c}=s.presignedUrl;if(s.hasReachedStorageLimit)r.push(null);else{const n=new FormData;Object.entries({...c,file:i}).forEach(([e,t])=>{n.append(e,t)}),(await fetch(l,{method:"POST",body:n})).ok&&r.push(l.split("?")[0]+"/"+o)}}}return r},Le=(e="")=>"undefined"==typeof window?Oe(process.env["NEXT_PUBLIC_"+e])?void 0:process.env["NEXT_PUBLIC_"+e]:"undefined"==typeof window||!window.__env||Oe(window.__env[e])?void 0:window.__env[e],Ze=le('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),Re=le('<img alt="Bubble button icon">'),Be=le('<button part="button"><svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),ze=r=>{{const a=Be(),s=a.firstChild;return a.$$click=()=>r.toggleBot(),a.style.setProperty("z-index","42424242"),fe(a,F(J,{get when(){return Ne(r.customIconSrc)},keyed:!0,get children(){const i=Ze();return x(e=>{var t=r.iconColor??"white",n="stroke-2 fill-transparent absolute duration-200 transition "+(r.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100")+("large"===r.size?" w-9":" w-7");return t!==e._v$&&i.style.setProperty("stroke",e._v$=t),n!==e._v$2&&ce(i,"class",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}}),s),fe(a,F(J,{get when(){return r.customIconSrc},get children(){const i=Re();return x(e=>{var t=r.customIconSrc,n="rounded-full object-cover"+("large"===r.size?" w-9 h-9":" w-7 h-7");return t!==e._v$3&&ce(i,"src",e._v$3=t),n!==e._v$4&&ue(i,e._v$4=n),e},{_v$3:void 0,_v$4:void 0}),i}}),s),x(e=>{var t="fixed bottom-5 right-5 shadow-md  rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in"+("large"===r.size?" w-16 h-16":" w-12 h-12"),n=r.backgroundColor??"#5107ed",i=r.iconColor??"white",o="absolute duration-200 transition "+(r.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0")+("large"===r.size?" w-9":" w-7");return t!==e._v$5&&ue(a,e._v$5=t),n!==e._v$6&&a.style.setProperty("background-color",e._v$6=n),i!==e._v$7&&s.style.setProperty("fill",e._v$7=i),o!==e._v$8&&ce(s,"class",e._v$8=o),e},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),a}},De=(de(["click"]),le('<div part="preview-message"><p>')),Ve=le('<img class="rounded-full w-8 h-8 object-cover" alt="Bot avatar">'),Ue=le('<button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18">'),Fe="#F7F8FF",Ge="#303235",Ke=o=>{const[e,t]=_(!1);{const r=De(),n=r.firstChild;return r.addEventListener("mouseleave",()=>t(!1)),r.addEventListener("mouseenter",()=>t(!0)),r.$$click=()=>o.onClick(),r.style.setProperty("z-index","42424242"),fe(r,F(He,{get isHovered(){return e()},get previewMessageTheme(){return o.previewMessageTheme},get onClick(){return o.onCloseClick}}),n),fe(r,F(J,{get when(){return o.avatarUrl},keyed:!0,children:e=>{return ce(t=Ve(),"src",e),t;var t}}),n),fe(n,()=>o.message),x(e=>{var t="fixed right-5 max-w-[256px] rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4"+("large"===o.buttonSize?" bottom-24":" bottom-20"),n=o.previewMessageTheme?.backgroundColor??Fe,i=o.previewMessageTheme?.textColor??Ge;return t!==e._v$&&ue(r,e._v$=t),n!==e._v$2&&r.style.setProperty("background-color",e._v$2=n),i!==e._v$3&&r.style.setProperty("color",e._v$3=i),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r}},He=o=>{{const r=Ue();return r.$$click=e=>(e.stopPropagation(),o.onClick()),x(e=>{var t="absolute -top-2 -right-2 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all border "+(o.isHovered?"opacity-100":"opacity-0"),n=o.previewMessageTheme?.closeButtonBackgroundColor??Fe,i=o.previewMessageTheme?.closeButtonIconColor??Ge;return t!==e._v$4&&ue(r,e._v$4=t),n!==e._v$5&&r.style.setProperty("background-color",e._v$5=n),i!==e._v$6&&r.style.setProperty("color",e._v$6=i),e},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),r}},We=(de(["click"]),le('<svg viewBox="0 0 800 800" width="16"><rect width="800" height="800" rx="80" fill="#0042DA"></rect><rect x="650" y="293" width="85.4704" height="384.617" rx="20" transform="rotate(90 650 293)" fill="#FF8E20"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M192.735 378.47C216.337 378.47 235.47 359.337 235.47 335.735C235.47 312.133 216.337 293 192.735 293C169.133 293 150 312.133 150 335.735C150 359.337 169.133 378.47 192.735 378.47Z" fill="#FF8E20"></path><rect x="150" y="506.677" width="85.4704" height="384.617" rx="20" transform="rotate(-90 150 506.677)" fill="white"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M607.265 421.206C583.663 421.206 564.53 440.34 564.53 463.942C564.53 487.544 583.663 506.677 607.265 506.677C630.867 506.677 650 487.544 650 463.942C650 440.34 630.867 421.206 607.265 421.206Z" fill="white">')),qe=()=>We(),Ye=le('<a href="https://www.typebot.io/?utm_source=litebadge" target="_blank" rel="noopener noreferrer" class="lite-badge" id="lite-badge"><span>Made with Typebot'),Xe=t=>{let n,e;const i=e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{"id"in e&&n&&"lite-badge"==e.id&&(console.log("Sorry, you can't remove the brand "),t.botContainer?.append(n))})})};return T(()=>{document&&t.botContainer&&(e=new MutationObserver(i)).observe(t.botContainer,{subtree:!1,childList:!0})}),$(()=>{e&&e.disconnect()}),o=Ye(),r=o.firstChild,"function"==typeof n?he(n,o):n=o,fe(o,F(qe,{}),r),o;var o,r},Je=()=>Le("VIEWER_INTERNAL_URL")??Le("VIEWER_URL")?.split(",")[0]??"https://viewer.typebot.io",[Qe,et]=_(),tt=le('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="19px" color="white"><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">'),nt=e=>{return pe(t=tt(),e,!0,!0),t;var t},rt=le('<button type="submit">'),at=le('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),ot=e=>{return pe(t=rt(),W({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"py-2 px-4 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button "+e.class}}),!1,!0),fe(t,F(J,{get when(){return!e.isLoading},get fallback(){return F(it,{class:"text-white"})},get children(){return C(()=>!(!Qe()||e.disableIcon))()?F(nt,{get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}}):e.children}})),t;var t},it=e=>{return pe(t=at(),W(e,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t},st=le('<div class="flex items-center"><div class="w-2 h-2 mr-1 rounded-full bubble1"></div><div class="w-2 h-2 mr-1 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),lt=()=>st(),dt=le('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),ct=e=>{const[t,n]=q(e,["ref","onInput"]);return(i=dt()).$$input=e=>t.onInput(e.currentTarget.value),"function"==typeof(o=e.ref)?he(o,i):e.ref=i,i.style.setProperty("font-size","16px"),pe(i,n,!1,!1),i;var i,o},ut=(de(["input"]),le('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" rows="6" data-testid="textarea" required>')),pt=e=>{const[t,n]=q(e,["ref","onInput"]);return(e=ut()).$$input=e=>t.onInput(e.currentTarget.value),"function"==typeof(i=t.ref)?he(i,e):t.ref=e,e.style.setProperty("font-size","16px"),pe(e,W({get autofocus(){return!Qe()}},n),!1,!1),e;var i},ht=(de(["input"]),le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><audio autoplay controls>'));let ft;const gt=a=>{const[s,e]=_(!0);T(()=>{ft=setTimeout(()=>{e(!1),setTimeout(()=>{a.onTransitionEnd()},400)},500)}),$(()=>{ft&&clearTimeout(ft)});{const t=ht(),l=t.firstChild.firstChild.firstChild,c=l.nextSibling;return fe(l,(()=>{const e=C(()=>!!s());return()=>e()&&F(lt,{})})()),x(e=>{var t=s()?"64px":"100%",n=s()?"32px":"100%",i=a.url,o="z-10 text-fade-in m-2 "+(s()?"opacity-0":"opacity-100"),r=s()?"32px":"revert";return t!==e._v$&&l.style.setProperty("width",e._v$=t),n!==e._v$2&&l.style.setProperty("height",e._v$2=n),i!==e._v$3&&ce(c,"src",e._v$3=i),o!==e._v$4&&ue(c,e._v$4=o),r!==e._v$5&&c.style.setProperty("height",e._v$5=r),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t}},mt=le('<div class="flex flex-col w-full animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><iframe id="embed-bubble-content">');let bt;const yt=a=>{const[s,e]=_(!0);T(()=>{bt=setTimeout(()=>{e(!1),setTimeout(()=>{a.onTransitionEnd()},400)},2e3)}),$(()=>{bt&&clearTimeout(bt)});{const t=mt(),l=t.firstChild.firstChild.firstChild,c=l.nextSibling;return fe(l,(()=>{const e=C(()=>!!s());return()=>e()&&F(lt,{})})()),x(e=>{var t=s()?"64px":"100%",n=s()?"32px":"100%",i=a.content.url,o="w-full z-20 p-4 text-fade-in "+(s()?"opacity-0":"opacity-100"),r=s()?"32px":a.content.height+"px";return t!==e._v$&&l.style.setProperty("width",e._v$=t),n!==e._v$2&&l.style.setProperty("height",e._v$2=n),i!==e._v$3&&ce(c,"src",e._v$3=i),o!==e._v$4&&ue(c,e._v$4=o),r!==e._v$5&&c.style.setProperty("height",e._v$5=r),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t}},vt=le("<img>"),wt=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),_t=le('<a target="_blank" class="p-4 z-10">'),xt=le('<figure class="p-4 z-10">');let kt;const Ct=a=>{let e;const[s,t]=_(!0),n=()=>{s()&&(t(!1),setTimeout(()=>{a.onTransitionEnd()},400))},i=(T(()=>{e&&(kt=setTimeout(n,5e3),e.onload=()=>{clearTimeout(kt),n()})}),$(()=>{kt&&clearTimeout(kt)}),(()=>{const r=vt();return"function"==typeof e?he(e,r):e=r,r.style.setProperty("max-height","512px"),x(e=>{var t=a.content.url,n=a.content.clickLink?.alt??"Bubble image",i="text-fade-in w-full "+(s()?"opacity-0":"opacity-100"),o=s()?"32px":"auto";return t!==e._v$&&ce(r,"src",e._v$=t),n!==e._v$2&&ce(r,"alt",e._v$2=n),i!==e._v$3&&ue(r,e._v$3=i),o!==e._v$4&&r.style.setProperty("height",e._v$4=o),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})());{const o=wt(),r=o.firstChild.firstChild,l=r.firstChild;return fe(l,(()=>{const e=C(()=>!!s());return()=>e()?F(lt,{}):null})()),fe(r,(()=>{const n=C(()=>!!a.content.clickLink);return()=>{if(n()){const t=_t();return fe(t,i),x(()=>ce(t,"href",a.content.clickLink.url)),t}return fe(e=xt(),i),e;var e}})(),null),x(e=>{var t=s()?"64px":"100%",n=s()?"32px":"100%";return t!==e._v$5&&l.style.setProperty("width",e._v$5=t),n!==e._v$6&&l.style.setProperty("height",e._v$6=n),e},{_v$5:void 0,_v$6:void 0}),o}},St=le("<span>"),Tt=o=>F(J,{get when(){{var t=o.bold,n=o.italic,i=o.underline;let e="";return t&&(e+="slate-bold"),n&&(e+=" slate-italic"),i&&(e+=" slate-underline"),e}},keyed:!0,get fallback(){return C(()=>o.text)},children:e=>{return ue(t=St(),e),fe(t,()=>o.text),t;var t}}),$t=le('<a target="_blank" class="slate-a">'),Et=le("<div>"),It=t=>F(J,{get when(){return!t.element.text},get fallback(){return F(Tt,W(()=>t.element))},get children(){return F(Q,{get fallback(){return fe(e=Et(),F(X,{get each(){return t.element.children},children:e=>F(It,{element:e})})),e;var e},get children(){return F(ee,{get when(){return"a"===t.element.type},get children(){const e=$t();return fe(e,F(X,{get each(){return t.element.children},children:e=>F(It,{element:e})})),x(()=>ce(e,"href",t.element.url)),e}})}})}}),Pt=e=>e.map(e=>e.text??Pt(e.children)).join(""),At=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><div>'),Nt={enabled:!0,speed:300,maxDelay:1.5};let Ot;const Mt=t=>{const[o,e]=_(!0),n=()=>{o()&&(e(!1),setTimeout(()=>{t.onTransitionEnd()},400))};T(()=>{var e;o&&(e=Pt(t.content.richText),e=!1===t.typingEmulation?.enabled?0:((e,t)=>{let n=e.match(/(\w+)/g)?.length??0;0===n&&(n=e.length);e=t.speed;let i=t.enabled?n/e*6e4:0;return i=i>1e3*t.maxDelay?1e3*t.maxDelay:i})(e,t.typingEmulation??Nt),Ot=setTimeout(n,e))}),$(()=>{Ot&&clearTimeout(Ot)});{const i=At(),r=i.firstChild.firstChild.firstChild,a=r.nextSibling;return fe(r,(()=>{const e=C(()=>!!o());return()=>e()&&F(lt,{})})()),fe(a,F(X,{get each(){return t.content.richText},children:e=>F(It,{element:e})})),x(e=>{var t=o()?"64px":"100%",n=o()?"32px":"100%",i="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis "+(o()?"opacity-0 h-6":"opacity-100 h-full");return t!==e._v$&&r.style.setProperty("width",e._v$=t),n!==e._v$2&&r.style.setProperty("height",e._v$2=n),i!==e._v$3&&ue(a,e._v$3=i),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i}};let jt=function(e){return e.URL="url",e.YOUTUBE="youtube",e.VIMEO="vimeo",e}({});const Lt=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),Zt=le('<video controls autoplay><source type="video/mp4">Sorry, your browser doesn&apos;t support embedded videos.'),Rt=le('<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>');let Bt;const zt=e=>{const[i,t]=_(!0),n=()=>{i()&&(t(!1),setTimeout(()=>{e.onTransitionEnd()},400))};T(()=>{Bt=setTimeout(n,2e3)}),$(()=>{Bt&&clearTimeout(Bt)});{const o=Lt(),r=o.firstChild.firstChild,a=r.firstChild;return fe(a,(()=>{const e=C(()=>!!i());return()=>e()&&F(lt,{})})()),fe(r,F(Dt,{get content(){return e.content},get isTyping(){return i()}}),null),x(e=>{var t=i()?"64px":"100%",n=i()?"32px":"100%";return t!==e._v$&&a.style.setProperty("width",e._v$=t),n!==e._v$2&&a.style.setProperty("height",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),o}},Dt=s=>F(Q,{get children(){return[F(ee,{get when(){return s.content?.type&&s.content.type===jt.URL},get children(){const r=Zt(),a=r.firstChild;return x(e=>{var t="p-4 focus:outline-none w-full z-10 text-fade-in "+(s.isTyping?"opacity-0":"opacity-100"),n=s.isTyping?"32px":"auto",i=window.navigator.vendor.match(/apple/i)?"40vh":"",o=s.content.url;return t!==e._v$3&&ue(r,e._v$3=t),n!==e._v$4&&r.style.setProperty("height",e._v$4=n),i!==e._v$5&&r.style.setProperty("max-height",e._v$5=i),o!==e._v$6&&ce(a,"src",e._v$6=o),e},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r}}),F(ee,{get when(){return C(()=>!!s.content?.type)()&&[jt.VIMEO,jt.YOUTUBE].includes(s.content.type)},get children(){const o=Rt();return x(e=>{var t=`${s.content.type===jt.VIMEO?"https://player.vimeo.com/video":"https://www.youtube.com/embed"}/`+s.content.id,n="w-full p-4 text-fade-in z-10 "+(s.isTyping?"opacity-0":"opacity-100"),i=s.isTyping?"32px":"200px";return t!==e._v$7&&ce(o,"src",e._v$7=t),n!==e._v$8&&ue(o,e._v$8=n),i!==e._v$9&&ce(o,"height",e._v$9=i),e},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),o}})]}}),Vt=e=>{const t=()=>{e.onTransitionEnd()};return F(Q,{get children(){return[F(ee,{get when(){return e.message.type===Ie.TEXT},get children(){return F(Mt,{get content(){return e.message.content},get typingEmulation(){return e.typingEmulation},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ie.IMAGE},get children(){return F(Ct,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ie.VIDEO},get children(){return F(zt,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ie.EMBED},get children(){return F(yt,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ie.AUDIO},get children(){return F(gt,{get url(){return e.message.content.url},onTransitionEnd:t})}})]}})},Ut=le('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5">'),Ft=()=>{{const i=Ut(),o=i.firstChild;return x(e=>{var t="flex justify-center items-center rounded-full text-white relative "+(Qe()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),n="absolute top-0 left-0 "+(Qe()?" w-6 h-6 text-sm":"w-full h-full text-xl");return t!==e._v$&&ue(i,e._v$=t),n!==e._v$2&&ce(o,"class",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}},Gt=le('<figure><img alt="Bot avatar" class="rounded-full object-cover w-full h-full">'),Kt=e=>{const[r,t]=_(e.initialAvatarSrc);return k(()=>{r()?.startsWith("{{")&&e.initialAvatarSrc?.startsWith("http")&&t(e.initialAvatarSrc)}),F(J,{get when(){return Me(r())},keyed:!0,get fallback(){return F(Ft,{})},get children(){const i=Gt(),o=i.firstChild;return x(e=>{var t="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(Qe()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),n=r();return t!==e._v$&&ue(i,e._v$=t),n!==e._v$2&&ce(o,"src",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}})},Ht=le('<div class="flex justify-end mb-2 items-end animate-fade-in guest-container"><span class="px-4 py-2 mr-2 whitespace-pre-wrap max-w-full typebot-guest-bubble" data-testid="guest-bubble">'),Wt=e=>{return t=Ht(),n=t.firstChild,t.style.setProperty("margin-left","50px"),fe(n,()=>e.message),fe(t,F(J,{get when(){return e.showAvatar},get children(){return F(Kt,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),t;var t,n},qt=le('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">'),Yt=t=>{const[n,i]=_(t.defaultValue??"");let o;const r=e=>i(e),a=()=>{""!==n()&&o?.reportValidity()&&t.onSubmit({value:n()})},e=e=>{t.block.options.isLong||"Enter"===e.key&&a()};T(()=>{!Qe()&&o&&o.focus()});{const s=qt();return s.$$keydown=e,fe(s,(()=>{const e=C(()=>!!t.block.options.isLong);return()=>e()?F(pt,{ref(e){"function"==typeof o?o(e):o=e},onInput:r,get value(){return n()},get placeholder(){return t.block.options?.labels?.placeholder??"Type your answer..."}}):F(ct,{ref(e){"function"==typeof o?o(e):o=e},onInput:r,get value(){return n()},get placeholder(){return t.block.options?.labels?.placeholder??"Type your answer..."}})})(),null),fe(s,F(ot,{type:"button",get isDisabled(){return""===n()},class:"my-2 ml-2","on:click":a,get children(){return t.block.options?.labels?.button??"Send"}}),null),x(()=>s.style.setProperty("max-width",t.block.options.isLong?void 0:"350px")),s}},Xt=(de(["keydown"]),le('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">')),Jt=e=>{const[t,n]=_(e.defaultValue??"");let i;const o=e=>n(e),r=()=>{""!==t()&&i?.reportValidity()&&e.onSubmit({value:t()})},a=e=>{"Enter"===e.key&&r()};return T(()=>{!Qe()&&i&&i.focus()}),(s=Xt()).$$keydown=a,s.style.setProperty("max-width","350px"),fe(s,F(ct,{ref(e){"function"==typeof i?i(e):i=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."},onInput:o,type:"number",style:{appearance:"auto"},get min(){return e.block.options?.min},get max(){return e.block.options?.max},get step(){return e.block.options?.step??"any"}}),null),fe(s,F(ot,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":r,get children(){return e.block.options?.labels?.button??"Send"}}),null),s;var s},Qt=(de(["keydown"]),le('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">')),en=e=>{const[t,n]=_(e.defaultValue??"");let i;const o=e=>n(e),r=()=>{""!==t()&&i?.reportValidity()&&e.onSubmit({value:t()})},a=e=>{"Enter"===e.key&&r()};return T(()=>{!Qe()&&i&&i.focus()}),(s=Qt()).$$keydown=a,s.style.setProperty("max-width","350px"),fe(s,F(ct,{ref(e){"function"==typeof i?i(e):i=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your email..."},onInput:o,type:"email",autocomplete:"email"}),null),fe(s,F(ot,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":r,get children(){return e.block.options?.labels?.button??"Send"}}),null),s;var s},tn=(de(["keydown"]),le('<div class="flex items-end justify-between pr-2 typebot-input w-full" data-testid="input">')),nn=e=>{const[t,n]=_(e.defaultValue??"");let i;const o=e=>{if(!e.startsWith("https://"))return"https:/"===e?void 0:n("https://"+e);n(e)},r=()=>{""!==t()&&i?.reportValidity()&&e.onSubmit({value:t()})},a=e=>{"Enter"===e.key&&r()};return T(()=>{!Qe()&&i&&i.focus()}),(s=tn()).$$keydown=a,s.style.setProperty("max-width","350px"),fe(s,F(ct,{ref(e){"function"==typeof i?i(e):i=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your URL..."},onInput:o,type:"url",autocomplete:"url"}),null),fe(s,F(ot,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":r,get children(){return e.block.options?.labels?.button??"Send"}}),null),s;var s},rn=(de(["keydown"]),le('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2px" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9">')),an=e=>{return pe(t=rn(),e,!0,!0),t;var t},on=[{name:"International",flag:"",code:"INT",dial_code:null},{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Laos",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+64"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],sn=le('<div class="flex items-end justify-between pr-2 typebot-input" data-testid="input"><div class="flex"><div class="relative typebot-country-select flex justify-center items-center"><div class="pl-2 pr-1 flex items-center gap-2"><span></div><select class="absolute top-0 left-0 w-full h-full cursor-pointer opacity-0">'),ln=le("<option> "),dn=t=>{const[i,o]=_(Oe(t.defaultCountryCode)?"INT":t.defaultCountryCode),[n,r]=_(t.defaultValue??"");let a;const e=n=>{r(n),""!==n&&"+"!==n||"INT"===i()||o("INT");var e=n?.startsWith("+")&&2<n.length&&on.reduce((e,t)=>t?.dial_code&&(null===e||e.dial_code)&&n?.startsWith(t.dial_code)&&t.dial_code.length>(e?.dial_code.length??0)?t:e,null);e&&o(e.code)},s=()=>{var e=on.find(e=>e.code===i())?.dial_code;""!==n()&&a?.reportValidity()&&t.onSubmit({value:n().startsWith("+")?n():""+(e??"")+n()})},l=e=>{"Enter"===e.key&&s()},c=e=>{const t=e.currentTarget.value;o(t);e=on.find(e=>e.code===t)?.dial_code;""===n()&&e&&r(e),a?.focus()};return T(()=>{!Qe()&&a&&a.focus()}),d=sn(),u=d.firstChild,h=u.firstChild.firstChild,p=h.firstChild,f=h.nextSibling,d.$$keydown=l,d.style.setProperty("max-width","400px"),fe(p,()=>on.find(e=>i()===e.code)?.flag),fe(h,F(an,{class:"w-3"}),null),f.addEventListener("change",c),fe(f,F(X,{each:on,children:e=>{{const t=ln(),n=t.firstChild;return fe(t,()=>e.name,n),fe(t,()=>e.dial_code?`(${e.dial_code})`:"",null),x(()=>t.selected=e.code===i()),x(()=>t.value=e.code),t}}})),fe(u,F(ct,{type:"tel",ref(e){"function"==typeof a?a(e):a=e},get value(){return n()},onInput:e,get placeholder(){return t.labels.placeholder??"Your phone number..."},get autofocus(){return!Qe()}}),null),fe(d,F(ot,{type:"button",get isDisabled(){return""===n()},class:"my-2 ml-2","on:click":s,get children(){return t.labels?.button??"Send"}}),null),d;var d,u,h,p,f},cn=(de(["keydown"]),({from:e,to:t,hasTime:n,isRange:i})=>{var o=window.navigator.language,r={day:"2-digit",month:"2-digit",year:"numeric",hour:n?"2-digit":void 0,minute:n?"2-digit":void 0},e=new Date(n?e:e.replace(/-/g,"/")).toLocaleString(o,r),n=new Date(n?t:t.replace(/-/g,"/")).toLocaleString(o,r);return e+(i?" to "+n:"")}),un=le('<div class="flex flex-col"><div class="flex items-center"><form class="flex justify-between typebot-input pr-2 items-end"><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input typebot-date-input" data-testid="from-date">'),pn=le('<p class="font-semibold mr-2">'),hn=le('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2 typebot-date-input" data-testid="to-date">'),fn=le('<p class="font-semibold">'),gn=i=>{const[n,o]=_(mn(i.defaultValue??""));{const e=un(),t=e.firstChild.firstChild,r=t.firstChild,a=r.firstChild,s=a.firstChild;return t.addEventListener("submit",e=>{""===n().from&&""===n().to||(e.preventDefault(),i.onSubmit({value:""+n().from+(i.options?.isRange?" to "+n().to:""),label:cn({...n(),hasTime:i.options?.hasTime,isRange:i.options?.isRange})}))}),fe(a,(()=>{const t=C(()=>!!i.options?.isRange);return()=>{return t()&&(fe(e=pn(),()=>i.options.labels?.from??"From:"),e);var e}})(),s),s.addEventListener("change",e=>o({...n(),from:e.currentTarget.value})),s.style.setProperty("min-height","32px"),s.style.setProperty("min-width","100px"),s.style.setProperty("font-size","16px"),fe(r,(()=>{const e=C(()=>!!i.options?.isRange);return()=>e()&&(()=>{const e=hn(),t=e.firstChild;return fe(e,(()=>{const t=C(()=>!!i.options.isRange);return()=>{return t()&&(fe(e=fn(),()=>i.options.labels?.to??"To:"),e);var e}})(),t),t.addEventListener("change",e=>o({...n(),to:e.currentTarget.value})),t.style.setProperty("min-height","32px"),t.style.setProperty("min-width","100px"),t.style.setProperty("font-size","16px"),x(()=>ce(t,"type",i.options.hasTime?"datetime-local":"date")),x(()=>t.value=n().to),e})()})(),null),fe(t,F(ot,{get isDisabled(){return C(()=>""===n().to)()&&""===n().from},class:"my-2 ml-2",get children(){return i.options?.labels?.button??"Send"}}),null),x(e=>{var t="flex items-center p-4 "+(i.options?.isRange?"pb-0":""),n=i.options?.hasTime?"datetime-local":"date";return t!==e._v$&&ue(a,e._v$=t),n!==e._v$2&&ce(s,"type",e._v$2=n),e},{_v$:void 0,_v$2:void 0}),x(()=>s.value=n().from),e}},mn=e=>{var t,n;return e.includes("to")?([t,n]=e.split(" to "),{from:t,to:n}):{from:e,to:""}},bn=le('<form class="flex flex-col items-end"><div class="flex flex-wrap justify-end"></div><div class="flex">'),yn=le('<span class="relative inline-flex ml-2 mb-2"><button type="button">'),vn=le('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-200 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-150">'),wn=s=>{const[l,i]=_([]),e=()=>s.onSubmit({value:l().map(e=>s.block.items[e].content).join(", ")});return t=bn(),n=t.firstChild,o=n.nextSibling,t.addEventListener("submit",e),fe(n,F(X,{get each(){return s.block.items},children:(o,r)=>{{const e=yn(),a=e.firstChild;return a.addEventListener("click",()=>{var t,e,n=r();s.block.options?.isMultipleChoice?(t=n,e=l().indexOf(t),i(-1!==e?e=>e.filter(e=>e!==t):e=>[...e,t])):s.onSubmit({value:s.block.items[n].content??""})}),fe(a,()=>o.content),fe(e,(()=>{const e=C(()=>!(0!==s.inputIndex||1!==s.block.items.length));return()=>e()&&vn()})(),null),x(e=>{var t=s.block.options?.isMultipleChoice?"checkbox":"button",n="py-2 px-4 text-left font-semibold transition-all filter hover:brightness-90 active:brightness-75 duration-100 focus:outline-none typebot-button "+(l().some(e=>e===r())||!s.block.options?.isMultipleChoice?"":"selectable"),i=o.id;return t!==e._v$&&ce(a,"role",e._v$=t),n!==e._v$2&&ue(a,e._v$2=n),i!==e._v$3&&ce(a,"data-itemid",e._v$3=i),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e}}})),fe(o,(()=>{const e=C(()=>0<l().length);return()=>e()&&F(ot,{disableIcon:!0,get children(){return s.block.options?.buttonLabel??"Send"}})})()),t;var t,n,o},_n=le('<form class="flex flex-col"><div class="flex flex-wrap justify-center"></div><div class="flex justify-end mr-2">'),xn=le('<span class="text-sm w-full mb-2 rating-label">'),kn=le('<span class="text-sm w-full text-right mb-2 pr-2 rating-label">'),Cn=le("<button>"),Sn=le("<div>"),Tn=n=>{const[i,t]=_(n.defaultValue?Number(n.defaultValue):void 0),e=e=>{e.preventDefault();e=i();Ne(e)||n.onSubmit({value:e.toString()})},o=e=>{n.block.options.isOneClickSubmitEnabled&&n.onSubmit({value:e.toString()}),t(e)};return r=_n(),a=r.firstChild,s=a.nextSibling,r.addEventListener("submit",e),fe(r,(()=>{const t=C(()=>!!n.block.options.labels.left);return()=>{return t()&&(fe(e=xn(),()=>n.block.options.labels.left),e);var e}})(),a),fe(a,F(X,{get each(){return Array.from(Array(n.block.options.length+("Numbers"===n.block.options.buttonType?1:0)))},children:(e,t)=>F($n,W(()=>n.block.options,{get rating(){return i()},get idx(){return t()+("Numbers"===n.block.options.buttonType?0:1)},onClick:o}))})),fe(r,(()=>{const t=C(()=>!!n.block.options.labels.right);return()=>{return t()&&(fe(e=kn(),()=>n.block.options.labels.right),e);var e}})(),s),fe(s,(()=>{const e=C(()=>!!Ae(i()));return()=>e()&&F(ot,{disableIcon:!0,get children(){return n.block.options?.labels?.button??"Send"}})})()),r;var r,a,s},$n=o=>F(Q,{get children(){return[F(ee,{get when(){return"Numbers"===o.buttonType},get children(){const e=Cn();return e.addEventListener("click",e=>{e.preventDefault(),o.onClick(o.idx)}),fe(e,()=>o.idx),x(()=>ue(e,"py-2 px-4 mr-2 mb-2 text-left font-semibold transition-all filter hover:brightness-90 active:brightness-75 duration-100 focus:outline-none typebot-button "+(o.isOneClickSubmitEnabled||Ae(o.rating)&&o.idx<=o.rating?"":"selectable"))),e}}),F(ee,{get when(){return"Numbers"!==o.buttonType},get children(){const i=Sn();return i.addEventListener("click",()=>o.onClick(o.idx)),x(e=>{var t="flex justify-center items-center rating-icon-container cursor-pointer mr-2 mb-2 "+(Ae(o.rating)&&o.idx<=o.rating?"selected":""),n=o.customIcon.isEnabled&&!Oe(o.customIcon.svg)?o.customIcon.svg:En;return t!==e._v$&&ue(i,e._v$=t),n!==e._v$2&&(i.innerHTML=e._v$2=n),e},{_v$:void 0,_v$2:void 0}),i}})]}}),En='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>',An=(!function(i){i.assertEqual=e=>e,i.assertIs=function(e){},i.assertNever=function(e){throw new Error},i.arrayToEnum=e=>{var t={};for(const n of e)t[n]=n;return t},i.getValidEnumValues=t=>{var e=i.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(const i of e)n[i]=t[i];return i.objectValues(n)},i.objectValues=t=>i.objectKeys(t).map(function(e){return t[e]}),i.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{var t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},i.find=(e,t)=>{for(const n of e)if(t(n))return n},i.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,i.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},i.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(In=In||{}),(Pn||(Pn={})).mergeShapes=(e,t)=>({...e,...t}),In.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"])),Nn=e=>{switch(typeof e){case"undefined":return An.undefined;case"string":return An.string;case"number":return isNaN(e)?An.nan:An.number;case"boolean":return An.boolean;case"function":return An.function;case"bigint":return An.bigint;case"symbol":return An.symbol;case"object":return Array.isArray(e)?An.array:null===e?An.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?An.promise:"undefined"!=typeof Map&&e instanceof Map?An.map:"undefined"!=typeof Set&&e instanceof Set?An.set:"undefined"!=typeof Date&&e instanceof Date?An.date:An.object;default:return An.unknown}},On=In.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mn extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};var t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const i=e||function(e){return e.message},o={_errors:[]},t=e=>{for(const n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(t);else if("invalid_return_type"===n.code)t(n.returnTypeError);else if("invalid_arguments"===n.code)t(n.argumentsError);else if(0===n.path.length)o._errors.push(i(n));else{let e=o,t=0;for(;t<n.path.length;){const o=n.path[t];t===n.path.length-1?(e[o]=e[o]||{_errors:[]},e[o]._errors.push(i(n))):e[o]=e[o]||{_errors:[]},e=e[o],t++}}};return t(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,In.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){var t={},n=[];for(const i of this.issues)(0<i.path.length?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]]):n).push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Mn.create=e=>new Mn(e);const jn=(e,t)=>{let n;switch(e.code){case On.invalid_type:n=e.received===An.undefined?"Required":`Expected ${e.expected}, received `+e.received;break;case On.invalid_literal:n="Invalid literal value, expected "+JSON.stringify(e.expected,In.jsonStringifyReplacer);break;case On.unrecognized_keys:n="Unrecognized key(s) in object: "+In.joinValues(e.keys,", ");break;case On.invalid_union:n="Invalid input";break;case On.invalid_union_discriminator:n="Invalid discriminator value. Expected "+In.joinValues(e.options);break;case On.invalid_enum_value:n=`Invalid enum value. Expected ${In.joinValues(e.options)}, received '${e.received}'`;break;case On.invalid_arguments:n="Invalid function arguments";break;case On.invalid_return_type:n="Invalid function return type";break;case On.invalid_date:n="Invalid date";break;case On.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=n+" at one or more positions greater than or equal to "+e.validation.position)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:In.assertNever(e.validation):n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case On.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?"Number must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+e.minimum:"date"===e.type?"Date must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+new Date(Number(e.minimum)):"Invalid input";break;case On.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} `+e.maximum:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} `+e.maximum:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} `+new Date(Number(e.maximum)):"Invalid input";break;case On.custom:n="Invalid input";break;case On.invalid_intersection_types:n="Intersection results could not be merged";break;case On.not_multiple_of:n="Number must be a multiple of "+e.multipleOf;break;case On.not_finite:n="Number must be finite";break;default:n=t.defaultError,In.assertNever(e)}return{message:n}};let Ln=jn;function Zn(){return Ln}const Rn=e=>{var{data:t,path:e,errorMaps:n,issueData:i}=e,e=[...e,...i.path||[]],o={...i,path:e};let r="";for(const e of n.filter(e=>!!e).slice().reverse())r=e(o,{data:t,defaultError:r}).message;return{...i,path:e,message:i.message||r}};function Bn(e,t){t=Rn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Zn(),jn].filter(e=>!!e)});e.common.issues.push(t)}class zn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){var n=[];for(const i of t){if("aborted"===i.status)return Dn;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){var n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return zn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){var n={};for(const i of t){const{key:t,value:o}=i;if("aborted"===t.status)return Dn;if("aborted"===o.status)return Dn;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),void 0===o.value&&!i.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const Dn=Object.freeze({status:"aborted"}),Vn=e=>({status:"dirty",value:e}),Un=e=>({status:"valid",value:e}),Fn=e=>"aborted"===e.status,Gn=e=>"dirty"===e.status,Kn=e=>"valid"===e.status,Hn=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Wn=Wn||{});class qn{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yn=(t,e)=>{if(Kn(e))return{success:!0,data:e.value};if(t.common.issues.length)return{success:!1,get error(){var e;return this._error||(e=new Mn(t.common.issues),this._error=e),this._error}};throw new Error("Validation failed but no issues detected.")};function Xn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=i?i:t.defaultError}:{message:null!=n?n:t.defaultError},description:o}}class Jn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Nn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Nn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zn,ctx:{common:e.parent.common,data:e.data,parsedType:Nn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){e=this._parse(e);if(Hn(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(e){e=this._parse(e);return Promise.resolve(e)}parse(e,t){e=this.safeParse(e,t);if(e.success)return e.data;throw e.error}safeParse(e,t){var n={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nn(e)},t=this._parseSync({data:e,path:n.path,parent:n});return Yn(n,t)}async parseAsync(e,t){e=await this.safeParseAsync(e,t);if(e.success)return e.data;throw e.error}async safeParseAsync(e,t){t={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nn(e)},e=this._parse({data:e,path:t.path,parent:t}),e=await(Hn(e)?e:Promise.resolve(e));return Yn(t,e)}refine(o,r){return this._refinement((t,n)=>{const e=o(t),i=()=>{return n.addIssue({code:On.custom,...(e=t,"string"==typeof r||void 0===r?{message:r}:"function"==typeof r?r(e):r)});var e};return"undefined"!=typeof Promise&&e instanceof Promise?e.then(e=>!!e||(i(),!1)):!!e||(i(),!1)})}refinement(n,i){return this._refinement((e,t)=>!!n(e)||(t.addIssue("function"==typeof i?i(e,t):i),!1))}_refinement(e){return new Br({schema:this,typeName:Yr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return zr.create(this,this._def)}nullable(){return Dr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this,this._def)}promise(){return Rr.create(this,this._def)}or(e){return kr.create([this,e],this._def)}and(e){return $r.create(this,e,this._def)}transform(e){return new Br({...Xn(this._def),schema:this,typeName:Yr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){var t="function"==typeof e?e:()=>e;return new Vr({...Xn(this._def),innerType:this,defaultValue:t,typeName:Yr.ZodDefault})}brand(){return new Kr({typeName:Yr.ZodBranded,type:this,...Xn(this._def)})}catch(e){var t="function"==typeof e?e:()=>e;return new Ur({...Xn(this._def),innerType:this,catchValue:t,typeName:Yr.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return Hr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qn=/^c[^\s-]{8,}$/i,er=/^[a-z][a-z0-9]*$/,tr=/[0-9A-HJKMNP-TV-Z]{26}/,nr=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,rr=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,ar=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,or=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ir=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class sr extends Jn{constructor(){super(...arguments),this._regex=(t,e,n)=>this.refinement(e=>t.test(e),{validation:e,code:On.invalid_string,...Wn.errToObj(n)}),this.nonempty=e=>this.min(1,Wn.errToObj(e)),this.trim=()=>new sr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new sr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new sr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==An.string){const t=this._getOrReturnCtx(e);return Bn(t,{code:On.invalid_type,expected:An.string,received:t.parsedType}),Dn}const t=new zn;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Bn(n,{code:On.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Bn(n,{code:On.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?Bn(n,{code:On.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Bn(n,{code:On.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)rr.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"email",code:On.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)ar.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"emoji",code:On.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)nr.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"uuid",code:On.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Qn.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"cuid",code:On.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)er.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"cuid2",code:On.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)tr.test(e.data)||(n=this._getOrReturnCtx(e,n),Bn(n,{validation:"ulid",code:On.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(i){Bn(n=this._getOrReturnCtx(e,n),{validation:"url",code:On.invalid_string,message:a.message}),t.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(Bn(n=this._getOrReturnCtx(e,n),{validation:"regex",code:On.invalid_string,message:a.message}),t.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(Bn(n=this._getOrReturnCtx(e,n),{code:On.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(Bn(n=this._getOrReturnCtx(e,n),{code:On.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(Bn(n=this._getOrReturnCtx(e,n),{code:On.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty()):"datetime"===a.kind?((r=a).precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(Bn(n=this._getOrReturnCtx(e,n),{code:On.invalid_string,validation:"datetime",message:a.message}),t.dirty()):"ip"===a.kind?(i=e.data,("v4"!==(o=a.version)&&o||!or.test(i))&&("v6"!==o&&o||!ir.test(i))&&(Bn(n=this._getOrReturnCtx(e,n),{validation:"ip",code:On.invalid_string,message:a.message}),t.dirty())):In.assertNever(a);var i,o,r;return{status:t.value,value:e.data}}_addCheck(e){return new sr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wn.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,...Wn.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Wn.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Wn.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Wn.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Wn.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Wn.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Wn.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Wn.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function lr(e,t){var n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=i<n?n:i;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}sr.create=e=>{var t;return new sr({checks:[],typeName:Yr.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...Xn(e)})};class dr extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==An.number){const t=this._getOrReturnCtx(e);return Bn(t,{code:On.invalid_type,expected:An.number,received:t.parsedType}),Dn}let t;var n=new zn;for(const i of this._def.checks)"int"===i.kind?In.isInteger(e.data)||(Bn(t=this._getOrReturnCtx(e,t),{code:On.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"multipleOf"===i.kind?0!==lr(e.data,i.value)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(Bn(t=this._getOrReturnCtx(e,t),{code:On.not_finite,message:i.message}),n.dirty()):In.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wn.toString(t))}setLimit(e,t,n,i){return new dr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wn.toString(i)}]})}_addCheck(e){return new dr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wn.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Wn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wn.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&In.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}dr.create=e=>new dr({checks:[],typeName:Yr.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Xn(e)});class cr extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==An.bigint){const t=this._getOrReturnCtx(e);return Bn(t,{code:On.invalid_type,expected:An.bigint,received:t.parsedType}),Dn}let t;var n=new zn;for(const i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(Bn(t=this._getOrReturnCtx(e,t),{code:On.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):In.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wn.toString(t))}setLimit(e,t,n,i){return new cr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wn.toString(i)}]})}_addCheck(e){return new cr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wn.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}cr.create=e=>{var t;return new cr({checks:[],typeName:Yr.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...Xn(e)})};class ur extends Jn{_parse(e){var t;return this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==An.boolean?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.boolean,received:t.parsedType}),Dn):Un(e.data)}}ur.create=e=>new ur({typeName:Yr.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Xn(e)});class pr extends Jn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==An.date){const t=this._getOrReturnCtx(e);return Bn(t,{code:On.invalid_type,expected:An.date,received:t.parsedType}),Dn}if(isNaN(e.data.getTime()))return Bn(this._getOrReturnCtx(e),{code:On.invalid_date}),Dn;const t=new zn;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),Bn(n,{code:On.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),Bn(n,{code:On.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):In.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Wn.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Wn.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}pr.create=e=>new pr({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Yr.ZodDate,...Xn(e)});class hr extends Jn{_parse(e){var t;return this._getType(e)!==An.symbol?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.symbol,received:t.parsedType}),Dn):Un(e.data)}}hr.create=e=>new hr({typeName:Yr.ZodSymbol,...Xn(e)});class fr extends Jn{_parse(e){var t;return this._getType(e)!==An.undefined?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.undefined,received:t.parsedType}),Dn):Un(e.data)}}fr.create=e=>new fr({typeName:Yr.ZodUndefined,...Xn(e)});class gr extends Jn{_parse(e){var t;return this._getType(e)!==An.null?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.null,received:t.parsedType}),Dn):Un(e.data)}}gr.create=e=>new gr({typeName:Yr.ZodNull,...Xn(e)});class mr extends Jn{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}mr.create=e=>new mr({typeName:Yr.ZodAny,...Xn(e)});class br extends Jn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}br.create=e=>new br({typeName:Yr.ZodUnknown,...Xn(e)});class yr extends Jn{_parse(e){e=this._getOrReturnCtx(e);return Bn(e,{code:On.invalid_type,expected:An.never,received:e.parsedType}),Dn}}yr.create=e=>new yr({typeName:Yr.ZodNever,...Xn(e)});class vr extends Jn{_parse(e){var t;return this._getType(e)!==An.undefined?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.void,received:t.parsedType}),Dn):Un(e.data)}}vr.create=e=>new vr({typeName:Yr.ZodVoid,...Xn(e)});class wr extends Jn{_parse(e){const{ctx:n,status:t}=this._processInputParams(e),i=this._def;if(n.parsedType!==An.array)return Bn(n,{code:On.invalid_type,expected:An.array,received:n.parsedType}),Dn;if(null!==i.exactLength){const e=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(e||o)&&(Bn(n,{code:e?On.too_big:On.too_small,minimum:o?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),t.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(Bn(n,{code:On.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),t.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(Bn(n,{code:On.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),t.dirty()),n.common.async)return Promise.all([...n.data].map((e,t)=>i.type._parseAsync(new qn(n,e,n.path,t)))).then(e=>zn.mergeArray(t,e));const o=[...n.data].map((e,t)=>i.type._parseSync(new qn(n,e,n.path,t)));return zn.mergeArray(t,o)}get element(){return this._def.type}min(e,t){return new wr({...this._def,minLength:{value:e,message:Wn.toString(t)}})}max(e,t){return new wr({...this._def,maxLength:{value:e,message:Wn.toString(t)}})}length(e,t){return new wr({...this._def,exactLength:{value:e,message:Wn.toString(t)}})}nonempty(e){return this.min(1,e)}}function _r(e){if(e instanceof xr){const n={};for(const i in e.shape){var t=e.shape[i];n[i]=zr.create(_r(t))}return new xr({...e._def,shape:()=>n})}return e instanceof wr?new wr({...e._def,type:_r(e.element)}):e instanceof zr?zr.create(_r(e.unwrap())):e instanceof Dr?Dr.create(_r(e.unwrap())):e instanceof Er?Er.create(e.items.map(e=>_r(e))):e}wr.create=(e,t)=>new wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Yr.ZodArray,...Xn(t)});class xr extends Jn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){var e,t;return null!==this._cached?this._cached:(e=this._def.shape(),t=In.objectKeys(e),this._cached={shape:e,keys:t})}_parse(e){if(this._getType(e)!==An.object){const t=this._getOrReturnCtx(e);return Bn(t,{code:On.invalid_type,expected:An.object,received:t.parsedType}),Dn}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),r=[];if(!(this._def.catchall instanceof yr&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||r.push(e);const a=[];for(const e of o){const t=i[e],o=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new qn(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof yr){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of r)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)0<r.length&&(Bn(n,{code:On.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const i=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new qn(n,i,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{var e=[];for(const n of a){var t=await n.key;e.push({key:t,value:await n.value,alwaysSet:n.alwaysSet})}return e}).then(e=>zn.mergeObjectSync(t,e)):zn.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(o){return Wn.errToObj,new xr({...this._def,unknownKeys:"strict",...void 0!==o?{errorMap:(e,t)=>{var n,i=null!=(n=null==(n=(i=this._def).errorMap)?void 0:n.call(i,e,t).message)?n:t.defaultError;return"unrecognized_keys"===e.code?{message:null!=(n=Wn.errToObj(o).message)?n:i}:{message:i}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Yr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xr({...this._def,catchall:e})}pick(t){const n={};return In.objectKeys(t).forEach(e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])}),new xr({...this._def,shape:()=>n})}omit(t){const n={};return In.objectKeys(this.shape).forEach(e=>{t[e]||(n[e]=this.shape[e])}),new xr({...this._def,shape:()=>n})}deepPartial(){return _r(this)}partial(n){const i={};return In.objectKeys(this.shape).forEach(e=>{var t=this.shape[e];n&&!n[e]?i[e]=t:i[e]=t.optional()}),new xr({...this._def,shape:()=>i})}required(e){const n={};return In.objectKeys(this.shape).forEach(t=>{if(e&&!e[t])n[t]=this.shape[t];else{let e=this.shape[t];for(;e instanceof zr;)e=e._def.innerType;n[t]=e}}),new xr({...this._def,shape:()=>n})}keyof(){return jr(In.objectKeys(this.shape))}}xr.create=(e,t)=>new xr({shape:()=>e,unknownKeys:"strip",catchall:yr.create(),typeName:Yr.ZodObject,...Xn(t)}),xr.strictCreate=(e,t)=>new xr({shape:()=>e,unknownKeys:"strict",catchall:yr.create(),typeName:Yr.ZodObject,...Xn(t)}),xr.lazycreate=(e,t)=>new xr({shape:e,unknownKeys:"strip",catchall:yr.create(),typeName:Yr.ZodObject,...Xn(t)});class kr extends Jn{_parse(t){const n=this._processInputParams(t)["ctx"],i=this._def.options;if(n.common.async)return Promise.all(i.map(async e=>{var t={...n,common:{...n.common,issues:[]},parent:null};return{result:await e._parseAsync({data:n.data,path:n.path,parent:t}),ctx:t}})).then(function(e){for(const n of e)if("valid"===n.result.status)return n.result;for(const t of e)if("dirty"===t.result.status)return n.common.issues.push(...t.ctx.common.issues),t.result;const t=e.map(e=>new Mn(e.ctx.common.issues));return Bn(n,{code:On.invalid_union,unionErrors:t}),Dn});{let e;var o=[];for(const r of i){const i={...n,common:{...n.common,issues:[]},parent:null},a=r._parseSync({data:n.data,path:n.path,parent:i});if("valid"===a.status)return a;"dirty"===a.status&&(e=e||{result:a,ctx:i}),i.common.issues.length&&o.push(i.common.issues)}return e?(n.common.issues.push(...e.ctx.common.issues),e.result):(t=o.map(e=>new Mn(e)),Bn(n,{code:On.invalid_union,unionErrors:t}),Dn)}}get options(){return this._def.options}}kr.create=(e,t)=>new kr({options:e,typeName:Yr.ZodUnion,...Xn(t)});const Cr=e=>e instanceof Or?Cr(e.schema):e instanceof Br?Cr(e.innerType()):e instanceof Mr?[e.value]:e instanceof Lr?e.options:e instanceof Zr?Object.keys(e.enum):e instanceof Vr?Cr(e._def.innerType):e instanceof fr?[void 0]:e instanceof gr?[null]:null;class Sr extends Jn{_parse(e){var t,n,e=this._processInputParams(e)["ctx"];return e.parsedType!==An.object?(Bn(e,{code:On.invalid_type,expected:An.object,received:e.parsedType}),Dn):(t=this.discriminator,n=e.data[t],(n=this.optionsMap.get(n))?e.common.async?n._parseAsync({data:e.data,path:e.path,parent:e}):n._parseSync({data:e.data,path:e.path,parent:e}):(Bn(e,{code:On.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[t]}),Dn))}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){var i=new Map;for(const n of t){const t=Cr(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value `+String(o));i.set(o,n)}}return new Sr({typeName:Yr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Xn(n)})}}function Tr(t,n){const i=Nn(t),e=Nn(n);if(t===n)return{valid:!0,data:t};if(i===An.object&&e===An.object){const i=In.objectKeys(n),e=In.objectKeys(t).filter(e=>-1!==i.indexOf(e)),r={...t,...n};for(const i of e){const e=Tr(t[i],n[i]);if(!e.valid)return{valid:!1};r[i]=e.data}return{valid:!0,data:r}}if(i!==An.array||e!==An.array)return i===An.date&&e===An.date&&+t==+n?{valid:!0,data:t}:{valid:!1};{if(t.length!==n.length)return{valid:!1};const i=[];for(let e=0;e<t.length;e++){var o=Tr(t[e],n[e]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}}class $r extends Jn{_parse(e){const{status:i,ctx:o}=this._processInputParams(e),n=(e,t)=>{var n;return Fn(e)||Fn(t)?Dn:(n=Tr(e.value,t.value)).valid?((Gn(e)||Gn(t))&&i.dirty(),{status:i.value,value:n.data}):(Bn(o,{code:On.invalid_intersection_types}),Dn)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}$r.create=(e,t,n)=>new $r({left:e,right:t,typeName:Yr.ZodIntersection,...Xn(n)});class Er extends Jn{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==An.array)return Bn(i,{code:On.invalid_type,expected:An.array,received:i.parsedType}),Dn;if(i.data.length<this._def.items.length)return Bn(i,{code:On.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dn;!this._def.rest&&i.data.length>this._def.items.length&&(Bn(i,{code:On.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());e=[...i.data].map((e,t)=>{var n=this._def.items[t]||this._def.rest;return n?n._parse(new qn(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(e).then(e=>zn.mergeArray(t,e)):zn.mergeArray(t,e)}get items(){return this._def.items}rest(e){return new Er({...this._def,rest:e})}}Er.create=(e,t)=>{if(Array.isArray(e))return new Er({items:e,typeName:Yr.ZodTuple,rest:null,...Xn(t)});throw new Error("You must pass an array of schemas to z.tuple([ ... ])")};class Ir extends Jn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){var{status:e,ctx:t}=this._processInputParams(e);if(t.parsedType!==An.object)return Bn(t,{code:On.invalid_type,expected:An.object,received:t.parsedType}),Dn;var n=[],i=this._def.keyType,o=this._def.valueType;for(const e in t.data)n.push({key:i._parse(new qn(t,e,t.path,e)),value:o._parse(new qn(t,t.data[e],t.path,e))});return t.common.async?zn.mergeObjectAsync(e,n):zn.mergeObjectSync(e,n)}get element(){return this._def.valueType}static create(e,t,n){return new Ir(t instanceof Jn?{keyType:e,valueType:t,typeName:Yr.ZodRecord,...Xn(n)}:{keyType:sr.create(),valueType:e,typeName:Yr.ZodRecord,...Xn(t)})}}class Pr extends Jn{_parse(i){const{status:o,ctx:r}=this._processInputParams(i);if(r.parsedType!==An.map)return Bn(r,{code:On.invalid_type,expected:An.map,received:r.parsedType}),Dn;const a=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([e,t],n)=>({key:a._parse(new qn(r,e,r.path,[n,"key"])),value:s._parse(new qn(r,t,r.path,[n,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const n of l){var e=await n.key,t=await n.value;if("aborted"===e.status||"aborted"===t.status)return Dn;"dirty"!==e.status&&"dirty"!==t.status||o.dirty(),i.set(e.value,t.value)}return{status:o.value,value:i}})}{const i=new Map;for(const r of l){const a=r.key,s=r.value;if("aborted"===a.status||"aborted"===s.status)return Dn;"dirty"!==a.status&&"dirty"!==s.status||o.dirty(),i.set(a.value,s.value)}return{status:o.value,value:i}}}}Pr.create=(e,t,n)=>new Pr({valueType:t,keyType:e,typeName:Yr.ZodMap,...Xn(n)});class Ar extends Jn{_parse(e){const{status:i,ctx:n}=this._processInputParams(e);if(n.parsedType!==An.set)return Bn(n,{code:On.invalid_type,expected:An.set,received:n.parsedType}),Dn;e=this._def;null!==e.minSize&&n.data.size<e.minSize.value&&(Bn(n,{code:On.too_small,minimum:e.minSize.value,type:"set",inclusive:!0,exact:!1,message:e.minSize.message}),i.dirty()),null!==e.maxSize&&n.data.size>e.maxSize.value&&(Bn(n,{code:On.too_big,maximum:e.maxSize.value,type:"set",inclusive:!0,exact:!1,message:e.maxSize.message}),i.dirty());const o=this._def.valueType;function t(e){var t=new Set;for(const n of e){if("aborted"===n.status)return Dn;"dirty"===n.status&&i.dirty(),t.add(n.value)}return{status:i.value,value:t}}e=[...n.data.values()].map((e,t)=>o._parse(new qn(n,e,n.path,t)));return n.common.async?Promise.all(e).then(e=>t(e)):t(e)}min(e,t){return new Ar({...this._def,minSize:{value:e,message:Wn.toString(t)}})}max(e,t){return new Ar({...this._def,maxSize:{value:e,message:Wn.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ar.create=(e,t)=>new Ar({valueType:e,minSize:null,maxSize:null,typeName:Yr.ZodSet,...Xn(t)});class Nr extends Jn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const n=this._processInputParams(e)["ctx"];if(n.parsedType!==An.function)return Bn(n,{code:On.invalid_type,expected:An.function,received:n.parsedType}),Dn;function o(e,t){return Rn({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zn(),jn].filter(e=>!!e),issueData:{code:On.invalid_arguments,argumentsError:t}})}function r(e,t){return Rn({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zn(),jn].filter(e=>!!e),issueData:{code:On.invalid_return_type,returnTypeError:t}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;return this._def.returns instanceof Rr?Un(async(...t)=>{const n=new Mn([]),e=await this._def.args.parseAsync(t,a).catch(e=>{throw n.addIssue(o(t,e)),n}),i=await s(...e);return this._def.returns._def.type.parseAsync(i,a).catch(e=>{throw n.addIssue(r(i,e)),n})}):Un((...e)=>{var t=this._def.args.safeParse(e,a);if(!t.success)throw new Mn([o(e,t.error)]);e=s(...t.data),t=this._def.returns.safeParse(e,a);if(t.success)return t.data;throw new Mn([r(e,t.error)])})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nr({...this._def,args:Er.create(e).rest(br.create())})}returns(e){return new Nr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Nr({args:e||Er.create([]).rest(br.create()),returns:t||br.create(),typeName:Yr.ZodFunction,...Xn(n)})}}class Or extends Jn{get schema(){return this._def.getter()}_parse(e){e=this._processInputParams(e).ctx;return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}Or.create=(e,t)=>new Or({getter:e,typeName:Yr.ZodLazy,...Xn(t)});class Mr extends Jn{_parse(e){var t;return e.data!==this._def.value?(Bn(t=this._getOrReturnCtx(e),{received:t.data,code:On.invalid_literal,expected:this._def.value}),Dn):{status:"valid",value:e.data}}get value(){return this._def.value}}function jr(e,t){return new Lr({values:e,typeName:Yr.ZodEnum,...Xn(t)})}Mr.create=(e,t)=>new Mr({value:e,typeName:Yr.ZodLiteral,...Xn(t)});class Lr extends Jn{_parse(e){var t,n;return"string"!=typeof e.data?(n=this._getOrReturnCtx(e),t=this._def.values,Bn(n,{expected:In.joinValues(t),received:n.parsedType,code:On.invalid_type}),Dn):-1===this._def.values.indexOf(e.data)?(t=this._getOrReturnCtx(e),n=this._def.values,Bn(t,{received:t.data,code:On.invalid_enum_value,options:n}),Dn):Un(e.data)}get options(){return this._def.values}get enum(){var e={};for(const t of this._def.values)e[t]=t;return e}get Values(){var e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){var e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Lr.create(e)}exclude(t){return Lr.create(this.options.filter(e=>!t.includes(e)))}}Lr.create=jr;class Zr extends Jn{_parse(e){var t=In.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==An.string&&n.parsedType!==An.number){const e=In.objectValues(t);return Bn(n,{expected:In.joinValues(e),received:n.parsedType,code:On.invalid_type}),Dn}if(-1!==t.indexOf(e.data))return Un(e.data);{const e=In.objectValues(t);return Bn(n,{received:n.data,code:On.invalid_enum_value,options:e}),Dn}}get enum(){return this._def.values}}Zr.create=(e,t)=>new Zr({values:e,typeName:Yr.ZodNativeEnum,...Xn(t)});class Rr extends Jn{unwrap(){return this._def.type}_parse(e){const t=this._processInputParams(e)["ctx"];return t.parsedType!==An.promise&&!1===t.common.async?(Bn(t,{code:On.invalid_type,expected:An.promise,received:t.parsedType}),Dn):(e=t.parsedType===An.promise?t.data:Promise.resolve(t.data),Un(e.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Rr.create=(e,t)=>new Rr({type:e,typeName:Yr.ZodPromise,...Xn(t)});class Br extends Jn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Yr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null;if("preprocess"===o.type){const t=o.transform(i.data);return i.common.async?Promise.resolve(t).then(e=>this._def.schema._parseAsync({data:e,path:i.path,parent:i})):this._def.schema._parseSync({data:t,path:i.path,parent:i})}const r={addIssue:e=>{Bn(i,e),e.fatal?n.abort():n.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),"refinement"===o.type){const t=e=>{var t=o.refinement(e,r);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>"aborted"===e.status?Dn:("dirty"===e.status&&n.dirty(),t(e.value).then(()=>({status:n.value,value:e.value}))));{const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===o.status?Dn:("dirty"===o.status&&n.dirty(),t(o.value),{status:n.value,value:o.value})}}if("transform"===o.type){if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>Kn(e)?Promise.resolve(o.transform(e.value,r)).then(e=>({status:n.value,value:e})):e);{const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Kn(t))return t;var e=o.transform(t.value,r);if(e instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:e}}}In.assertNever(o)}}Br.create=(e,t,n)=>new Br({schema:e,typeName:Yr.ZodEffects,effect:t,...Xn(n)}),Br.createWithPreprocess=(e,t,n)=>new Br({schema:t,effect:{type:"preprocess",transform:e},typeName:Yr.ZodEffects,...Xn(n)});class zr extends Jn{_parse(e){return this._getType(e)===An.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(e,t)=>new zr({innerType:e,typeName:Yr.ZodOptional,...Xn(t)});class Dr extends Jn{_parse(e){return this._getType(e)===An.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dr.create=(e,t)=>new Dr({innerType:e,typeName:Yr.ZodNullable,...Xn(t)});class Vr extends Jn{_parse(e){e=this._processInputParams(e).ctx;let t=e.data;return e.parsedType===An.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}Vr.create=(e,t)=>new Vr({innerType:e,typeName:Yr.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Xn(t)});class Ur extends Jn{_parse(e){const t=this._processInputParams(e)["ctx"],n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hn(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Mn(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new Mn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:Yr.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Xn(t)});class Fr extends Jn{_parse(e){var t;return this._getType(e)!==An.nan?(Bn(t=this._getOrReturnCtx(e),{code:On.invalid_type,expected:An.nan,received:t.parsedType}),Dn):{status:"valid",value:e.data}}}Fr.create=e=>new Fr({typeName:Yr.ZodNaN,...Xn(e)});const Gr=Symbol("zod_brand");class Kr extends Jn{_parse(e){var e=this._processInputParams(e)["ctx"],t=e.data;return this._def.type._parse({data:t,path:e.path,parent:e})}unwrap(){return this._def.type}}class Hr extends Jn{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{var e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Dn:"dirty"===e.status?(t.dirty(),Vn(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Dn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Hr({in:e,out:t,typeName:Yr.ZodPipeline})}}const Wr=(o,r={},a)=>o?mr.create().superRefine((e,t)=>{if(!o(e)){const o="function"==typeof r?r(e):"string"==typeof r?{message:r}:r,n=null==(e=null!=(e=o.fatal)?e:a)||e,i="string"==typeof o?{message:o}:o;t.addIssue({code:"custom",...i,fatal:n})}}):mr.create(),qr={object:xr.lazycreate},Xr=(!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(Yr=Yr||{}),sr.create),Jr=dr.create,Qr=Fr.create,ea=cr.create,ta=ur.create,na=pr.create,ra=hr.create,aa=fr.create,oa=gr.create,ia=mr.create,sa=br.create,la=yr.create,da=vr.create,ca=wr.create,ua=xr.create,pa=xr.strictCreate,ha=kr.create,fa=Sr.create,ga=$r.create,ma=Er.create,ba=Ir.create,ya=Pr.create,va=Ar.create,wa=Nr.create,_a=Or.create,xa=Mr.create,ka=Lr.create,Ca=Zr.create,Sa=Rr.create,Ta=Br.create,$a=zr.create,Ea=Dr.create,Ia=Br.createWithPreprocess,Pa=Hr.create,Aa={string:e=>sr.create({...e,coerce:!0}),number:e=>dr.create({...e,coerce:!0}),boolean:e=>ur.create({...e,coerce:!0}),bigint:e=>cr.create({...e,coerce:!0}),date:e=>pr.create({...e,coerce:!0})},Na=Dn;var Oa=Object.freeze({__proto__:null,defaultErrorMap:jn,setErrorMap:function(e){Ln=e},getErrorMap:Zn,makeIssue:Rn,EMPTY_PATH:[],addIssueToContext:Bn,ParseStatus:zn,INVALID:Dn,DIRTY:Vn,OK:Un,isAborted:Fn,isDirty:Gn,isValid:Kn,isAsync:Hn,get util(){return In},get objectUtil(){return Pn},ZodParsedType:An,getParsedType:Nn,ZodType:Jn,ZodString:sr,ZodNumber:dr,ZodBigInt:cr,ZodBoolean:ur,ZodDate:pr,ZodSymbol:hr,ZodUndefined:fr,ZodNull:gr,ZodAny:mr,ZodUnknown:br,ZodNever:yr,ZodVoid:vr,ZodArray:wr,ZodObject:xr,ZodUnion:kr,ZodDiscriminatedUnion:Sr,ZodIntersection:$r,ZodTuple:Er,ZodRecord:Ir,ZodMap:Pr,ZodSet:Ar,ZodFunction:Nr,ZodLazy:Or,ZodLiteral:Mr,ZodEnum:Lr,ZodNativeEnum:Zr,ZodPromise:Rr,ZodEffects:Br,ZodTransformer:Br,ZodOptional:zr,ZodNullable:Dr,ZodDefault:Vr,ZodCatch:Ur,ZodNaN:Fr,BRAND:Gr,ZodBranded:Kr,ZodPipeline:Hr,custom:Wr,Schema:Jn,ZodSchema:Jn,late:qr,get ZodFirstPartyTypeKind(){return Yr},coerce:Aa,any:ia,array:ca,bigint:ea,boolean:ta,date:na,discriminatedUnion:fa,effect:Ta,enum:ka,function:wa,instanceof:(t,e={message:"Input not instance of "+t.name})=>Wr(e=>e instanceof t,e),intersection:ga,lazy:_a,literal:xa,map:ya,nan:Qr,nativeEnum:Ca,never:la,null:oa,nullable:Ea,number:Jr,object:ua,oboolean:()=>ta().optional(),onumber:()=>Jr().optional(),optional:$a,ostring:()=>Xr().optional(),pipeline:Pa,preprocess:Ia,promise:Sa,record:ba,set:va,strictObject:pa,string:Xr,symbol:ra,transformer:Ta,tuple:ma,undefined:aa,union:ha,unknown:sa,void:da,NEVER:Na,ZodIssueCode:On,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Mn});const Ma=Oa.object({id:Oa.string(),groupId:Oa.string(),outgoingEdgeId:Oa.string().optional()}),ja=Oa.object({variableId:Oa.string().optional()}),La=(Oa.object({id:Oa.string(),createdAt:Oa.date(),workspaceId:Oa.string(),name:Oa.string(),iv:Oa.string()}),ja.merge(Oa.object({isRequired:Oa.boolean().optional(),isMultipleAllowed:Oa.boolean(),labels:Oa.object({placeholder:Oa.string(),button:Oa.string(),clear:Oa.string().optional(),skip:Oa.string().optional()}),sizeLimit:Oa.number().optional()}))),Za=(Ma.merge(Oa.object({type:Oa.literal(Ee.FILE),options:La})),{placeholder:"<strong>\n      Click to upload\n    </strong> or drag and drop<br>\n    (size limit: 10MB)",button:"Upload",clear:"Clear",skip:"Skip"}),Ra=le('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full">'),Ba=le('<span class="relative"><div class="total-files-indicator flex items-center justify-center absolute -right-1 rounded-full px-1 w-4 h-4">'),za=le('<div class="flex flex-col justify-center items-center"><p class="text-sm text-gray-500 text-center">'),Da=le('<input id="dropzone-file" type="file" class="hidden">'),Va=le('<div class="flex justify-end"><button class="py-2 px-4 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button ">'),Ua=le('<button class="secondary-button py-2 px-4 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 mr-2">'),Fa=le('<div class="flex justify-end"><div class="flex">'),Ga=le('<p class="text-red-500 text-sm">'),Ka=le('<form class="flex flex-col w-full"><label for="dropzone-file">'),Ha=le('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16">'),Wa=le('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9">'),qa=n=>{const[i,o]=_([]),[e,r]=_(!1),[a,s]=_(0),[t,l]=_(!1),[c,d]=_(),u=e=>{d(void 0);var t=Array.from(e);return t.some(e=>e.size>1024*(n.block.options.sizeLimit??10)*1024)?d(`A file is larger than ${n.block.options.sizeLimit??10}MB`):!n.block.options.isMultipleAllowed&&e?p(t[0]):void o([...i(),...t])},h=async e=>{e.preventDefault(),0!==i().length&&(async e=>{if(n.context.isPreview)return n.onSubmit({label:`${e.length} file${e.length>1?"s":""} uploaded`,value:e.map((e,t)=>`http://fake-upload-url.com/${t}`).join(", ")});r(!0);const t=await je({basePath:`${n.context.apiHost??Je()}/api/typebots/${n.context.typebotId}/blocks/${n.block.id}`,files:e.map(e=>({file:e,path:`public/results/${n.context.resultId}/${n.block.id}/${e.name}`})),onUploadProgress:s});if(r(!1),s(0),t.length!==e.length)return d("An error occured while uploading the files");n.onSubmit({label:`${t.length} file${t.length>1?"s":""} uploaded`,value:t.join(", ")})})(i())},p=async e=>{if(n.context.isPreview)return n.onSubmit({label:"File uploaded",value:"http://fake-upload-url.com"});r(!0);e=await je({basePath:`${n.context.apiHost??Je()}/api/typebots/${n.context.typebotId}/blocks/`+n.block.id,files:[{file:e,path:`public/results/${n.context.resultId}/${n.block.id}/`+e.name}]});if(r(!1),e.length)return n.onSubmit({label:"File uploaded",value:e[0]??""});d("An error occured while uploading the file")},f=e=>{e.preventDefault(),l(!0)},m=()=>l(!1),g=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&u(e.dataTransfer.files)},v=()=>o([]);{const y=Ka(),b=y.firstChild;return y.addEventListener("submit",h),b.addEventListener("drop",g),b.addEventListener("dragleave",m),b.addEventListener("dragover",f),fe(b,F(Q,{get children(){return[F(ee,{get when(){return e()},get children(){return F(J,{get when(){return 1<i().length},get fallback(){return F(it,{})},get children(){const e=Ra(),t=e.firstChild;return t.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),x(()=>t.style.setProperty("width",`${0<a()?a:10}%`)),e}})}}),F(ee,{get when(){return!e()},get children(){return[(()=>{const e=za(),t=e.firstChild;return fe(e,F(J,{get when(){return i().length},get fallback(){return F(Ya,{})},get children(){var e=Ba(),t=e.firstChild;return fe(e,F(Xa,{}),t),t.style.setProperty("bottom","5px"),fe(t,()=>i().length),e}}),t),x(()=>t.innerHTML=n.block.options.labels.placeholder),e})(),(()=>{const e=Da();return e.addEventListener("change",e=>{e.currentTarget.files&&u(e.currentTarget.files)}),x(()=>e.multiple=n.block.options.isMultipleAllowed),e})()]}})]}})),fe(y,F(J,{get when(){return 0===i().length&&!1===n.block.options.isRequired},get children(){var e=Va(),t=e.firstChild;return t.addEventListener("click",()=>n.onSkip(n.block.options.labels.skip??Za.skip)),fe(t,()=>n.block.options.labels.skip??Za.skip),e}}),null),fe(y,F(J,{get when(){return C(()=>!!(n.block.options.isMultipleAllowed&&0<i().length))()&&!e()},get children(){var e=Fa(),t=e.firstChild;return fe(t,F(J,{get when(){return i().length},get children(){var e=Ua();return e.addEventListener("click",v),fe(e,()=>n.block.options.labels.clear??Za.clear),e}}),null),fe(t,F(ot,{type:"submit",disableIcon:!0,get children(){return C(()=>n.block.options.labels.button===Za.button)()?`Upload ${i().length} file`+(1<i().length?"s":""):n.block.options.labels.button}}),null),e}}),null),fe(y,F(J,{get when(){return c()},get children(){var e=Ga();return fe(e,c),e}}),null),x(()=>ue(b,"typebot-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 mb-2 "+(t()?"dragging-over":""))),y}},Ya=()=>Ha(),Xa=()=>Wa();let Ja=function(e){return e.STRIPE="Stripe",e}({});const Qa=le('<div class="typebot-input-error-message mt-4 text-center animate-fade-in">'),eo=le('<form id="payment-form" class="flex flex-col p-4 typebot-input w-full items-center"><slot name="stripe-payment-form">');let to,no=null,ro=null;const ao=i=>{const[t,n]=_(),[e,o]=_(!1),[r,a]=_(!1),s=(T(async()=>{var n;oo(to),(no=(n=i.options.publicKey,await new Promise(e=>{if(window.Stripe)return e(window.Stripe(n));var t=document.createElement("script");t.src="https://js.stripe.com/v3",document.body.appendChild(t),t.onload=()=>{if(!window.Stripe)throw new Error("Stripe.js failed to load.");e(window.Stripe(n))}})))&&((ro=no.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(to).getPropertyValue("--typebot-button-bg-color")}},clientSecret:i.options.paymentIntentSecret})).create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout(()=>o(!0),1e3))}),async e=>{var t;if(e.preventDefault(),no&&ro)return a(!0),{error:e,paymentIntent:t}=await no.confirmPayment({elements:ro,confirmParams:{return_url:i.context.apiHost,payment_method_data:{billing_details:{name:i.options.additionalInformation?.name,email:i.options.additionalInformation?.email,phone:i.options.additionalInformation?.phoneNumber}}},redirect:"if_required"}),a(!1),"validation_error"!==e?.type?"card_error"===e?.type?n(e.message):e||"succeeded"!==t.status?void 0:i.onSuccess():void 0});return l=eo(),c=l.firstChild,l.addEventListener("submit",s),"function"==typeof to?he(to,c):to=c,c._$owner=f,fe(l,F(J,{get when(){return e()},get children(){return F(ot,{get isLoading(){return r()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[C(()=>i.options.labels.button)," ",C(()=>i.options.amountLabel)]}})}}),null),fe(l,F(J,{get when(){return t()},get children(){var e=Qa();return fe(e,t),e}}),null),l;var l,c},oo=e=>{var e=e.getRootNode().host,t=document.createElement("div"),e=(t.style.width="100%",t.slot="stripe-payment-form",e.appendChild(t),document.createElement("div"));e.id="payment-element",t.appendChild(e)},io=e=>F(Q,{get children(){return F(ee,{get when(){return e.options.provider===Ja.STRIPE},get children(){return F(ao,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context}})}})}}),so=le('<div class="flex justify-end animate-fade-in">'),lo=le("<div>"),co=n=>{const[e,i]=_(),t=async({label:e,value:t})=>{i(e??t),n.onSubmit(t??e)},o=e=>{i(e),n.onSkip()};return F(Q,{get children(){return[F(ee,{get when(){return e()&&!n.hasError},get children(){return F(Wt,{get message(){return e()},get showAvatar(){return n.guestAvatar?.isEnabled??!1},get avatarSrc(){return n.guestAvatar?.url&&n.guestAvatar.url}})}}),F(ee,{get when(){return Ne(e())||n.hasError},get children(){const e=so();return fe(e,(()=>{const e=C(()=>!!n.hasHostAvatar);return()=>e()&&(()=>{const e=lo();return x(()=>ue(e,"flex mr-2 mb-2 mt-1 flex-shrink-0 items-center "+(Qe()?"w-6 h-6":"w-10 h-10"))),e})()})(),null),fe(e,F(uo,{get context(){return n.context},get block(){return n.block},get inputIndex(){return n.inputIndex},get isInputPrefillEnabled(){return n.isInputPrefillEnabled},onSubmit:t,onSkip:o}),null),x(()=>ce(e,"data-blockid",n.block.id)),e}})]}})},uo=t=>{const e=e=>t.onSubmit(e),n=()=>t.isInputPrefillEnabled?t.block.prefilledValue:void 0,i=()=>t.onSubmit({value:t.block.options.labels.success??"Success"});return F(Q,{get children(){return[F(ee,{get when(){return t.block.type===Ee.TEXT},get children(){return F(Yt,{get block(){return t.block},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.NUMBER},get children(){return F(Jt,{get block(){return t.block},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.EMAIL},get children(){return F(en,{get block(){return t.block},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.URL},get children(){return F(nn,{get block(){return t.block},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.PHONE},get children(){return F(dn,{get labels(){return t.block.options.labels},get defaultCountryCode(){return t.block.options.defaultCountryCode},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.DATE},get children(){return F(gn,{get options(){return t.block.options},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.CHOICE},get children(){return F(wn,{get inputIndex(){return t.inputIndex},get block(){return t.block},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.RATING},get children(){return F(Tn,{get block(){return t.block},get defaultValue(){return n()},onSubmit:e})}}),F(ee,{get when(){return t.block.type===Ee.FILE},get children(){return F(qa,{get context(){return t.context},get block(){return t.block},onSubmit:e,get onSkip(){return t.onSkip}})}}),F(ee,{get when(){return t.block.type===Ee.PAYMENT},get children(){return F(io,{get context(){return t.context},get options(){return{...t.block.options,...t.block.runtimeOptions}},onSuccess:i})}})]}})},po=le("<div><div>"),ho=e=>{let t;const[o,n]=_(0),i=new ResizeObserver(e=>n(e[0].target.clientHeight-(Qe()?24:40)));T(()=>{t&&i.observe(t)}),$(()=>{t&&i.unobserve(t)});{const r=po(),a=r.firstChild;return"function"==typeof t?he(t,r):t=r,a.style.setProperty("transition","top 350ms ease-out"),fe(a,F(Kt,{get initialAvatarSrc(){return e.hostAvatarSrc}})),x(e=>{var t="flex mr-2 mb-2 flex-shrink-0 items-center relative typebot-avatar-container "+(Qe()?"w-6":"w-10"),n="absolute mb-2 flex items-center top-0 "+(Qe()?"w-6 h-6":"w-10 h-10"),i=o()+"px";return t!==e._v$&&ue(r,e._v$=t),n!==e._v$2&&ue(a,e._v$2=n),i!==e._v$3&&a.style.setProperty("top",e._v$3=i),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r}},fo=le('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex"><div class="flex-1">'),go=t=>{const[n,i]=_(0),o=(T(()=>{0===t.messages.length&&t.onAllBubblesDisplayed(),t.onScrollToBottom()}),async()=>{var e=t.messages[n()].id;await t.onNewBubbleDisplayed(e),i(n()===t.messages.length?n():n()+1),t.onScrollToBottom(),n()===t.messages.length&&t.onAllBubblesDisplayed()});{const e=fo(),r=e.firstChild,a=r.firstChild,s=a.firstChild;return fe(a,F(J,{get when(){return t.theme.chat.hostAvatar?.isEnabled&&0<t.messages.length},get children(){return F(ho,{get hostAvatarSrc(){return t.theme.chat.hostAvatar?.url}})}}),s),fe(s,F(X,{get each(){return t.messages.slice(0,n()+1)},children:e=>F(Vt,{message:e,get typingEmulation(){return t.settings.typingEmulation},onTransitionEnd:o})})),fe(r,(()=>{const e=C(()=>!(!t.input||n()!==t.messages.length));return()=>e()&&F(co,{get block(){return t.input},get inputIndex(){return t.inputIndex},get onSubmit(){return t.onSubmit},get onSkip(){return t.onSkip},get hasHostAvatar(){return t.theme.chat.hostAvatar?.isEnabled??!1},get guestAvatar(){return t.theme.chat.guestAvatar},get context(){return t.context},get isInputPrefillEnabled(){return t.settings.general.isInputPrefillEnabled??!0},get hasError(){return t.hasError}})})(),null),x(()=>s.style.setProperty("margin-right",t.theme.chat.guestAvatar?.isEnabled?Qe()?"32px":"48px":void 0)),e}},mo=async({content:e,args:t})=>{var n=Function(...t.map(e=>e.id),bo(e));try{await n(...t.map(e=>e.value))}catch(e){console.error(e)}},bo=e=>e.replace(/<script>/g,"").replace(/<\/script>/g,""),yo=e=>{e&&gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value})};var vo=Object.freeze({__proto__:null,default:i=>new Promise(e=>{const t=document.getElementById("gtag");if(!t){const t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id="+i,t.id="gtag";var n=document.createElement("script");n.innerHTML=`window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', '${i}');
      `,document.body.appendChild(t),document.body.appendChild(n),t.onload=()=>{e()}}t&&e()}),sendGaEvent:yo});const wo=async e=>{return"chatwoot"in e?(n=e.chatwoot,void mo(n.scriptToExecute)):"googleAnalytics"in e?(async e=>{var t;e?.trackingId&&(t=(await Promise.resolve().then(function(){return vo}))["default"],await t(e.trackingId),yo(e))})(e.googleAnalytics):"scriptToExecute"in e?mo(e.scriptToExecute):"redirect"in e?({url:n,isNewTab:t}=[e.redirect][0],!n||window.open(n,t?"_blank":"_self")?void 0:{blockedPopupUrl:n}):"wait"in e?(async({secondsToWaitFor:t})=>{await new Promise(e=>setTimeout(e,1e3*t))})(e.wait):void 0;var t,n},_o=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing " data-testid="host-bubble"></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis">'),xo=()=>{return e=_o(),(t=e.firstChild.firstChild.firstChild).style.setProperty("width","64px"),t.style.setProperty("height","32px"),fe(t,F(lt,{})),e;var e,t},ko=le('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex">'),Co=e=>{return t=ko(),fe(n=t.firstChild.firstChild,F(J,{get when(){return e.theme.chat.hostAvatar?.isEnabled},get children(){return F(ho,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url}})}}),null),fe(n,F(xo,{}),null),t;var t,n},So=le('<div class="w-full max-w-xs p-4 text-gray-500 bg-white shadow flex flex-col gap-2 typebot-popup-blocked-toast" role="alert"><span class="mb-1 text-sm font-semibold text-gray-900">Popup blocked</span><div class="mb-2 text-sm font-normal">The bot wants to open a new tab but it was blocked by your broswer. It needs a manual approval.</div><a target="_blank" class="py-1 px-4 justify-center text-sm font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button" rel="noreferrer">Continue in new tab'),To=e=>{{const t=So(),n=t.firstChild.nextSibling.nextSibling;return n.$$click=()=>e.onLinkClick(),x(()=>ce(n,"href",e.url)),t}},$o=(de(["click"]),le('<div class="overflow-y-scroll w-full min-h-full px-3 pt-10 relative scrollable-container typebot-chat-view scroll-smooth">')),Eo=le('<div class="flex justify-end">'),Io=le('<div class="w-full h-32">'),Po=r=>{let e,t;const[a,s]=_([{input:r.initialChatReply.input,messages:r.initialChatReply.messages,clientSideActions:r.initialChatReply.clientSideActions}]),[n,l]=_(r.initialChatReply.dynamicTheme),[i,o]=_(r.initialChatReply.typebot.theme),[c,d]=_(!1),[u,h]=_(),[p,f]=_(!1),m=(T(()=>{(async()=>{const e=a()[0];if(e.clientSideActions){var t=e.clientSideActions.filter(e=>Ne(e.lastBubbleBlockId));for(const e of t){var n=await wo(e);n&&h(n.blockedPopupUrl)}}})()}),k(()=>{var e,t;o((e=r.initialChatReply.typebot.theme,t=n(),{...e,chat:{...e.chat,hostAvatar:e.chat.hostAvatar&&t?.hostAvatarUrl?{...e.chat.hostAvatar,url:t.hostAvatarUrl}:e.chat.hostAvatar,guestAvatar:e.chat.guestAvatar&&t?.guestAvatarUrl?{...e.chat.guestAvatar,url:t?.guestAvatarUrl}:e.chat.guestAvatar}}))}),async e=>{f(!1);var t=[...a()].pop()?.input?.id;t&&r.onAnswer&&e&&r.onAnswer({message:e,blockId:t});const n=setTimeout(()=>{d(!0)},1e3),{data:i,error:o}=({apiHost:t,...e}=[{apiHost:r.context.apiHost,sessionId:r.initialChatReply.sessionId,message:e}][0],await Pe({method:"POST",url:`${Me(t)?t:Je()}/api/v1/sendMessage`,body:e}));if(clearTimeout(n),d(!1),o&&(f(!0),r.onNewLogs?.([{description:"Error while sending message",details:o,status:"error"}])),i){if(i.logs&&r.onNewLogs?.(i.logs),i.dynamicTheme&&l(i.dynamicTheme),i.input?.id&&r.onNewInputBlock&&r.onNewInputBlock({id:i.input.id,groupId:i.input.groupId}),i.clientSideActions){const r=i.clientSideActions.filter(e=>Ne(e.lastBubbleBlockId));for(const e of r){const r=await wo(e);r&&h(r.blockedPopupUrl)}}s(e=>[...e,{input:i.input,messages:i.messages,clientSideActions:i.clientSideActions}])}}),g=()=>{t&&setTimeout(()=>{e?.scrollTo(0,e.scrollHeight)},50)},v=async()=>{var e=[...a()].pop();e&&Ne(e.input)&&r.onEnd?.()},y=async t=>{const e=[...a()].pop();if(e&&e.clientSideActions){var n=e.clientSideActions.filter(e=>e.lastBubbleBlockId===t);for(const t of n){const e=await wo(t);e&&h(e.blockedPopupUrl)}}},b=()=>m(void 0);return w=$o(),"function"==typeof e?he(e,w):e=w,fe(w,F(X,{get each(){return a()},children:(e,t)=>F(go,{get inputIndex(){return t()},get messages(){return e.messages},get input(){return e.input},get theme(){return i()},get settings(){return r.initialChatReply.typebot.settings},get isLoadingBubbleDisplayed(){return c()},onNewBubbleDisplayed:y,onAllBubblesDisplayed:v,onSubmit:m,onScrollToBottom:g,onSkip:b,get context(){return r.context},get hasError(){return C(()=>!!p())()&&t()===a().length-1}})}),null),fe(w,F(J,{get when(){return c()},get children(){return F(Co,{get theme(){return i()}})}}),null),fe(w,F(J,{get when(){return u()},keyed:!0,children:e=>{return fe(t=Eo(),F(To,{url:e,onLinkClick:()=>h(void 0)})),t;var t}}),null),fe(w,F(Ao,{ref(e){"function"==typeof t?t(e):t=e}}),null),w;var w},Ao=e=>{return t=Io(),"function"==typeof(n=e.ref)?he(n,t):e.ref=t,t;var t,n},No=le('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p><p class="text-center">'),Oo=e=>{return t=No(),n=t.firstChild,i=n.nextSibling,fe(n,()=>e.error.message),fe(i,()=>e.error.cause),t;var t,n,i},Mo="resultId",jo=e=>{if(e)try{return sessionStorage.getItem(Mo+"-"+e)??void 0}catch{}};let Lo=function(e){return e.COLOR="Color",e.IMAGE="Image",e.NONE="None",e}({});const Zo={bgImage:"--typebot-container-bg-image",bgColor:"--typebot-container-bg-color",fontFamily:"--typebot-container-font-family"},Ro={hostBubbles:{bgColor:"--typebot-host-bubble-bg-color",color:"--typebot-host-bubble-color"},guestBubbles:{bgColor:"--typebot-guest-bubble-bg-color",color:"--typebot-guest-bubble-color"},inputs:{bgColor:"--typebot-input-bg-color",color:"--typebot-input-color",placeholderColor:"--typebot-input-placeholder-color"},buttons:{bgColor:"--typebot-button-bg-color",color:"--typebot-button-color"}},Bo=(e,t)=>{var{background:e,font:n}=e;e&&Go(e,t),n&&t.setProperty(Zo.fontFamily,n)},zo=(e,t)=>{var{hostBubbles:e,guestBubbles:n,buttons:i,inputs:o,roundness:r}=e;e&&Do(e,t),n&&Vo(n,t),i&&Uo(i,t),o&&Fo(o,t),r&&Ho(r,t)},Do=(e,t)=>{e.backgroundColor&&t.setProperty(Ro.hostBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(Ro.hostBubbles.color,e.color)},Vo=(e,t)=>{e.backgroundColor&&t.setProperty(Ro.guestBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(Ro.guestBubbles.color,e.color)},Uo=(e,t)=>{e.backgroundColor&&t.setProperty(Ro.buttons.bgColor,e.backgroundColor),e.color&&t.setProperty(Ro.buttons.color,e.color)},Fo=(e,t)=>{e.backgroundColor&&t.setProperty(Ro.inputs.bgColor,e.backgroundColor),e.color&&t.setProperty(Ro.inputs.color,e.color),e.placeholderColor&&t.setProperty(Ro.inputs.placeholderColor,e.placeholderColor)},Go=(e,t)=>{t.setProperty(Zo.bgImage,null),t.setProperty(Zo.bgColor,null),t.setProperty(e?.type===Lo.IMAGE?Zo.bgImage:Zo.bgColor,Ko(e))},Ko=({type:e,content:t})=>{switch(e){case Lo.NONE:return"transparent";case Lo.COLOR:return t??"#ffffff";case Lo.IMAGE:return`url(${t})`}},Ho=(e,t)=>{switch(e){case"none":t.setProperty("--typebot-border-radius","0");break;case"medium":t.setProperty("--typebot-border-radius","6px");break;case"large":t.setProperty("--typebot-border-radius","20px")}},Wo=le("<style>"),qo=le('<div><div class="flex w-full h-full justify-center">'),Yo=o=>{const[e,r]=_(),[t,a]=_(""),[n,s]=_(!1),[i,l]=_();return k(()=>{o.typebot&&!n()&&(async()=>{s(!0);var e=new URLSearchParams(location.search);o.onInit?.();const n={};e.forEach((e,t)=>{n[t]=e});var e="string"==typeof o.typebot?o.typebot:void 0,{data:t,error:i}=await async function({typebot:e,isPreview:t,apiHost:n,prefilledVariables:i,startGroupId:o,resultId:r}){if(e)return Pe({method:"POST",url:`${Me(n)?n:Je()}/api/v1/sendMessage`,body:{startParams:{isPreview:t,typebot:e,prefilledVariables:i,startGroupId:o,resultId:r}}});throw new Error("Typebot ID is required to get initial messages")}({typebot:o.typebot,apiHost:o.apiHost,isPreview:o.isPreview??!1,resultId:Me(o.resultId)?o.resultId:jo(e),startGroupId:o.startGroupId,prefilledVariables:{...n,...o.prefilledVariables}});if(i&&"code"in i&&"string"==typeof i.code){if("string"!=typeof o.typebot||o.isPreview)return l(new Error("An error occurred while loading the bot.",{cause:i.message}));if(["BAD_REQUEST","FORBIDDEN"].includes(i.code))return l(new Error("This bot is now closed."));if("NOT_FOUND"===i.code)return l(new Error("The bot you're looking for doesn't exist."))}if(!t)return l(new Error("Error! Couldn't initiate the chat."));if(t.resultId&&e){i=e,e=t.resultId;try{sessionStorage.setItem(Mo+"-"+i,e)}catch{}}r(t),a(t.typebot.theme.customCss??""),t.input?.id&&o.onNewInputBlock&&o.onNewInputBlock({id:t.input.id,groupId:t.input.groupId}),t.logs&&o.onNewLogs?.(t.logs);i=t.typebot.settings.metadata.customHeadCode;i&&i.split("</noscript>").forEach(e=>{var[e,t]=e.split("<noscript>"),e=document.createRange().createContextualFragment(e);document.head.append(e),Ne(t)||(e=document.createElement("noscript"),t=document.createRange().createContextualFragment(t),e.append(t),document.head.append(e))})})().then()}),k(()=>{"string"!=typeof o.typebot&&a(o.typebot.theme.customCss??"")}),$(()=>{s(!1)}),[(fe(c=Wo(),t),c),(fe(c=Wo(),"#lite-badge{background-color:#fff!important;border-radius:4px!important;border-width:1px!important;bottom:20px!important;color:#111827!important;display:flex!important;font-size:14px!important;font-weight:600!important;gap:8px!important;left:auto!important;line-height:20px!important;opacity:1!important;padding:4px 8px!important;position:absolute!important;right:auto!important;top:auto!important;transition:background-color .2s ease-in-out!important;visibility:visible!important;z-index:50!important}#lite-badge:hover{background-color:#f7f8ff!important}"),c),F(J,{get when(){return i()},keyed:!0,children:e=>F(Oo,{error:e})}),F(J,{get when(){return e()},keyed:!0,children:e=>F(Xo,{get class(){return o.class},get initialChatReply(){return{...e,typebot:{...e.typebot,settings:("string"==typeof o.typebot?e:o).typebot?.settings,theme:("string"==typeof o.typebot?e:o).typebot?.theme}}},get context(){return{apiHost:o.apiHost,isPreview:"string"!=typeof o.typebot||(o.isPreview??!1),typebotId:e.typebot.id,resultId:e.resultId}},get onNewInputBlock(){return o.onNewInputBlock},get onNewLogs(){return o.onNewLogs},get onAnswer(){return o.onAnswer},get onEnd(){return o.onEnd}})})];var c},Xo=n=>{let i;const e=new ResizeObserver(e=>et(e[0].target.clientWidth<400));T(()=>{i&&e.observe(i)}),k(()=>{var e,t;document.getElementById("bot-font")?.getAttribute("href")?.includes(n.initialChatReply.typebot?.theme?.general?.font??"Open Sans")||((t=document.createElement("link")).href=`https://fonts.googleapis.com/css2?family=${n.initialChatReply.typebot?.theme?.general?.font??"Open Sans"}:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap');')`,t.rel="stylesheet",t.id="bot-font",document.head.appendChild(t)),i&&(t=n.initialChatReply.typebot.theme,e=i,t)&&(e=e?.style)&&(t.general&&Bo(t.general,e),t.chat)&&zo(t.chat,e)}),$(()=>{i&&e.unobserve(i)});{const t=qo(),o=t.firstChild;return"function"==typeof i?he(i,t):i=t,fe(o,F(Po,{get context(){return n.context},get initialChatReply(){return n.initialChatReply},get onNewInputBlock(){return n.onNewInputBlock},get onAnswer(){return n.onAnswer},get onEnd(){return n.onEnd},get onNewLogs(){return n.onNewLogs}})),fe(t,F(J,{get when(){return n.initialChatReply.typebot.settings.general.isBrandingEnabled},get children(){return F(Xe,{botContainer:i})}}),null),x(()=>ue(t,"relative flex w-full h-full text-base overflow-hidden bg-cover bg-center flex-col items-center typebot-container "+n.class)),t}},Jo=le("<style>"),Qo=le('<div part="bot">'),ei=r=>{const[a,e]=q(r,["onOpen","onClose","previewMessage","onPreviewMessageClick","theme"]),[t,n]=_(e.prefilledVariables),[i,o]=_(!1),[s,l]=_({message:a.previewMessage?.message??"",avatarUrl:a.previewMessage?.avatarUrl}),[c,d]=_(!1),[u,h]=_(!1),p=(T(()=>{window.addEventListener("message",p);var e=a.previewMessage?.autoShowDelay;Ae(e)&&setTimeout(()=>{y()},e)}),$(()=>{window.removeEventListener("message",p)}),k(()=>{r.prefilledVariables&&n(e=>({...e,...r.prefilledVariables}))}),e=>{const t=e["data"];t.isFromTypebot&&("open"===t.command&&f(),"close"===t.command&&m(),"toggle"===t.command&&g(),"showPreviewMessage"===t.command&&y(t.message),"hidePreviewMessage"===t.command&&b(),"setPrefilledVariables"===t.command)&&n(e=>({...e,...t.variables}))}),f=()=>{u()||h(!0),b(),d(!0),c()&&a.onOpen?.()},m=()=>{d(!1),c()&&a.onClose?.()},g=()=>{(c()?m:f)()},v=()=>{a.onPreviewMessageClick?.(),f()},y=e=>{e&&l(e),c()||o(!0)},b=()=>{o(!1)};return[(fe(w=Jo(),$e),w),F(J,{get when(){return i()},get children(){return F(Ke,W(s,{get previewMessageTheme(){return a.theme?.previewMessage},get buttonSize(){return a.theme?.button?.size},onClick:v,onCloseClick:b}))}}),F(ze,W(()=>a.theme?.button,{toggleBot:g,get isBotOpened(){return c()}})),(()=>{const o=Qo();return o.style.setProperty("height","calc(100% - 80px)"),o.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),o.style.setProperty("transform-origin","bottom right"),o.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),o.style.setProperty("z-index","42424242"),fe(o,F(J,{get when(){return u()},get children(){return F(Yo,W(e,{get prefilledVariables(){return t()},class:"rounded-lg"}))}})),x(e=>{var t=c()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",n=a.theme?.chatWindow?.backgroundColor,i="fixed sm:right-5 rounded-lg w-full sm:w-[400px] max-h-[704px]"+(c()?" opacity-1":" opacity-0 pointer-events-none")+("large"===r.theme?.button?.size?" bottom-24":" bottom-20");return t!==e._v$&&o.style.setProperty("transform",e._v$=t),n!==e._v$2&&o.style.setProperty("background-color",e._v$2=n),i!==e._v$3&&ue(o,e._v$3=i),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})()];var w},ti=le("<style>"),ni=le('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div class="relative h-[80vh] transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">'),ri=i=>{const[t,o]=q(i,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[r,n]=_(o.prefilledVariables),[e,a]=_(t.isOpen??!1),s=(T(()=>{t.defaultOpen&&c(),window.addEventListener("message",l);var e=t.autoShowDelay;Ae(e)&&setTimeout(()=>{c()},e)}),$(()=>{window.removeEventListener("message",l)}),k(()=>{Ne(i.isOpen)||i.isOpen===e()||u()}),k(()=>{i.prefilledVariables&&n(e=>({...e,...i.prefilledVariables}))}),e=>{e.stopPropagation()}),l=e=>{const t=e["data"];t.isFromTypebot&&("open"===t.command&&c(),"close"===t.command&&d(),"toggle"===t.command&&u(),"setPrefilledVariables"===t.command)&&n(e=>({...e,...t.variables}))},c=()=>{a(!0),t.onOpen?.(),document.body.style.overflow="hidden",document.addEventListener("pointerdown",d)},d=()=>{a(!1),t.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",d)},u=()=>{(e()?d:c)()};return F(J,{get when(){return e()},get children(){return[(fe(e=ti(),$e),e),(()=>{const e=ni(),t=e.firstChild,n=t.nextSibling.nextSibling.firstChild.firstChild;return fe(t,$e),n.addEventListener("pointerdown",s),fe(n,F(Yo,W(o,{get prefilledVariables(){return r()}}))),x(()=>n.style.setProperty("background-color",i.theme?.backgroundColor??"transparent")),e})()];var e}})},ai=le("<style>\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n"),oi=()=>{window.postMessage({isFromTypebot:!0,command:"close"})},ii=()=>{window.postMessage({isFromTypebot:!0,command:"hidePreviewMessage"})},si=()=>{window.postMessage({isFromTypebot:!0,command:"open"})},li=e=>{window.postMessage({isFromTypebot:!0,command:"setPrefilledVariables",variables:e})},di=e=>{window.postMessage({isFromTypebot:!0,command:"showPreviewMessage",message:e})},ci=()=>{window.postMessage({isFromTypebot:!0,command:"toggle"})},ui=e=>{var t=e.id?document.getElementById(e.id):document.querySelector("typebot-standard");if(!t)throw new Error("<typebot-standard> element not found.");Object.assign(t,e)},pi=e=>{var t=document.createElement("typebot-popup");Object.assign(t,e),document.body.appendChild(t)},hi=e=>{var t=document.createElement("typebot-bubble");Object.assign(t,e),document.body.appendChild(t)},fi=("undefined"!=typeof window&&(ke("typebot-standard",Ce,(e,{element:t})=>{const[n,i]=_(!1),o=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)&&i(!0)});return T(()=>{o.observe(t)}),$(()=>{o.disconnect()}),[(r=ai(),a=r.firstChild,fe(r,$e,a),r),F(J,{get when(){return n()},get children(){return F(Yo,e)}})];var r,a}),ke("typebot-bubble",Te,ei),ke("typebot-popup",Se,ri)),{initStandard:ui,initPopup:pi,initBubble:hi,close:oi,hidePreviewMessage:ii,open:si,setPrefilledVariables:li,showPreviewMessage:di,toggle:ci});(e=>{"undefined"!=typeof window&&(window.Typebot={...e})})(fi);export{fi as default};
//# sourceMappingURL=main.min.js.map