function dropdown(){const o=window.matchMedia("(max-width: 991px)"),r=document.querySelector(".gh-head-menu"),i=r?.querySelector(".nav");if(i){const e=document.querySelector(".gh-head-logo"),t=i.innerHTML;o.matches&&i.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"});const n=function(){if(!o.matches){for(var e=[];i.offsetWidth+64>r.offsetWidth&&i.lastElementChild;)e.unshift(i.lastElementChild),i.lastElementChild.remove();if(e.length){const t=document.createElement("button"),n=(t.setAttribute("class","nav-more-toggle gh-icon-btn"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));n.setAttribute("class","gh-dropdown"),10<=e.length?(document.body.classList.add("is-dropdown-mega"),n.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):document.body.classList.remove("is-dropdown-mega"),e.forEach(function(e){n.appendChild(e)}),t.appendChild(n),i.appendChild(t),document.body.classList.add("is-dropdown-loaded"),window.addEventListener("click",function(e){document.body.classList.contains("is-dropdown-open")?document.body.classList.remove("is-dropdown-open"):t.contains(e.target)&&document.body.classList.add("is-dropdown-open")})}else document.body.classList.add("is-dropdown-loaded")}};imagesLoaded(e,function(){n()}),window.addEventListener("load",function(){e||n()}),window.addEventListener("resize",function(){setTimeout(()=>{i.innerHTML=t,n()},1)})}}function lightbox(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){var t=e;t.preventDefault();for(var n,o=[],r=0,i=t.target.closest(".kg-card").previousElementSibling;i&&(i.classList.contains("kg-image-card")||i.classList.contains("kg-gallery-card"));){var a=[];i.querySelectorAll("img").forEach(function(e){a.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),r+=1}),i=i.previousElementSibling,o=a.concat(o)}t.target.classList.contains("kg-image")?o.push({src:t.target.getAttribute("src"),msrc:t.target.getAttribute("src"),w:t.target.getAttribute("width"),h:t.target.getAttribute("height"),el:t.target}):(n=!1,t.target.closest(".kg-gallery-card").querySelectorAll("img").forEach(function(e){o.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),n||e===t.target?n=!0:r+=1}));for(var s=t.target.closest(".kg-card").nextElementSibling;s&&(s.classList.contains("kg-image-card")||s.classList.contains("kg-gallery-card"));)s.querySelectorAll("img").forEach(function(e){o.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e})}),s=s.nextElementSibling;e=document.querySelectorAll(".pswp")[0];new PhotoSwipe(e,PhotoSwipeUI_Default,o,{bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:r,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){var e=o[e].el,t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}).init()})})}function pagination(e,s,l=!1){const c=document.querySelector(".gh-feed");if(!c)return;let t=!1;async function n(){var t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),o=n.querySelectorAll(".gh-feed:not(.gh-featured):not(.gh-related) > *");const i=document.createDocumentFragment(),a=[];o.forEach(function(e){e=document.importNode(e,!0);l&&(e.style.visibility="hidden"),i.appendChild(e),a.push(e)}),c.appendChild(i),s&&s(a,d);var r=n.querySelector("link[rel=next]");r&&r.href?t.href=r.href:(t.remove(),u&&u.remove())}catch(e){throw t.remove(),u&&u.remove(),e}}const o=c.nextElementSibling||c.parentElement.nextElementSibling||document.querySelector(".gh-foot"),u=document.querySelector(".gh-loadmore"),d=(!document.querySelector("link[rel=next]")&&u&&u.remove(),async function(){o.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await n()});const r=new IntersectionObserver(async function(e){if(!t){if(t=!0,e[0].isIntersecting)if(l)await n();else for(;o.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await n();t=!1,document.querySelector("link[rel=next]")||r.disconnect()}});e?r.observe(o):u.addEventListener("click",n)}function flyingPages(){var n,r,o,t,i,e,a,s,l,c=new Set,u=new Set,d=document.createElement("link"),d=d.relList&&d.relList.supports&&d.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype;navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"))||!d||(n=function(o){return new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=o,n.onload=e,n.onerror=t,document.head.appendChild(n)})},r=function(e){var t=setTimeout(function(){return l()},5e3);n(e).catch(function(){return l()}).finally(function(){return clearTimeout(t)})},o=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!u.has(e)&&!c.has(e)){var n=window.location.origin;if(e.substring(0,n.length)===n&&window.location.href!==e){for(var o=0;o<window.FPConfig.ignoreKeywords.length;o++)if(e.includes(window.FPConfig.ignoreKeywords[o]))return;(t?(r(e),u):c).add(e)}}},t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e=e.target.href,o(e,!window.FPConfig.maxRPS))})}),i=null,e=function(e){var t=e.target.closest("a");t&&t.href&&!u.has(t.href)&&(i=setTimeout(function(){o(t.href,!0)},window.FPConfig.hoverDelay))},a=function(e){e=e.target.closest("a");e&&e.href&&!u.has(e.href)&&o(e.href,!0)},s=function(e){e=e.target.closest("a");e&&e.href&&!u.has(e.href)&&clearTimeout(i)},d=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return(0,Math.max)(0,50-(Date.now()-t))}})},1)},l=function(){document.querySelectorAll("a").forEach(function(e){return t.unobserve(e)}),c.clear(),document.removeEventListener("mouseover",e,!0),document.removeEventListener("mouseout",s,!0),document.removeEventListener("touchstart",a,!0)},window.FPConfig=Object.assign({delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50},window.FPConfig),setInterval(function(){Array.from(c).slice(0,window.FPConfig.maxRPS).forEach(function(e){r(e),u.add(e),c.delete(e)})},1e3),d(function(){return setTimeout(function(){return document.querySelectorAll("a").forEach(function(e){return t.observe(e)})},1e3*window.FPConfig.delay)}),d={capture:!0,passive:!0},document.addEventListener("mouseover",e,d),document.addEventListener("mouseout",s,d),document.addEventListener("touchstart",a,d))}!function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;return e&&t&&((n=(n=this._events=this._events||{})[e]=n[e]||[]).includes(t)||n.push(t)),this},t.once=function(e,t){var n;return e&&t&&(this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];var o,r=this._onceEvents&&this._onceEvents[e];for(o of n)r&&r[o]&&(this.off(e,o),delete r[o]),o.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let i=t.jQuery,a=t.console;function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);let o=e;var r;(o="string"==typeof e?document.querySelectorAll(e):o)?(this.elements=(r=o,Array.isArray(r)?r:"object"==typeof r&&"number"==typeof r.length?[...r]:[r]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(o||e))}(s.prototype=Object.create(e.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const r=[1,9,11],l=(s.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t,n,o=e["nodeType"];if(o&&r.includes(o)){for(t of e.querySelectorAll("img"))this.addImage(t);if("string"==typeof this.options.background)for(n of e.querySelectorAll(this.options.background))this.addElementBackgroundImages(n)}},/url\((['"])?(.*?)\1\)/gi);function n(e){this.img=e}function o(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var n=getComputedStyle(t);if(n){let e=l.exec(n.backgroundImage);for(;null!==e;){var o=e&&e[2];o&&this.addBackground(o,t),e=l.exec(n.backgroundImage)}}},s.prototype.addImage=function(e){e=new n(e);this.images.push(e)},s.prototype.addBackground=function(e,t){e=new o(e,t);this.images.push(e)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length){let t=(e,t,n)=>{setTimeout(()=>{this.progress(e,t,n)})};this.images.forEach(function(e){e.once("progress",t),e.check()})}else this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e;e=this.img.parentNode,e="PICTURE"===e.nodeName?e:this.img;this.emitEvent("progress",[this,e,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(o.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((i=e).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(i(this))})})(),s}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(o,s){function e(e){if(k)return!0;e=e||window.event,O.timeToIdle&&O.mouseUsed&&!b&&l();for(var t,n,o=(e.target||e.srcElement).getAttribute("class")||"",r=0;r<N.length;r++)(t=N[r]).onTap&&-1<o.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),k=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){k=!1},e))}function n(){var e=1===O.getNumItemsFn();e!==C&&(_(p,"ui--one-slide",e),C=e)}function a(){_(y,"share-modal--hidden",R)}function r(){if((R=!R)?(s.removeClass(y,"pswp__share-modal--fade-in"),setTimeout(function(){R&&a()},300)):(a(),setTimeout(function(){R||s.addClass(y,"pswp__share-modal--fade-in")},30)),!R){for(var e,t,n,o,r="",i=0;i<O.shareButtons.length;i++)e=O.shareButtons[i],t=O.getImageURLForShare(e),n=O.getPageURLForShare(e),o=O.getTextForShare(e),r+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",O.parseShareButtonOut&&(r=O.parseShareButtonOut(e,r));y.children[0].innerHTML=r,y.children[0].onclick=q}}function i(e){for(var t=0;t<O.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+O.closeElClasses[t]))return!0}function l(){clearTimeout(T),j=0,b&&L.setIdle(!1)}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(T),T=setTimeout(function(){L.setIdle(!0)},O.timeToIdleOutside))}function u(e){S!==e&&(_(x,"preloader--active",!e),S=e)}function d(e){var t,n=e.vGap;!o.likelyTouchDevice||O.mouseUsed||screen.width>O.fitControlsWidth?(t=O.barsSize,O.captionEl&&"auto"===t.bottom?(m||((m=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),p.insertBefore(m,f),s.addClass(p,"pswp__ui--fit")),O.addCaptionHTMLFn(e,m,!0)?(e=m.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function M(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){r=e[n],i=r.className;for(var o=0;o<N.length;o++)a=N[o],-1<i.indexOf("pswp__"+a.name)&&(O[a.option]?(s.removeClass(r,"pswp__element--disabled"),a.onInit&&a.onInit(r)):s.addClass(r,"pswp__element--disabled"))}}e(p.children);var r,i,a,t=s.getChildByClass(p,"pswp__top-bar");t&&e(t.children)}var h,p,f,m,t,v,y,g,b,w,x,S,E,C,O,k,P,T,L=this,A=!1,I=!0,R=!0,D={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return o.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return o.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},q=function(e){var t=(e=e||window.event).target||e.srcElement;return o.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),R||r(),1))},j=0,N=[{name:"caption",option:"captionEl",onInit:function(e){f=e}},{name:"share-modal",option:"shareEl",onInit:function(e){y=e},onTap:function(){r()}},{name:"button--share",option:"shareEl",onInit:function(e){v=e},onTap:function(){r()}},{name:"button--zoom",option:"zoomEl",onTap:o.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:o.close},{name:"button--arrow--left",option:"arrowEl",onTap:o.prev},{name:"button--arrow--right",option:"arrowEl",onTap:o.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){x=e}}];L.init=function(){var t;s.extend(o.options,D,!0),O=o.options,p=s.getChildByClass(o.scrollWrap,"pswp__ui"),(w=o.listen)("onVerticalDrag",function(e){I&&e<.95?L.hideControls():!I&&.95<=e&&L.showControls()}),w("onPinchClose",function(e){I&&e<.9?(L.hideControls(),t=!0):t&&!I&&.9<e&&L.showControls()}),w("zoomGestureEnded",function(){(t=!1)&&!I&&L.showControls()}),w("beforeChange",L.update),w("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(O.getDoubleTapZoom(!1,o.currItem),e,333)}),w("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),w("bindEvents",function(){s.bind(p,"pswpTap click",e),s.bind(o.scrollWrap,"pswpTap",L.onGlobalTap),o.likelyTouchDevice||s.bind(o.scrollWrap,"mouseover",L.onMouseOver)}),w("unbindEvents",function(){R||r(),P&&clearInterval(P),s.unbind(document,"mouseout",c),s.unbind(document,"mousemove",l),s.unbind(p,"pswpTap click",e),s.unbind(o.scrollWrap,"pswpTap",L.onGlobalTap),s.unbind(o.scrollWrap,"mouseover",L.onMouseOver),h&&(s.unbind(document,h.eventK,L.updateFullscreen),h.isFullscreen()&&(O.hideAnimationDuration=0,h.exit()),h=null)}),w("destroy",function(){O.captionEl&&(m&&p.removeChild(m),s.removeClass(f,"pswp__caption--empty")),y&&(y.children[0].onclick=null),s.removeClass(p,"pswp__ui--over-close"),s.addClass(p,"pswp__ui--hidden"),L.setIdle(!1)}),O.showAnimationDuration||s.removeClass(p,"pswp__ui--hidden"),w("initialZoomIn",function(){O.showAnimationDuration&&s.removeClass(p,"pswp__ui--hidden")}),w("initialZoomOut",function(){s.addClass(p,"pswp__ui--hidden")}),w("parseVerticalMargin",d),M(),O.shareEl&&v&&y&&(R=!0),n(),O.timeToIdle&&w("mouseUsed",function(){s.bind(document,"mousemove",l),s.bind(document,"mouseout",c),P=setInterval(function(){2===++j&&L.setIdle(!0)},O.timeToIdle/2)}),O.fullscreenEl&&!s.features.isOldAndroid&&((h=h||L.getFullscreenAPI())?(s.bind(document,h.eventK,L.updateFullscreen),L.updateFullscreen(),s.addClass(o.template,"pswp--supports-fs")):s.removeClass(o.template,"pswp--supports-fs")),O.preloaderEl&&(u(!0),w("beforeChange",function(){clearTimeout(E),E=setTimeout(function(){o.currItem&&o.currItem.loading?o.allowProgressiveImg()&&(!o.currItem.img||o.currItem.img.naturalWidth)||u(!1):u(!0)},O.loadingIndicatorDelay)}),w("imageLoadComplete",function(e,t){o.currItem===t&&u(!0)}))},L.setIdle=function(e){_(p,"ui--idle",b=e)},L.update=function(){A=!(!I||!o.currItem||(L.updateIndexIndicator(),O.captionEl&&(O.addCaptionHTMLFn(o.currItem,f),_(f,"caption--empty",!o.currItem.title)),0)),R||r(),n()},L.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,s.getScrollY())},50),s[(h.isFullscreen()?"add":"remove")+"Class"](o.template,"pswp--fs")},L.updateIndexIndicator=function(){O.counterEl&&(t.innerHTML=o.getCurrentIndex()+1+O.indexIndicatorSep+O.getNumItemsFn())},L.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!k)if(e.detail&&"mouse"===e.detail.pointerType)i(t)?o.close():s.hasClass(t,"pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?O.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(e.detail.releasePoint));else if(O.tapToToggleControls&&(I?L.hideControls():L.showControls()),O.tapToClose&&(s.hasClass(t,"pswp__img")||i(t)))return void o.close()},L.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;_(p,"ui--over-close",i(e))},L.hideControls=function(){s.addClass(p,"pswp__ui--hidden"),I=!1},L.showControls=function(){I=!0,A||L.update(),s.removeClass(p,"pswp__ui--hidden")},L.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},L.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return g=O.closeOnScroll,O.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?o.template[this.enterK]():void o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return O.closeOnScroll=g,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(h,D,t,q){var p={features:null,bind:function(e,t,n,o){var r=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var i=0;i<t.length;i++)t[i]&&e[r](t[i],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){p.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){p.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(p.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(p.features)return p.features;var e,t,n=p.createEl().style,o="",r={};r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,r.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(r.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(r.isOldAndroid=!0),r.androidVersion=t),r.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var i,a,s,l=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],u=0;u<4;u++){for(var o=c[u],d=0;d<3;d++)i=l[d],a=o+(o?i.charAt(0).toUpperCase()+i.slice(1):i),!r[i]&&a in n&&(r[i]=a);o&&!r.raf&&(o=o.toLowerCase(),r.raf=window[o+"RequestAnimationFrame"],r.raf)&&(r.caf=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"])}return r.raf||(s=0,r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),o=window.setTimeout(function(){e(t+n)},n);return s=t+n,o},r.caf=function(e){clearTimeout(e)}),r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=r}},f=(p.detectFeatures(),p.features.oldIE&&(p.bind=function(e,t,n,o){t=t.split(" ");for(var r,i=(o?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(r=t[s])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+r])return!1}else n["oldIE"+r]=a;e[i]("on"+r,n["oldIE"+r])}else e[i]("on"+r,n)}),this),F=25,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};p.extend(m,q);function e(){return{x:0,y:0}}function H(e,t){p.extend(f,t.publicMethods),We.push(e)}function U(e){var t=_();return t-1<e?e-t:e<0?t+e:e}function i(e,t){return Ze[e]||(Ze[e]=[]),Ze[e].push(t)}function z(e,t,n,o){o===f.currItem.initialZoomLevel?n[e]=f.currItem.initialPosition[e]:(n[e]=Xe(e,o),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function B(e){var t="";m.escKey&&27===e.keyCode?t="close":m.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]())}function $(e){e&&(Le||Te||g||Oe)&&(e.preventDefault(),e.stopPropagation())}function W(){f.setScrollOffset(0,p.getScrollY())}function K(e){var t;"mousedown"===e.type&&0<e.button||(Xt?e.preventDefault():ke&&"mousedown"===e.type||(It(e,!0)&&e.preventDefault(),E("pointerDown"),pe&&((t=p.arraySearch(mt,e.pointerId,"id"))<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Ft(e)).length,c=null,ct(),l&&1!==e||(l=Ne=!0,p.bind(window,ee,f),Ce=qe=Me=Oe=Ie=Le=Pe=Te=!1,je=null,E("firstTouchStart",t),P(Ue,b),He.x=He.y=0,P(I,t[0]),P(ft,I),vt.x=x.x*ze,yt=[{x:I.x,y:I.y}],Se=xe=C(),ot(y,!0),kt(),Pt()),!u&&1<e&&!g&&!Ie&&(ne=y,u=Pe=!(Te=!1),He.y=He.x=0,P(Ue,b),P(L,t[0]),P(pt,t[1]),_t(L,pt,Et),St.x=Math.abs(Et.x)-b.x,St.y=Math.abs(Et.y)-b.y,Re=Ot(L,pt))))}function G(e){var t;e.preventDefault(),pe&&-1<(t=p.arraySearch(mt,e.pointerId,"id"))&&((t=mt[t]).x=e.pageX,t.y=e.pageY),l&&(t=Ft(e),je||Le||u?c=t:R.x!==x.x*ze?je="h":(e=Math.abs(t[0].x-I.x)-Math.abs(t[0].y-I.y),Math.abs(e)>=ht&&(je=0<e?"h":"v",c=t)))}function Z(e){if(s.isOldAndroid){if(ke&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(ke),ke=setTimeout(function(){ke=0},600))}var t;E("pointerUp"),It(e,!1)&&e.preventDefault(),pe&&-1<(i=p.arraySearch(mt,e.pointerId,"id"))&&(t=mt.splice(i,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(i=Ft(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(c=null);1===n&&P(ft,i[0]),0!==n||je||g||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),E("touchRelease",e,t));var o,r,i=-1;if(0===n&&(l=!1,p.unbind(window,ee,f),kt(),u?i=0:-1!==xt&&(i=C()-xt)),xt=1===n?C():-1,e=-1!==i&&i<150?"zoom":"swipe",u&&n<2&&(u=!1,1===n&&(e="zoomPointerUp"),E("zoomGestureEnded")),c=null,Le||Te||g||Oe)if(ct(),(Ee=Ee||zt()).calculateSwipeSpeed("x"),Oe)Nt()<m.verticalDragRange?f.close():(o=b.y,r=De,ut("verticalDrag",0,1,300,p.easing.cubic.out,function(e){b.y=(f.currItem.initialPosition.y-o)*e+o,O((1-r)*e+r),k()}),E("onVerticalDrag",1));else{if((Ie||g)&&0===n){if($t(e,Ee))return;e="zoomPointerUp"}if(!g)return"swipe"!==e?void Kt():void(!Ie&&y>f.currItem.fitRatio&&Bt(Ee))}}var Y,J,Q,v,V,X,ee,te,o,y,ne,oe,re,ie,ae,a,se,le,ce,ue,de,he,pe,r,fe,me,ve,ye,ge,be,s,we,xe,Se,Ee,Ce,Oe,ke,l,Pe,Te,Le,Ae,Ie,c,u,Re,d,_e,g,je,Ne,Me,De,qe,Fe,He=e(),Ue=e(),b=e(),w={},ze=0,Be={},x=e(),S=0,$e=!0,We=[],Ke={},Ge=!1,Ze={},E=function(e){var t=Ze[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(f,n)}},C=function(){return(new Date).getTime()},O=function(e){De=e,f.bg.style.opacity=e*m.bgOpacity},Ye=function(e,t,n,o,r){(!Ge||r&&r!==f.currItem)&&(o/=(r||f.currItem).fitRatio),e[he]=oe+t+"px, "+n+"px"+re+" scale("+o+")"},k=function(e){_e&&(e&&(y>f.currItem.fitRatio?Ge||(cn(f.currItem,!1,!0),Ge=!0):Ge&&(cn(f.currItem),Ge=!1)),Ye(_e,b.x,b.y,y))},Je=function(e){e.container&&Ye(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Qe=function(e,t){t[he]=oe+e+"px, 0px"+re},Ve=function(e,t){var n;!m.loop&&t&&(t=v+(x.x*ze-e)/x.x,n=Math.round(e-R.x),t<0&&0<n||t>=_()-1&&n<0)&&(e=R.x+n*m.mainScrollEndFriction),R.x=e,Qe(e,V)},Xe=function(e,t){var n=St[e]-Be[e];return Ue[e]+He[e]+n-t/ne*n},P=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(p.unbind(document,"mousemove",nt),p.addClass(h,"pswp--has_mouse"),m.mouseUsed=!0,E("mouseUsed")),tt=setTimeout(function(){tt=null},100)},ot=function(e,t){e=sn(f.currItem,w,e);return t&&(d=e),e},rt=function(e){return(e=e||f.currItem).initialZoomLevel},it=function(e){return 0<(e=e||f.currItem).w?m.maxSpreadZoom:1},T={},at=0,st=function(e){T[e]&&(T[e].raf&&me(T[e].raf),at--,delete T[e])},lt=function(e){T[e]&&st(e),T[e]||(at++,T[e]={})},ct=function(){for(var e in T)T.hasOwnProperty(e)&&st(e)},ut=function(e,t,n,o,r,i,a){function s(){T[e]&&(l=C()-c,o<=l?(st(e),i(n),a&&a()):(i((n-t)*r(l/o)+t),T[e].raf=fe(s)))}var l,c=C();lt(e);s()},q={shout:E,listen:i,viewportSize:w,options:m,isMainScrollAnimating:function(){return g},getZoomLevel:function(){return y},getCurrentIndex:function(){return v},isDragging:function(){return l},isZooming:function(){return u},setScrollOffset:function(e,t){Be.x=e,be=Be.y=t,E("updateScrollOffset",Be)},applyZoomPan:function(e,t,n,o){b.x=t,b.y=n,y=e,k(o)},init:function(){if(!Y&&!J){f.framework=p,f.template=h,f.bg=p.getChildByClass(h,"pswp__bg"),ve=h.className,Y=!0,s=p.detectFeatures(),fe=s.raf,me=s.caf,he=s.transform,ge=s.oldIE,f.scrollWrap=p.getChildByClass(h,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),V=f.container.style,f.itemHolders=a=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],a[0].el.style.display=a[2].el.style.display="none",he?(t=s.perspective&&!r,oe="translate"+(t?"3d(":"("),re=s.perspective?", 0px)":")"):(he="left",p.addClass(h,"pswp--ie"),Qe=function(e,t){t.left=e+"px"},Je=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,o=t*e.w,t=t*e.h;n.width=o+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},k=function(){var e,t,n,o;_e&&(e=_e,n=(o=1<(t=f.currItem).fitRatio?1:t.fitRatio)*t.w,o=o*t.h,e.width=n+"px",e.height=o+"px",e.left=b.x+"px",e.top=b.y+"px")}),o={resize:f.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){w.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:W,keydown:B,click:$};var e,t=s.isOldIOSPhone||s.isOldAndroid||s.isMobileOpera;for(s.animationName&&s.transform&&!t||(m.showAnimationDuration=m.hideAnimationDuration=0),e=0;e<We.length;e++)f["init"+We[e]]();D&&(f.ui=new D(f,p)).init(),E("firstUpdate"),v=v||m.index||0,(isNaN(v)||v<0||v>=_())&&(v=0),f.currItem=en(v),(s.isOldIOSPhone||s.isOldAndroid)&&($e=!1),h.setAttribute("aria-hidden","false"),m.modal&&($e?h.style.position="fixed":(h.style.position="absolute",h.style.top=p.getScrollY()+"px")),void 0===be&&(E("initialLayout"),be=ye=p.getScrollY());var n="pswp--open ";for(m.mainClass&&(n+=m.mainClass+" "),m.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=r?"pswp--touch":"pswp--notouch")+(s.animationName?" pswp--css_animation":""))+(s.svg?" pswp--svg":""),p.addClass(h,n),f.updateSize(),X=-1,S=null,e=0;e<3;e++)Qe((e+X)*x.x,a[e].el.style);ge||p.bind(f.scrollWrap,te,f),i("initialZoomInEnd",function(){f.setContent(a[0],v-1),f.setContent(a[2],v+1),a[0].el.style.display=a[2].el.style.display="block",m.focus&&h.focus(),p.bind(document,"keydown",f),s.transform&&p.bind(f.scrollWrap,"click",f),m.mouseUsed||p.bind(document,"mousemove",nt),p.bind(window,"resize scroll orientationchange",f),E("bindEvents")}),f.setContent(a[1],v),f.updateCurrItem(),E("afterInit"),$e||(ie=setInterval(function(){at||l||u||y!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(h,"pswp--visible")}var t},close:function(){Y&&(J=!(Y=!1),E("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",o.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",nt),s.transform&&p.unbind(f.scrollWrap,"click",f),l&&p.unbind(window,ee,f),clearTimeout(we),E("unbindEvents"),tn(f.currItem,null,!0,f.destroy))},destroy:function(){E("destroy"),Jt&&clearTimeout(Jt),h.setAttribute("aria-hidden","true"),h.className=ve,ie&&clearInterval(ie),p.unbind(f.scrollWrap,te,f),p.unbind(window,"scroll",f),kt(),ct(),Ze=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),b.x=e,b.y=t,k()},handleEvent:function(e){e=e||window.event,o[e.type]&&o[e.type](e)},goTo:function(e){var t=(e=U(e))-v;S=t,v=e,f.currItem=en(v),ze-=t,Ve(x.x*ze),ct(),g=!1,f.updateCurrItem()},next:function(){f.goTo(v+1)},prev:function(){f.goTo(v-1)},updateCurrZoomItem:function(e){var t;e&&E("beforeChange",0),_e=a[1].el.children.length&&(t=a[1].el.children[0],p.hasClass(t,"pswp__zoom-wrap"))?t.style:null,d=f.currItem.bounds,ne=y=f.currItem.initialZoomLevel,b.x=d.center.x,b.y=d.center.y,e&&E("afterChange")},invalidateCurrItems:function(){ae=!0;for(var e=0;e<3;e++)a[e].item&&(a[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==S){var t,n=Math.abs(S);if(!(e&&n<2)){f.currItem=en(v),Ge=!1,E("beforeChange",S),3<=n&&(X+=S+(0<S?-3:3),n=3);for(var o=0;o<n;o++)0<S?(t=a.shift(),a[2]=t,Qe((++X+2)*x.x,t.el.style),f.setContent(t,v-n+o+1+1)):(t=a.pop(),a.unshift(t),Qe(--X*x.x,t.el.style),f.setContent(t,v+n-o-1-1));_e&&1===Math.abs(S)&&(e=en(se)).initialZoomLevel!==y&&(sn(e,w),cn(e),Je(e)),S=0,f.updateCurrZoomItem(),se=v,E("afterChange")}}},updateSize:function(e){if(!$e&&m.modal){var t=p.getScrollY();if(be!==t&&(h.style.top=t+"px",be=t),!e&&Ke.x===window.innerWidth&&Ke.y===window.innerHeight)return;Ke.x=window.innerWidth,Ke.y=window.innerHeight,h.style.height=Ke.y+"px"}if(w.x=f.scrollWrap.clientWidth,w.y=f.scrollWrap.clientHeight,W(),x.x=w.x+Math.round(w.x*m.spacing),x.y=w.y,Ve(x.x*ze),E("beforeResize"),void 0!==X){for(var n,o,r,i=0;i<3;i++)n=a[i],Qe((i+X)*x.x,n.el.style),r=v+i-1,m.loop&&2<_()&&(r=U(r)),(o=en(r))&&(ae||o.needsUpdate||!o.bounds)?(f.cleanSlide(o),f.setContent(n,r),1===i&&(f.currItem=o,f.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&0<=r&&f.setContent(n,r),o&&o.container&&(sn(o,w),cn(o),Je(o));ae=!1}ne=y=f.currItem.initialZoomLevel,(d=f.currItem.bounds)&&(b.x=d.center.x,b.y=d.center.y,k(!0)),E("resize")},zoomTo:function(t,e,n,o,r){e&&(ne=y,St.x=Math.abs(e.x)-b.x,St.y=Math.abs(e.y)-b.y,P(Ue,b));function i(e){1===e?(y=t,b.x=a.x,b.y=a.y):(y=(t-s)*e+s,b.x=(a.x-l.x)*e+l.x,b.y=(a.y-l.y)*e+l.y),r&&r(e),k(1===e)}var e=ot(t,!1),a={},s=(z("x",e,a,t),z("y",e,a,t),y),l={x:b.x,y:b.y};et(a);n?ut("customZoomTo",0,1,n,o||p.easing.sine.inOut,i):i(1)}},dt=30,ht=10,L={},pt={},A={},I={},ft={},mt=[],vt={},yt=[],gt={},bt=0,wt=e(),xt=0,R=e(),St=e(),Et=e(),Ct=function(e,t){return e.x===t.x&&e.y===t.y},Ot=function(e,t){return gt.x=Math.abs(e.x-t.x),gt.y=Math.abs(e.y-t.y),Math.sqrt(gt.x*gt.x+gt.y*gt.y)},kt=function(){Ae&&(me(Ae),Ae=null)},Pt=function(){l&&(Ae=fe(Pt),Ut())},Tt=function(){return!("fit"===m.scaleMode&&y===f.currItem.initialZoomLevel)},Lt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Lt(e.parentNode,t))},At={},It=function(e,t){return At.prevent=!Lt(e.target,m.isClickableElement),E("preventDragEvent",e,t,At),At.prevent},Rt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_t=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},jt=function(e,t,n){var o;50<e-Se&&((o=2<yt.length?yt.shift():{}).x=t,o.y=n,yt.push(o),Se=e)},Nt=function(){var e=b.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(w.y/2))},Mt={},Dt={},qt=[],Ft=function(e){for(;0<qt.length;)qt.pop();return pe?(Fe=0,mt.forEach(function(e){0===Fe?qt[0]=e:1===Fe&&(qt[1]=e),Fe++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(qt[0]=Rt(e.touches[0],Mt),1<e.touches.length)&&(qt[1]=Rt(e.touches[1],Dt)):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",qt[0]=Mt),qt},Ht=function(e,t){var n,o,r,i=b[e]+t[e],a=0<t[e],s=R.x+t.x,l=R.x-vt.x,c=i>d.min[e]||i<d.max[e]?m.panEndFriction:1,i=b[e]+t[e]*c;return!m.allowPanToNext&&y!==f.currItem.initialZoomLevel||(_e?"h"!==je||"x"!==e||Te||(a?(i>d.min[e]&&(c=m.panEndFriction,d.min[e],n=d.min[e]-Ue[e]),(n<=0||l<0)&&1<_()?(r=s,l<0&&s>vt.x&&(r=vt.x)):d.min.x!==d.max.x&&(o=i)):(i<d.max[e]&&(c=m.panEndFriction,d.max[e],n=Ue[e]-d.max[e]),(n<=0||0<l)&&1<_()?(r=s,0<l&&s<vt.x&&(r=vt.x)):d.min.x!==d.max.x&&(o=i))):r=s,"x"!==e)?void(g||Ie||y>f.currItem.fitRatio&&(b[e]+=t[e]*c)):(void 0!==r&&(Ve(r,!0),Ie=r!==vt.x),d.min.x!==d.max.x&&(void 0!==o?b.x=o:Ie||(b.x+=t.x*c)),void 0!==r)},Ut=function(){var e,t,n,o,r,i;c&&0!==(e=c.length)&&(P(L,c[0]),A.x=L.x-I.x,A.y=L.y-I.y,u&&1<e?(I.x=L.x,I.y=L.y,!A.x&&!A.y&&Ct(c[1],pt)||(P(pt,c[1]),Te||(Te=!0,E("zoomGestureStarted")),e=Ot(L,pt),(t=Wt(e))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(qe=!0),n=1,o=rt(),r=it(),t<o?m.pinchToClose&&!qe&&ne<=f.currItem.initialZoomLevel?(O(i=1-(o-t)/(o/1.2)),E("onPinchClose",i),Me=!0):t=o-(n=1<(n=(o-t)/o)?1:n)*(o/3):r<t&&(t=r+(n=1<(n=(t-r)/(6*o))?1:n)*o),n<0&&(n=0),_t(L,pt,wt),He.x+=wt.x-Et.x,He.y+=wt.y-Et.y,P(Et,wt),b.x=Xe("x",t),b.y=Xe("y",t),Ce=y<t,y=t,k())):je&&(Ne&&(Ne=!1,Math.abs(A.x)>=ht&&(A.x-=c[0].x-ft.x),Math.abs(A.y)>=ht)&&(A.y-=c[0].y-ft.y),I.x=L.x,I.y=L.y,0===A.x&&0===A.y||("v"===je&&m.closeOnVerticalDrag&&!Tt()?(He.y+=A.y,b.y+=A.y,i=Nt(),Oe=!0,E("onVerticalDrag",i),O(i),k()):(jt(C(),L.x,L.y),Le=!0,d=f.currItem.bounds,Ht("x",A)||(Ht("y",A),et(b),k())))))},zt=function(){var t,n,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<yt.length?(t=C()-Se+50,yt[yt.length-2]):(t=C()-xe,ft))[e],o.lastFlickOffset[e]=I[e]-n,o.lastFlickDist[e]=Math.abs(o.lastFlickOffset[e]),20<o.lastFlickDist[e]?o.lastFlickSpeed[e]=o.lastFlickOffset[e]/t:o.lastFlickSpeed[e]=0,Math.abs(o.lastFlickSpeed[e])<.1&&(o.lastFlickSpeed[e]=0),o.slowDownRatio[e]=.95,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){o.backAnimStarted[t]||(b[t]>d.min[t]?o.backAnimDestination[t]=d.min[t]:b[t]<d.max[t]&&(o.backAnimDestination[t]=d.max[t]),void 0!==o.backAnimDestination[t]&&(o.slowDownRatio[t]=.7,o.slowDownRatioReverse[t]=1-o.slowDownRatio[t],o.speedDecelerationRatioAbs[t]<.05)&&(o.lastFlickSpeed[t]=0,o.backAnimStarted[t]=!0,ut("bounceZoomPan"+t,b[t],o.backAnimDestination[t],e||300,p.easing.sine.out,function(e){b[t]=e,k()})))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,b[e]+=o.distanceOffset[e])},panAnimLoop:function(){T.zoomPan&&(T.zoomPan.raf=fe(o.panAnimLoop),o.now=C(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),k(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05)&&o.speedDecelerationRatioAbs.y<.05&&(b.x=Math.round(b.x),b.y=Math.round(b.y),k(),st("zoomPan"))}};return o},Bt=function(e){return e.calculateSwipeSpeed("y"),d=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=C(),void e.panAnimLoop())},$t=function(e,t){var n,o,r;g||(bt=v),"swipe"===e&&(e=I.x-ft.x,i=t.lastFlickDist.x<10,dt<e&&(i||20<t.lastFlickOffset.x)?o=-1:e<-dt&&(i||t.lastFlickOffset.x<-20)&&(o=1)),o&&((v+=o)<0?(v=m.loop?_()-1:0,r=!0):v>=_()&&(v=m.loop?0:_()-1,r=!0),r&&!m.loop||(S+=o,ze-=o,n=!0));var e=x.x*ze,i=Math.abs(e-R.x),a=n||e>R.x==0<t.lastFlickSpeed.x?(a=0<Math.abs(t.lastFlickSpeed.x)?i/Math.abs(t.lastFlickSpeed.x):333,a=Math.min(a,400),Math.max(a,250)):333;return bt===v&&(n=!1),g=!0,E("mainScrollAnimStart"),ut("mainScroll",R.x,e,a,p.easing.cubic.out,Ve,function(){ct(),g=!1,bt=-1,!n&&bt===v||f.updateCurrItem(),E("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Wt=function(e){return 1/Re*e*ne},Kt=function(){var e=y,t=rt(),n=it();y<t?e=t:n<y&&(e=n);var o,r=De;return Me&&!Ce&&!qe&&y<t?f.close():(Me&&(o=function(e){O((1-r)*e+r)}),f.zoomTo(e,0,200,p.easing.cubic.out,o)),!0};H("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,o,r){le=e+t,ce=e+n,ue=e+o,de=r?e+r:""}(pe=s.pointerEvent)&&s.touch&&(s.touch=!1),pe?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):s.touch?(e("touch","start","move","end","cancel"),r=!0):e("mouse","down","move","up"),ee=ce+" "+ue+" "+de,te=le,pe&&!r&&(r=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=r,o[le]=K,o[ce]=G,o[ue]=Z,de&&(o[de]=o[ue]),s.touch&&(te+=" mousedown",ee+=" mousemove mouseup",o.mousedown=o[le],o.mousemove=o[ce],o.mouseup=o[ue]),r||(m.allowPanToNext=!1)}}});function Gt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=p.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Zt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=m.errorMsg.replace("%url%",e.src),1)}function Yt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var Jt,Qt,Vt,Xt,en,_,tn=function(i,e,a,t){function s(){st("initialZoom"),a?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(O(1),e&&(e.style.display="block"),p.addClass(h,"pswp--animated-in"),E("initialZoom"+(a?"OutEnd":"InEnd"))),t&&t(),Xt=!1}Jt&&clearTimeout(Jt),Vt=Xt=!0,i.initialLayout?(l=i.initialLayout,i.initialLayout=null):l=m.getThumbBoundsFn&&m.getThumbBoundsFn(v);var l,c,u,d=a?m.hideAnimationDuration:m.showAnimationDuration;d&&l&&void 0!==l.x?(c=Q,u=!f.currItem.src||f.currItem.loadError||m.showHideOpacity,i.miniImg&&(i.miniImg.style.webkitBackfaceVisibility="hidden"),a||(y=l.w/i.w,b.x=l.x,b.y=l.y-ye,f[u?"template":"bg"].style.opacity=.001,k()),lt("initialZoom"),a&&!c&&p.removeClass(h,"pswp--animated-in"),u&&(a?p[(c?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){p.addClass(h,"pswp--animate_opacity")},30)),Jt=setTimeout(function(){var t,n,o,r,e;E("initialZoom"+(a?"Out":"In")),a?(t=l.w/i.w,n={x:b.x,y:b.y},o=y,r=De,e=function(e){1===e?(y=t,b.x=l.x,b.y=l.y-be):(y=(t-o)*e+o,b.x=(l.x-n.x)*e+n.x,b.y=(l.y-be-n.y)*e+n.y),k(),u?h.style.opacity=1-e:O(r-e*r)},c?ut("initialZoom",0,1,d,p.easing.cubic.out,e,s):(e(1),Jt=setTimeout(s,d+20))):(y=i.initialZoomLevel,P(b,i.initialPosition),k(),O(1),u?h.style.opacity=1:O(1),Jt=setTimeout(s,d+20))},a?25:90)):(E("initialZoom"+(a?"Out":"In")),y=i.initialZoomLevel,P(b,i.initialPosition),k(),h.style.opacity=a?0:1,O(1),d?setTimeout(function(){s()},d):s())},j={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Qt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var o=e.bounds;o.center.x=Math.round((j.x-t)/2),o.center.y=Math.round((j.y-n)/2)+e.vGap.top,o.max.x=t>j.x?Math.round(j.x-t):o.center.x,o.max.y=n>j.y?Math.round(j.y-n)+e.vGap.top:o.center.y,o.min.x=t>j.x?0:o.center.x,o.min.y=n>j.y?e.vGap.top:o.center.y},sn=function(e,t,n){var o,r;return e.src&&!e.loadError?((o=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),E("parseVerticalMargin",e)),j.x=t.x,j.y=t.y-e.vGap.top-e.vGap.bottom,o&&(t=j.x/e.w,r=j.y/e.h,e.fitRatio=t<r?t:r,"orig"===(t=m.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=rn())),n?(an(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,o,r,i){t.loadError||o&&(t.imageAppended=!0,cn(t,o,t===f.currItem&&Ge),n.appendChild(o),i)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},cn=function(e,t,n){var o;e.src&&(t=t||e.container.lastChild,o=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=n+"px"),t.style.width=o+"px",t.style.height=n+"px")};H("Controller",{publicMethods:{lazyLoadItem:function(e){e=U(e);var t=en(e);t&&(!t.loaded&&!t.loading||ae)&&(E("gettingData",e,t),t.src)&&Gt(t)},initController:function(){p.extend(m,on,!0),f.items=Qt=t,en=f.getItemAt,_=m.getNumItemsFn,m.loop,_()<3&&(m.loop=!1),i("beforeChange",function(e){for(var t=m.preload,n=null===e||0<=e,o=Math.min(t[0],_()),r=Math.min(t[1],_()),i=1;i<=(n?r:o);i++)f.lazyLoadItem(v+i);for(i=1;i<=(n?o:r);i++)f.lazyLoadItem(v-i)}),i("initialLayout",function(){f.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(v)}),i("mainScrollAnimComplete",Yt),i("initialZoomInEnd",Yt),i("destroy",function(){for(var e,t=0;t<Qt.length;t++)(e=Qt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==Qt[e]&&Qt[e]},allowProgressiveImg:function(){return m.forceProgressiveLoading||!r||m.mouseUsed||1200<screen.width},setContent:function(t,n){m.loop&&(n=U(n));var e=f.getItemAt(t.index);e&&(e.container=null);var o,r,i,e=f.getItemAt(n);e?(E("gettingData",n,e),t.index=n,r=(t.item=e).container=p.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?r.appendChild(e.html):r.innerHTML=e.html),Zt(e),sn(e,w),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((o=p.createEl("pswp__img","img")).style.opacity=1,o.src=e.src,cn(e,o),ln(n,e,r,o,!0)):(e.loadComplete=function(e){if(Y){if(t&&t.index===n){if(Zt(e,!0))return e.loadComplete=e.img=null,sn(e,w),Je(e),void(t.index===v&&f.updateCurrZoomItem());e.imageAppended?!Xt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):s.transform&&(g||Xt)?nn.push({item:e,baseDiv:r,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,r,e.img,g||Xt,!0)}e.loadComplete=null,e.img=null,E("imageLoadComplete",n,e)}},p.features.transform&&(i="pswp__img pswp__img--placeholder",i+=e.msrc?"":" pswp__img--placeholder--blank",i=p.createEl(i,e.msrc?"img":""),e.msrc&&(i.src=e.msrc),cn(e,i),r.appendChild(i),e.placeholder=i),e.loading||Gt(e),f.allowProgressiveImg()&&(!Vt&&s.transform?nn.push({item:e,baseDiv:r,img:e.img,index:n,holder:t}):ln(n,e,r,e.img,!0,!0))),Vt||n!==v?Je(e):(_e=r.style,tn(e,o||e.img)),t.el.innerHTML="",t.el.appendChild(r)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function un(e,t,n){var o=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(o)}var dn,N,hn={};H("Tap",{publicMethods:{initTap:function(){i("firstTouchStart",f.onTapStart),i("touchRelease",f.onTapRelease),i("destroy",function(){hn={},dn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(dn),dn=null)},onTapRelease:function(e,t){var n,o,r;!t||Le||Pe||at||(n=t,dn&&(clearTimeout(dn),dn=null,o=n,r=hn,Math.abs(o.x-r.x)<F)&&Math.abs(o.y-r.y)<F?E("doubleTap",n):"mouse"===t.type?un(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||p.hasClass(e.target,"pswp__single-tap")?un(e,t):(P(hn,n),dn=setTimeout(function(){un(e,t),dn=null},300)))}}}),H("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ge||(r?i("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){N={};var t="wheel mousewheel DOMMouseScroll";i("bindEvents",function(){p.bind(h,t,f.handleMouseWheel)}),i("unbindEvents",function(){N&&p.unbind(h,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function n(){f.mouseZoomedIn&&(p.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),y<1?p.addClass(h,"pswp--zoom-allowed"):p.removeClass(h,"pswp--zoom-allowed"),r()}var o,r=function(){o&&(p.removeClass(h,"pswp--dragging"),o=!1)};i("resize",n),i("afterChange",n),i("pointerDown",function(){f.mouseZoomedIn&&(o=!0,p.addClass(h,"pswp--dragging"))}),i("pointerUp",r),e||n()},handleMouseWheel:function(e){if(y<=f.currItem.fitRatio)return m.modal&&(!m.closeOnScroll||at||l?e.preventDefault():he&&2<Math.abs(e.deltaY)&&(Q=!0,f.close())),!0;if(e.stopPropagation(),N.x=0,"deltaX"in e)1===e.deltaMode?(N.x=18*e.deltaX,N.y=18*e.deltaY):(N.x=e.deltaX,N.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(N.x=-.16*e.wheelDeltaX),e.wheelDeltaY?N.y=-.16*e.wheelDeltaY:N.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;N.y=e.detail}ot(y,!0);var t=b.x-N.x,n=b.y-N.y;(m.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:w.x/2+Be.x,y:w.y/2+Be.y};var t=m.getDoubleTapZoom(!0,f.currItem),n=y===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),p[(n?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});function pn(){mn&&clearTimeout(mn),yn&&clearTimeout(yn)}function fn(){var e=kn(),t={};if(!(e.length<5)){var n,o=e.split("&");for(i=0;i<o.length;i++)!o[i]||(n=o[i].split("=")).length<2||(t[n[0]]=n[1]);if(m.galleryPIDs){for(var r=t.pid,i=t.pid=0;i<Qt.length;i++)if(Qt[i].pid===r){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var mn,vn,yn,gn,bn,wn,n,xn,Sn,En,M,Cn,On={history:!0,galleryUID:1},kn=function(){return M.hash.substring(1)},Pn=function(){var e,t;yn&&clearTimeout(yn),at||l?yn=setTimeout(Pn,500):(gn?clearTimeout(vn):gn=!0,t=v+1,(e=en(v)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+m.galleryUID+"&pid="+t,xn||-1===M.hash.indexOf(e)&&(En=!0),t=M.href.split("#")[0]+"#"+e,Cn?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?M.replace(t):M.hash=e,xn=!0,vn=setTimeout(function(){gn=!1},60))};H("History",{publicMethods:{initHistory:function(){var e,t;p.extend(m,On,!0),m.history&&(M=window.location,xn=Sn=En=!1,n=kn(),Cn="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),i("afterChange",f.updateURL),i("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),e=function(){wn=!0,Sn||(En?history.back():n?M.hash=n:Cn?history.pushState("",document.title,M.pathname+M.search):M.hash=""),pn()},i("unbindEvents",function(){Q&&e()}),i("destroy",function(){wn||e()}),i("firstUpdate",function(){v=fn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){Y&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return kn()===n?(Sn=!0,void f.close()):void(gn||(bn=!0,f.goTo(fn().pid),bn=!1))},updateURL:function(){pn(),bn||(xn?mn=setTimeout(Pn,800):Pn())}}}),p.extend(f,q)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),r=0,t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}return function(e,r){return void 0===r&&(r="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,o;-1!==e.className.split(" ").indexOf(r)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=r,(o=n.style).position="relative",o.width="100%",o.paddingTop=t+"%",(o=e.style).position="absolute",o.width="100%",o.height="100%",o.left="0",o.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(o=e.parentNode)&&o.removeChild(e),n.appendChild(e))})}}),function(){var e=document.querySelector(".gh-burger");e&&e.addEventListener("click",function(){document.body.classList.contains("is-head-open")?document.body.classList.remove("is-head-open"):document.body.classList.add("is-head-open")})}(),lightbox(".kg-image-card > .kg-image[width][height], .kg-gallery-image > img"),reframe(document.querySelectorAll(['.gh-content iframe[src*="youtube.com"]','.gh-content iframe[src*="youtube-nocookie.com"]','.gh-content iframe[src*="player.vimeo.com"]','.gh-content iframe[src*="kickstarter.com"][src*="video.html"]',".gh-content object",".gh-content embed"].join(","))),dropdown(),flyingPages(),function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";function n(l,c,u){(u=u||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[l]=function(e){var t,o,r,i,a,s;return"string"==typeof e?(t=d.call(arguments,1),r=t,a="$()."+l+'("'+(o=e)+'")',(t=this).each(function(e,t){var n,t=u.data(t,l);t?(n=t[o])&&"_"!=o.charAt(0)?(n=n.apply(t,r),i=void 0===i?n:i):h(a+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==i?i:t):(s=e,this.each(function(e,t){var n=u.data(t,l);n?(n.option(s),n._init()):(n=new c(t,s),u.data(t,l,n))}),this)},o(u))}function o(e){e&&!e.bridget&&(e.bridget=n)}var d=Array.prototype.slice,r=e.console,h=void 0===r?function(){}:function(e){r.error(e)};return o(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var o=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var i=n[r];o&&o[i]&&(this.off(e,i),delete o[i]),i.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var o=t[n]+"MatchesSelector";if(e[o])return o}}();return function(e,t){return e[n](t)}}),function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,i){var l={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,c=(l.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},l.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},l.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,i(e,t))return e},l.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.filterFindElements=function(e,o){e=l.makeArray(e);var r=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(o){i(e,o)&&r.push(e);for(var t=e.querySelectorAll(o),n=0;n<t.length;n++)r.push(t[n])}else r.push(e)}),r},l.debounceMethod=function(e,t,o){o=o||100;var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i],t=(clearTimeout(e),arguments),n=this;this[i]=setTimeout(function(){r.apply(n,t),delete n[i]},o)}},l.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},l.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return l.htmlInit=function(a,s){l.docReady(function(){var e=l.toDashed(s),o="data-"+e,t=document.querySelectorAll("["+o+"]"),e=document.querySelectorAll(".js-"+e),t=l.makeArray(t).concat(l.makeArray(e)),r=o+"-options",i=n.jQuery;t.forEach(function(t){var e,n=t.getAttribute(o)||t.getAttribute(r);try{e=n&&JSON.parse(n)}catch(e){return void(c&&c.error("Error parsing "+o+" on "+t.className+": "+e))}n=new a(t,e);i&&i.data(t,s,n)})})},l}),function(n,o){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(e,t){return o(n,e,t)}):"object"==typeof module&&module.exports?module.exports=o(n,require("ev-emitter"),require("fizzy-ui-utils")):n.InfiniteScroll=o(n,n.EvEmitter,n.fizzyUIUtils)}(window,function(t,e,r){function i(e,t){var n,o=r.getQueryElement(e);if(o)return(e=o).infiniteScrollGUID?((n=s[e.infiniteScrollGUID]).option(t),n):(this.element=e,this.options=r.extend({},i.defaults),this.option(t),a&&(this.$element=a(this.element)),void this.create());console.error("Bad element for InfiniteScroll: "+(o||e))}var a=t.jQuery,s={},n=(i.defaults={},i.create={},i.destroy={},i.prototype),o=(r.extend(n,e.prototype),0),l=(n.create=function(){var e=this.guid=++o;if(this.element.infiniteScrollGUID=e,(s[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),i.create)i.create[t].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(e){r.extend(this.options,e)},n.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},n.dispatchEvent=function(e,t,n){this.log(e,n);var o=t?[t].concat(n):n;this.emitEvent(e,o),a&&this.$element&&(o=e+=".infiniteScroll",t&&((t=a.Event(t)).type=e,o=t),this.$element.trigger(o,n))},{initialized:function(e){return"on "+e},request:function(e){return"URL: "+e},load:function(e,t){return(e.title||"")+". URL: "+t},error:function(e,t){return e+". URL: "+t},append:function(e,t,n){return n.length+" items. URL: "+t},last:function(e,t){return"URL: "+t},history:function(e,t){return"URL: "+t},pageIndex:function(e,t){return"current page determined to be: "+e+" from "+t}}),c=(n.log=function(e,t){var n;this.options.debug&&(n="[InfiniteScroll] "+e,(e=l[e])&&(n+=". "+e.apply(this,t)),console.log(n))},n.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},n.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:r.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},n.updateGetPath=function(){var e=this.options.path;if(e){var t=typeof e;if("function"!=t)return"string"==t&&e.match("{{#}}")?void this.updateGetPathTemplate(e):void this.updateGetPathSelector(e);this.getPath=e}else console.error("InfiniteScroll path option required. Set as: "+e)},n.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),e=new RegExp(e),e=location.href.match(e);e&&(this.pageIndex=parseInt(e[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]);return n.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){for(var n,o=t.getAttribute("href"),r=0;o&&r<c.length;r++){var i=o.match(c[r]);if(i){n=i.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var e=this.pageIndex+1;return n[0]+e+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+o)}console.error("Bad InfiniteScroll path option. Next link not found: "+e)},n.updateGetAbsolutePath=function(){var e,t,n=this.getPath();n.match(/^http/)||n.match(/^\//)?this.getAbsolutePath=this.getPath:(e=location.pathname,n.match(/^\?/)?this.getAbsolutePath=function(){return e+this.getPath()}:(t=e.substring(0,e.lastIndexOf("/")),this.getAbsolutePath=function(){return t+"/"+this.getPath()}))},i.create.hideNav=function(){var e=r.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},i.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var e in this.allOff(),i.destroy)i.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete s[this.guid],a&&this.$element&&a.removeData(this.element,"infiniteScroll")},i.throttle=function(o,r){var i,a;return r=r||200,function(){var e=+new Date,t=arguments,n=function(){i=e,o.apply(this,t)}.bind(this);i&&e<i+r?(clearTimeout(a),a=setTimeout(n,r)):n()}},i.data=function(e){e=(e=r.getQueryElement(e))&&e.infiniteScrollGUID;return e&&s[e]},i.setJQuery=function(e){a=e},r.htmlInit(i,"infinite-scroll"),n._init=function(){},a&&a.bridget&&a.bridget("infiniteScroll",i),i}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("./core")):n(t,t.InfiniteScroll)}(window,function(o,r){function d(e){for(var t=document.createDocumentFragment(),n=0;e&&n<e.length;n++)t.appendChild(e[n]);return t}var e=r.prototype;return r.defaults.loadOnScroll=!0,r.defaults.checkLastPage=!0,r.defaults.responseType="document",r.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},e.loadNextPage=function(){var t,e,n,o,r,i,a,s,l,c;!this.isLoading&&this.canLoad&&(t=this.getAbsolutePath(),this.isLoading=!0,e=function(e){this.onPageLoad(e,t)}.bind(this),n=function(e){this.onPageError(e,t)}.bind(this),o=function(e){this.lastPageReached(e,t)}.bind(this),r=t,i=this.options.responseType,a=e,s=n,l=o,(c=new XMLHttpRequest).open("GET",r,!0),c.responseType=i||"",c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onload=function(){var e;200==c.status?a(c.response):204==c.status?l(c.response):(e=new Error(c.statusText),s(e))},c.onerror=function(){var e=new Error("Network error requesting "+r);s(e)},c.send(),this.dispatchEvent("request",null,[t]))},e.onPageLoad=function(e,t){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t]),this.appendNextPage(e,t),e},e.appendNextPage=function(e,t){var n,o,r=this.options.append;"document"==this.options.responseType&&r&&(n=e.querySelectorAll(r),o=d(n),r=function(){this.appendItems(n,o),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,n])}.bind(this),this.options.outlayer?this.appendOutlayerItems(o,r):r())},e.appendItems=function(e,t){if(e&&e.length){for(var n=(t=t||d(e)).querySelectorAll("script"),o=0;o<n.length;o++){for(var r=n[o],i=document.createElement("script"),a=(u=c=l=s=a=void 0,r),s=i,l=a.attributes,c=0;c<l.length;c++){var u=l[c];s.setAttribute(u.name,u.value)}i.innerHTML=r.innerHTML,r.parentNode.replaceChild(i,r)}this.element.appendChild(t)}},e.appendOutlayerItems=function(e,t){var n=r.imagesLoaded||o.imagesLoaded;return n?void n(e,t):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},e.onAppendOutlayer=function(e,t,n){this.options.outlayer.appended(n)},e.checkLastPage=function(e,t){var n=this.options.checkLastPage;if(n){var o,r=this.options.path;if("function"==typeof r)if(!this.getPath())return void this.lastPageReached(e,t);"string"==typeof n?o=n:this.isPathSelector&&(o=r),o&&e.querySelector&&(e.querySelector(o)||this.lastPageReached(e,t))}},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t]),e},r.create.prefill=function(){var e;this.options.prefill&&((e=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e))},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},r}),function(n,o){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(e,t){return o(n,e,t)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./core"),require("fizzy-ui-utils")):o(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var o=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;!e&&0!==e||this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},o.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},o.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},o.bindScrollWatchEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),t[e]("resize",this.resizeHandler)},o.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),o.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},o.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},o.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},o.onResize=function(){this.updateMeasurements()},n.debounceMethod(e,"onResize",150),e}),function(n,o){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(e,t){return o(n,e,t)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./core"),require("fizzy-ui-utils")):o(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var o=e.prototype,r=(e.defaults.history="replace",document.createElement("a"));return e.create.history=function(){if(this.options.history)return r.href=this.getAbsolutePath(),(r.origin||r.protocol+"//"+r.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+r.origin+" on "+location.origin+" . History behavior disabled.")},o.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},o.bindHistoryAppendEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),t[e]("unload",this.unloadHandler)},o.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=o.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},o.onAppendHistory=function(e,t,n){n&&n.length&&(n=n[0],n=this.getElementScrollY(n),r.href=t,this.scrollPages.push({top:n,path:r.href,title:e.title}))},o.getElementScrollY=function(e){return this.options.elementScroll?this.getElementElementScrollY(e):this.getElementWindowScrollY(e)},o.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},o.getElementElementScrollY=function(e){return e.offsetTop-this.top},o.onScrollHistory=function(){for(var e,t,n=this.getScrollViewY(),o=0;o<this.scrollPages.length;o++){var r=this.scrollPages[o];if(r.top>=n)break;e=o,t=r}e!=this.scrollPageIndex&&(this.scrollPageIndex=e,this.setHistory(t.title,t.path))},n.debounceMethod(e,"onScrollHistory",150),o.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},o.setHistory=function(e,t){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},o.onUnload=function(){var e=this.scrollPageIndex;0!==e&&(e=this.scrollPages[e],e=t.pageYOffset-e.top+this.top,this.destroyHistory(),scrollTo(0,e))},o.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function o(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}return t.create.button=function(){var e=n.getQueryElement(this.options.button);e&&(this.button=new o(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},o.prototype.onClick=function(e){e.preventDefault(),this.infScroll.loadNextPage()},o.prototype.enable=function(){this.element.removeAttribute("disabled")},o.prototype.disable=function(){this.element.disabled="disabled"},o.prototype.hide=function(){this.element.style.display="none"},o.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},t.Button=o,t}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function o(e){i(e,"none")}function r(e){i(e,"block")}function i(e,t){e&&(e.style.display=t)}var a=t.prototype;return t.create.status=function(){var e=n.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},a.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},a.showRequestStatus=function(){this.showStatus("request")},a.showErrorStatus=function(){this.showStatus("error")},a.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},a.showStatus=function(e){r(this.statusElement),this.hideStatusEventElements(),r(this.statusEventElements[e])},a.hideAllStatus=function(){o(this.statusElement),this.hideStatusEventElements()},a.hideStatusEventElements=function(){for(var e in this.statusEventElements)o(this.statusEventElements[e])},t}),function(e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(e){return e})),function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,n){var o,r;return this instanceof a?(o="string"==typeof(o=e)?document.querySelectorAll(e):o)?(this.elements=(r=o,Array.isArray(r)?r:"object"==typeof r&&"number"==typeof r.length?c.call(r):[r]),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(o||e)):new a(e,t,n)}function n(e){this.img=e}function o(e,t){this.url=e,this.element=t,this.img=new Image}var s=t.jQuery,l=t.console,c=Array.prototype.slice,u=((a.prototype=Object.create(e.prototype)).options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var n=e.querySelectorAll("img"),o=0;o<n.length;o++){var r=n[o];this.addImage(r)}if("string"==typeof this.options.background)for(var i=e.querySelectorAll(this.options.background),o=0;o<i.length;o++){var a=i[o];this.addElementBackgroundImages(a)}}},{1:!0,9:!0,11:!0});return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,o=n.exec(t.backgroundImage);null!==o;){var r=o&&o[2];r&&this.addBackground(r,e),o=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){e=new n(e);this.images.push(e)},a.prototype.addBackground=function(e,t){e=new o(e,t);this.images.push(e)},a.prototype.check=function(){function t(e,t,n){setTimeout(function(){o.progress(e,t,n)})}var o=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(o.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(s(this))})})(),a}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".pagination-section a")&&new InfiniteScroll(".loop-section",{path:".pagination-section a",append:".loop-wrap",button:".pagination-section button",hideNav:".pagination-section a",history:!1,scrollThreshold:!1}).on("append",function(e,t,n){for(var o=0;o<n.length;o++){s=a=i=r=void 0;for(var r=n[o],i=r.querySelectorAll("img[srcset]"),a=0;a<i.length;a++){var s=i[a];s.outerHTML=s.outerHTML}}})});const html=document.documentElement,removeAccents=(document.addEventListener("DOMContentLoaded",function(){const e=window.matchMedia("(prefers-color-scheme: dark)");function t(){e.matches?html.classList.add("dark"):html.classList.remove("dark")}t(),e.addEventListener("change",t),darkMode()}),pagination(!0),!function(){if(document.body.classList.contains("post-template")){const e=document.querySelector(".gh-cover");if(e){const t=e.querySelector(".gh-cover-image");window.addEventListener("load",function(){e.style.setProperty("--cover-height",t.clientWidth*t.naturalHeight/t.naturalWidth+"px"),e.classList.remove("loading")})}}}(),e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""));function darkMode(){var e=document.querySelector(".it-dark-light");e&&e.addEventListener("click",function(){html.classList.contains("dark")?html.classList.remove("dark"):html.classList.add("dark")})}const readingProgress=(e,t)=>{const n=document.querySelector(e),o=document.querySelector(t),r=()=>{var e=n.getBoundingClientRect(),t=window.innerHeight/2;Math.round(o.max-o.value),e.top>t&&(o.value=0),e.top<t&&(o.value=o.max),e.top<=t&&e.bottom>=t&&(o.value=o.max*Math.abs(e.top-t)/e.height),window.addEventListener("scroll",r)};window.addEventListener("scroll",r)};var e,t;document.querySelector(".post-progress")&&readingProgress(".post-content",".post-progress"),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return o={352:e=>{function t(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function v(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t(Object(r),!0).forEach(function(e){var t,n;t=o,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";var i,u={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",background:"var(--bg-color-80, rgba(255, 255, 255, .98))",zIndex:1e6,beforeShow:void 0,afterShow:void 0,beforeHide:void 0,afterHide:void 0},d={};function a(e){var t=d[e];if(t){if("function"!=typeof t)throw"config.".concat(e," must be a function!");Reflect.apply(t,d,[d])}}function s(t){t.src&&!t.classList.contains("lightense-target")&&(t.classList.add("lightense-target"),t.addEventListener("click",function(e){if(d.keyboard&&(e.metaKey||e.ctrlKey))return window.open(t.src,"_blank");var n,o,r;e=this,d.target=e,d.target.classList.contains("lightense-open")?p():(a("beforeShow"),d.scrollY=window.scrollY,n=d.target,o="transitionend",r=function(){a("afterShow")},n.addEventListener(o,function e(t){Reflect.apply(r,this,t),n.removeEventListener(o,e)}),(e=new Image).onload=function(){var e,t,n,o,r,i,a,s,l,c;t=(e=this).width,e=e.height,n=window.pageYOffset||document.documentElement.scrollTop||0,o=window.pageXOffset||document.documentElement.scrollLeft||0,r=d.target.getBoundingClientRect(),i=t/r.width,a=window.innerWidth||document.documentElement.clientWidth||0,s=window.innerHeight||document.documentElement.clientHeight||0,l=d.target.getAttribute("data-lightense-padding")||d.target.getAttribute("data-padding")||d.padding,c=l<a?a-l:a-u.padding,l=l<s?s-l:s-u.padding,d.scaleFactor=t<c&&e<l?i:t/e<c/l?l/e*i:c/t*i,l=a/2,e=n+s/2,c=r.left+o+r.width/2,t=r.top+n+r.height/2,d.translateX=Math.round(l-c),d.translateY=Math.round(e-t),d.target.classList.add("lightense-open"),d.wrap=document.createElement("div"),d.wrap.className="lightense-wrap",setTimeout(function(){d.target.style.transform="scale("+d.scaleFactor+")"},20),d.target.parentNode.insertBefore(d.wrap,d.target),d.wrap.appendChild(d.target),setTimeout(function(){d.wrap.style.transform="translate3d("+d.translateX+"px, "+d.translateY+"px, 0)"},20),i={cubicBezier:d.target.getAttribute("data-lightense-cubic-bezier")||d.cubicBezier,background:d.target.getAttribute("data-lightense-background")||d.target.getAttribute("data-background")||d.background,zIndex:d.target.getAttribute("data-lightense-z-index")||d.zIndex},i=v(v({},d),i),h("lightense-images-css-computed","\n    :root {\n      --lightense-z-index: ".concat(i.zIndex-1,";\n      --lightense-backdrop: ").concat(i.background,";\n      --lightense-duration: ").concat(i.time,"ms;\n      --lightense-timing-func: ").concat(i.cubicBezier,";\n    }")),d.container.style.visibility="visible",setTimeout(function(){d.container.style.opacity="1"},20),window.addEventListener("keyup",m,!1),window.addEventListener("scroll",f,!1),d.container.addEventListener("click",p,!1)},e.src=d.target.src)},!1))}function h(e,t){var n=document.head||document.getElementsByTagName("head")[0],o=(document.getElementById(e)&&document.getElementById(e).remove(),document.createElement("style"));o.id=e,o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),n.appendChild(o)}function p(){a("beforeHide"),window.removeEventListener("keyup",m,!1),window.removeEventListener("scroll",f,!1),d.container.removeEventListener("click",p,!1),d.target.classList.remove("lightense-open"),d.wrap.style.transform="",d.target.style.transform="",d.target.classList.add("lightense-transitioning"),d.container.style.opacity="",setTimeout(function(){a("afterHide"),d.container.style.visibility="",d.container.style.backgroundColor="",d.wrap.parentNode.replaceChild(d.target,d.wrap),d.target.classList.remove("lightense-transitioning")},d.time)}function f(){Math.abs(d.scrollY-window.scrollY)>=d.offset&&p()}function m(e){e.preventDefault(),27===e.keyCode&&p()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(i=function(e){switch(l(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}(e),d=v(v({},u),t),h("lightense-images-css","\n:root {\n  --lightense-z-index: ".concat(d.zIndex-1,";\n  --lightense-backdrop: ").concat(d.background,";\n  --lightense-duration: ").concat(d.time,"ms;\n  --lightense-timing-func: ").concat(d.cubicBezier,";\n}\n\n.lightense-backdrop {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: calc(var(--lightense-z-index) - 1);\n  padding: 0;\n  margin: 0;\n  transition: opacity var(--lightense-duration) ease;\n  cursor: zoom-out;\n  opacity: 0;\n  background-color: var(--lightense-backdrop);\n  visibility: hidden;\n}\n\n@supports (-webkit-backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    -webkit-backdrop-filter: blur(30px);\n  }\n}\n\n@supports (backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    backdrop-filter: blur(30px);\n  }\n}\n\n.lightense-wrap {\n  position: relative;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  z-index: var(--lightense-z-index);\n  pointer-events: none;\n}\n\n.lightense-target {\n  cursor: zoom-in;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  pointer-events: auto;\n}\n\n.lightense-open {\n  cursor: zoom-out;\n}\n\n.lightense-transitioning {\n  pointer-events: none;\n}")),null===document.querySelector(".lightense-backdrop")?(d.container=document.createElement("div"),d.container.className="lightense-backdrop",document.body.appendChild(d.container)):d.container=document.querySelector(".lightense-backdrop"),i),o=n.length;if(o)for(var r=0;r<o;r++)s(n[r]);else s(n)}}();e.exports=n}},r={},function e(t){var n=r[t];return void 0!==n||(n=r[t]={exports:{}},o[t](n,n.exports,e)),n.exports}(352);var o,r}),window.addEventListener("load",function(){var e=document.querySelector(".post-content .kg-card img"),t=document.querySelectorAll(".post-content .kg-image-card a img");if(t)for(var n=0;n<t.length;n++)t[n].classList.add("no-lightense");e&&Lightense(".post-content .kg-image-card img:not(.no-lightense),.post-content .kg-gallery-card img:not(.no-lightense)",{padding:60,offset:0})},!1),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).reframe=t()}(this,function(){"use strict";return function(e,t){var n="string"==typeof e?document.querySelectorAll(e):e,o=t||"js-reframe";"length"in n||(n=[n]);for(var r=0;r<n.length;r+=1){var i,a,s,l=n[r];-1===l.className.split(" ").indexOf(o)&&(i=l.getAttribute("height"),-1<(a=l.getAttribute("width")).indexOf("%")||-1<l.style.width.indexOf("%")||(i=(i||l.offsetHeight)/(a||l.offsetWidth)*100,(a=document.createElement("div")).className=o,(s=a.style).position="relative",s.width="100%",s.paddingTop=i+"%",(s=l.style).position="absolute",s.width="100%",s.height="100%",s.left="0",s.top="0",l.parentNode.insertBefore(a,l),l.parentNode.removeChild(l),a.appendChild(l)))}}}),reframe(".post-content iframe:not(.reframe-off)"),e=this,t=function(){"use strict";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function e(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}function t(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function r(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t(Object(r),!0).forEach(function(e){var t,n;t=o,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){var t;if(e)return"string"==typeof e?n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function m(e){return"string"==typeof e}function v(e){return"number"==typeof e}function y(e){return null!=e}function c(e){return!e.trim().length}function g(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var a=Object.prototype.hasOwnProperty,i=(e(s,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),s);function s(e){var t=this,n=(p(this,s),this._keys=[],this._keyMap={},0);e.forEach(function(e){e=l(e);n+=e.weight,t._keys.push(e),t._keyMap[e.id]=e,n+=e.weight}),this._keys.forEach(function(e){e.weight/=n})}function l(e){var t=null,n=null,o=null,r=1;if(m(e)||h(e))o=e,t=u(e),n=b(e);else{if(!a.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var i=e.name,o=i;if(a.call(e,"weight")&&(r=e.weight)<=0)throw new Error("Property 'weight' in key '".concat(i,"' must be a positive integer"));t=u(i),n=b(i)}return{path:t,id:n,weight:r,src:o}}function u(e){return h(e)?e:e.split(".")}function b(e){return h(e)?e.join("."):e}var j=r({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var c=[],u=!1;return function e(t,n,o){if(y(t))if(n[o]){var r=t[n[o]];if(y(r))if(o===n.length-1&&(m(r)||v(r)||!0===(s=r)||!1===s||"object"===d(l=s)&&null!==l&&"[object Boolean]"==g(s)))c.push(null==(l=r)?"":"string"==typeof l?l:"0"==(s=l+"")&&1/l==-1/0?"-0":s);else if(h(r)){u=!0;for(var i=0,a=r.length;i<a;i+=1)e(r[i],n,o+1)}else n.length&&e(r,n,o+1)}else c.push(t);var s,l}(e,m(t)?t.split("."):t,0),u?c:c[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),w=/[^ ]+/g;e(S,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(function(e,t){n._keysMap[e.id]=t})}},{key:"create",value:function(){var n=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach(function(e,t){n._addString(e,t)}):this.docs.forEach(function(e,t){n._addObject(e,t)}),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();m(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)--this.records[t].i}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){y(e)&&!c(e)&&(t={v:e,i:t,n:this.norm.get(e)},this.records.push(t))}},{key:"_addObject",value:function(a,e){var s=this,l={i:e,$:{}};this.keys.forEach(function(e,t){var e=s.getFn(a,e.path);if(y(e))if(h(e)){for(var n=[],o=[{nestedArrIndex:-1,value:e}];o.length;){var r=o.pop(),i=r.nestedArrIndex,r=r.value;y(r)&&(m(r)&&!c(r)?(i={v:r,i:i,n:s.norm.get(r)},n.push(i)):h(r)&&r.forEach(function(e,t){o.push({nestedArrIndex:t,value:e})}))}l.$[t]=n}else c(e)||(e={v:e,n:s.norm.get(e)},l.$[t]=e)}),this.records.push(l)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);var x=S;function S(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn,e=void 0===e?j.getFn:e;p(this,S),this.norm=function(e){var e=0<arguments.length&&void 0!==e?e:3,n=new Map,o=Math.pow(10,e);return{get:function(e){var t,e=e.match(w).length;return n.has(e)?n.get(e):(t=1/Math.sqrt(e),t=parseFloat(Math.round(t*o)/o),n.set(e,t),t)},clear:function(){n.clear()}}}(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}function E(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn,n=void 0===n?j.getFn:n,n=new x({getFn:n});return n.setKeys(e.map(l)),n.setSources(t),n.create(),n}function N(e,t){var t=1<arguments.length&&void 0!==t?t:{},n=t.errors,o=t.currentLocation,r=t.expectedLocation,i=t.distance,i=void 0===i?j.distance:i,t=t.ignoreLocation,t=void 0===t?j.ignoreLocation:t,n=(void 0===n?0:n)/e.length;return t?n:(e=Math.abs((void 0===r?0:r)-(void 0===o?0:o)),i?n+e/i:e?1:n)}e(k,[{key:"searchIn",value:function(o){var r,i,a,s,l,c,u,d,h,e=this.options,t=e.isCaseSensitive,p=e.includeMatches;return t||(o=o.toLowerCase()),this.pattern===o?(e={isMatch:!0,score:0},p&&(e.indices=[[0,o.length-1]])):(t=this.options,r=t.location,i=t.distance,a=t.threshold,s=t.findAllMatches,l=t.minMatchCharLength,c=t.ignoreLocation,d=0,h=!(u=[]),this.chunks.forEach(function(e){var t=e.pattern,n=e.alphabet,e=e.startIndex,t=function(e,t,n,o){var o=3<arguments.length&&void 0!==o?o:{},r=o.location,r=void 0===r?j.location:r,i=o.distance,a=void 0===i?j.distance:i,i=o.threshold,i=void 0===i?j.threshold:i,s=o.findAllMatches,l=void 0===s?j.findAllMatches:s,s=o.minMatchCharLength,s=void 0===s?j.minMatchCharLength:s,c=o.includeMatches,c=void 0===c?j.includeMatches:c,o=o.ignoreLocation,u=void 0===o?j.ignoreLocation:o;if(32<t.length)throw new Error("Pattern length exceeds max of ".concat(32,"."));for(var d,h=t.length,p=e.length,f=Math.max(0,Math.min(r,p)),m=i,v=f,y=1<s||c,g=y?Array(p):[];-1<(d=e.indexOf(t,v));){var b=N(t,{currentLocation:d,expectedLocation:f,distance:a,ignoreLocation:u}),m=Math.min(b,m),v=d+h;if(y)for(var w=0;w<h;)w+=g[d+w]=1}v=-1;for(var x=[],S=1,E=h+p,C=1<<h-1,O=0;O<h;O+=1){for(var k=0,P=E;k<P;)N(t,{errors:O,currentLocation:f+P,expectedLocation:f,distance:a,ignoreLocation:u})<=m?k=P:E=P,P=Math.floor((E-k)/2+k);var E=P,T=Math.max(1,f-P+1),L=l?p:Math.min(f+P,p)+h,A=Array(L+2);A[L+1]=(1<<O)-1;for(var I=L;T<=I;--I){var R=I-1,_=n[e.charAt(R)];if(y&&(g[R]=+!!_),A[I]=(A[I+1]<<1|1)&_,O&&(A[I]|=(x[I+1]|x[I])<<1|1|x[I+1]),A[I]&C&&(S=N(t,{errors:O,currentLocation:R,expectedLocation:f,distance:a,ignoreLocation:u}))<=m){if(m=S,(v=R)<=f)break;T=Math.max(1,2*f-v)}}if(m<N(t,{errors:O+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:u}))break;x=A}o={isMatch:0<=v,score:Math.max(.001,S)};return y&&((r=function(e,t){for(var n=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length&&void 0!==t?t:j.minMatchCharLength,r=[],i=-1,a=0,s=n.length;a<s;a+=1){var l=n[a];l&&-1===i?i=a:l||-1===i||((l=a-1)-i+1>=o&&r.push([i,l]),i=-1)}return n[a-1]&&o<=a-i&&r.push([i,a-1]),r}(g,s)).length?c&&(o.indices=r):o.isMatch=!1),o}(o,t,n,{location:r+e,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:p,ignoreLocation:c}),n=t.isMatch,e=t.score,t=t.indices;n&&(h=!0),d+=e,n&&t&&(u=[].concat(f(u),f(t)))}),e={isMatch:h,score:h?d/this.chunks.length:1},h&&p&&(e.indices=u)),e}}]);var C=k,O=[];function k(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.location,o=void 0===o?j.location:o,r=t.threshold,r=void 0===r?j.threshold:r,i=t.distance,i=void 0===i?j.distance:i,a=t.includeMatches,a=void 0===a?j.includeMatches:a,s=t.findAllMatches,s=void 0===s?j.findAllMatches:s,l=t.minMatchCharLength,l=void 0===l?j.minMatchCharLength:l,c=t.isCaseSensitive,c=void 0===c?j.isCaseSensitive:c,t=t.ignoreLocation,t=void 0===t?j.ignoreLocation:t;if(p(this,k),this.options={location:o,threshold:r,distance:i,includeMatches:a,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:t},this.pattern=c?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var u=function(e,t){n.chunks.push({pattern:e,alphabet:function(e){for(var t={},n=0,o=e.length;n<o;n+=1){var r=e.charAt(n);t[r]=(t[r]||0)|1<<o-n-1}return t}(e),startIndex:t})},o=this.pattern.length;if(32<o){for(var d=0,r=o%32,h=o-r;d<h;)u(this.pattern.substr(d,32),d),d+=32;r&&u(this.pattern.substr(i=o-32),i)}else u(this.pattern,0)}}function P(e,t){for(var n=0,o=O.length;n<o;n+=1){var r=O[n];if(r.condition(e,t))return new r(e,t)}return new C(e,t)}function T(e,n){e=e.matches;n.matches=[],y(e)&&e.forEach(function(e){var t;y(e.indices)&&e.indices.length&&(t={indices:e.indices,value:e.value},e.key&&(t.key=e.key.src),-1<e.idx&&(t.refIndex=e.idx),n.matches.push(t))})}function L(e,t){t.score=e.score}e(I,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof x))throw new Error("Incorrect 'index' type");this._myIndex=t||E(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){y(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,o=this._docs.length;n<o;n+=1){var r=this._docs[n];e(r,n)&&(this.removeAt(n),--n,--o,t.push(r))}}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t,r,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===n?-1:n,o=this.options,i=o.includeMatches,a=o.includeScore,s=o.shouldSort,l=o.sortFn,o=o.ignoreFieldNorm,e=m(e)?m(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return t=e,r=void 0===(o=(o={ignoreFieldNorm:o}).ignoreFieldNorm)?j.ignoreFieldNorm:o,t.forEach(function(e){var o=1;e.matches.forEach(function(e){var t=e.key,n=e.norm,e=e.score,t=t?t.weight:null;o*=Math.pow(0===e&&t?Number.EPSILON:e,(t||1)*(r?1:n))}),e.score=o}),s&&e.sort(l),function(e,o,t){var t=2<arguments.length&&void 0!==t?t:{},n=void 0===(n=t.includeMatches)?j.includeMatches:n,t=t.includeScore,t=void 0===t?j.includeScore:t,r=[];return n&&r.push(T),t&&r.push(L),e.map(function(t){var e=t.idx,n={item:o[e],refIndex:e};return r.length&&r.forEach(function(e){e(t,n)}),n})}(e=v(n)&&-1<n?e.slice(0,n):e,this._docs,{includeMatches:i,includeScore:a})}},{key:"_searchStringList",value:function(e){var a=P(e,this.options),e=this._myIndex.records,s=[];return e.forEach(function(e){var t,n,o,r=e.v,i=e.i,e=e.n;y(r)&&(t=(o=a.searchIn(r)).isMatch,n=o.score,o=o.indices,t)&&s.push({item:r,idx:i,matches:[{score:n,value:r,norm:e,indices:o}]})}),s}},{key:"_searchLogical",value:function(e){throw new Error("Logical search is not available")}},{key:"_searchObjectList",value:function(e){var r=this,i=P(e,this.options),e=this._myIndex,t=e.keys,e=e.records,a=[];return e.forEach(function(e){var n,o=e.$,e=e.i;y(o)&&(n=[],t.forEach(function(e,t){n.push.apply(n,f(r._findMatches({key:e,value:o[t],searcher:i})))}),n.length)&&a.push({idx:e,item:o,matches:n})}),a}},{key:"_findMatches",value:function(e){var a,t,n,o,s=e.key,r=e.value,l=e.searcher;return y(r)?(a=[],h(r)?r.forEach(function(e){var t,n,o,r=e.v,i=e.i,e=e.n;y(r)&&(t=(o=l.searchIn(r)).isMatch,n=o.score,o=o.indices,t)&&a.push({score:n,key:s,value:r,idx:i,norm:e,indices:o})}):(e=r.v,r=r.n,t=(o=l.searchIn(e)).isMatch,n=o.score,o=o.indices,t&&a.push({score:n,key:s,value:e,norm:r,indices:o})),a):[]}}]);var A=I;function I(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(p(this,I),this.options=r({},j,{},t),this.options.useExtendedSearch)throw new Error("Extended search is not available");this._keyStore=new i(this.options.keys),this.setCollection(e,n)}return A.version="6.4.6",A.createIndex=E,A.parseIndex=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,t=void 0===t?j.getFn:t,n=e.keys,e=e.records,t=new x({getFn:t});return t.setKeys(n),t.setIndexRecords(e),t},A.config=j,A},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t(),document.addEventListener("DOMContentLoaded",function(){!function(o){"use strict";const e=document.body,n=document.querySelector(".search-section"),t=document.querySelectorAll(".search-open"),r=document.querySelector(".search-close"),i=document.querySelector(".search-input"),a=document.querySelector(".search-info"),s=document.querySelector(".search-counter"),l=document.querySelector(".search-results"),c=document.querySelector(".search-counter-results"),u=document.querySelector(".search-overlay");function d(){e.classList.remove("search-is-active"),e.classList.add("search-no-active"),i.value="",l.innerHTML="",s.classList.add("is-hide"),a.classList.remove("is-hide"),window.scrollTo(0,0)}var h;n&&(e.addEventListener("keyup",function(e){27==e.keyCode&&d()}),r.addEventListener("click",d),u.addEventListener("click",d),t.forEach(function(t){t.addEventListener("click",function(){e.classList.add("search-is-active"),e.classList.remove("search-no-active"),n.style.display="block",i.focus()}),t.addEventListener("click",function(){var e,n;!1===h&&(e=options.api,(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){var e,t;200<=n.status&&n.status<400&&(n.response,e=JSON.parse(n.responseText),t=new Fuse(e.posts,options),i.onkeyup=function(e){c.innerHTML="",l.innerHTML="",2<this.value.length&&(a.classList.add("is-hide"),s.classList.remove("is-hide")),this.value.length<3&&(a.classList.remove("is-hide"),s.classList.add("is-hide")),this.value.length<=2||(e=t.search(e.target.value,{limit:options.limit}),c.innerHTML=e.length,e.map(function(e){var t,n=new Date(e.item.published_at).toLocaleDateString(document.documentElement.lang,{year:"numeric",month:"long",day:"numeric"}),o=document.createElement("time"),r=document.createElement("h5"),i=document.createElement("span"),a=document.createElement("a");!0===options.images&&(t=document.createElement("img"),null!==e.item.feature_image)&&(t.setAttribute("src",e.item.feature_image),a.appendChild(t)),o.textContent=o.innerHTML+=n,i.textContent=e.item.title,a.setAttribute("href",e.item.url),r.appendChild(i),l.appendChild(a),a.appendChild(r),a.appendChild(o)}))})},n.send(),t.removeEventListener("click",o)),h=!0})}),h=!1)}(window)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function t(e,o,r){var t,n,i,a,s,l,c,u=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),d=!1,h=(n=e)&&n.document&&9===n.document.nodeType?(s=(a=n).document,l=s.body,c=s.documentElement,{scrollHeight:function(){return Math.max(l.scrollHeight,c.scrollHeight,l.offsetHeight,c.offsetHeight,l.clientHeight,c.clientHeight)},height:function(){return a.innerHeight||c.clientHeight||l.clientHeight},scrollY:function(){return void 0!==a.pageYOffset?a.pageYOffset:(c||l.parentNode||l).scrollTop}}):(i=n,{scrollHeight:function(){return Math.max(i.scrollHeight,i.offsetHeight,i.clientHeight)},height:function(){return Math.max(i.offsetHeight,i.clientHeight)},scrollY:function(){return i.scrollTop}}),p=h.scrollY(),f={};function m(){var e=Math.round(h.scrollY()),t=h.height(),n=h.scrollHeight();f.scrollY=e,f.lastScrollY=p,f.direction=p<e?"down":"up",f.distance=Math.abs(e-p),f.isOutOfBounds=e<0||n<e+t,f.top=e<=o.offset[f.direction],f.bottom=n<=e+t,f.toleranceExceeded=f.distance>o.tolerance[f.direction],r(f),p=e,d=!1}function v(){d||(d=!0,t=requestAnimationFrame(m))}var y=!!u&&{passive:!0,capture:!1};return e.addEventListener("scroll",v,y),m(),{destroy:function(){cancelAnimationFrame(t),e.removeEventListener("scroll",v,y)}}}function n(e){return e===Object(e)?e:{down:e,up:e}}function o(e,t){t=t||{},Object.assign(this,o.options,t),this.classes=Object.assign({},o.options.classes,t.classes),this.elem=e,this.tolerance=n(this.tolerance),this.offset=n(this.offset),this.initialised=!1,this.frozen=!1}return o.prototype={constructor:o,init:function(){return o.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin)&&this.onPin.call(this)},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},o.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},o.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),o}),(()=>{var n={163:e=>{e.exports=function(s){var l,c=[].forEach,u=[].some,d=document.body,h=!0,p=" ";function a(e){var t=s.orderedList?"ol":"ul",t=document.createElement(t),n=s.listClass+p+s.extraListClasses;return e&&(n=(n+=p+s.collapsibleClass)+(p+s.isCollapsedClass)),t.setAttribute("class",n),t}return{enableTocAnimation:function(){h=!0},disableTocAnimation:function(e){e=e.target||e.srcElement;"string"==typeof e.className&&-1!==e.className.indexOf(s.linkClass)&&(h=!1)},render:function(e,t){var n=a(!1);if(t.forEach(function(e){!function t(e,n){var o,r,i,n=n.appendChild((n=e,o=document.createElement("li"),r=document.createElement("a"),s.listItemClass&&o.setAttribute("class",s.listItemClass),s.onClick&&(r.onclick=s.onClick),s.includeTitleTags&&r.setAttribute("title",n.textContent),s.includeHtml&&n.childNodes.length?c.call(n.childNodes,function(e){r.appendChild(e.cloneNode(!0))}):r.textContent=n.textContent,r.setAttribute("href",s.basePath+"#"+n.id),r.setAttribute("class",s.linkClass+p+"node-name--"+n.nodeName+p+s.extraLinkClasses),o.appendChild(r),o));e.children.length&&(i=a(e.isCollapsed),e.children.forEach(function(e){t(e,i)}),n.appendChild(i))}(e,n)}),null!==(l=e||l))return l.firstChild&&l.removeChild(l.firstChild),0===t.length?l:l.appendChild(n)},updateToc:function(e){var n=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop;s.positionFixedSelector&&(t=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop,r=document.querySelector(s.positionFixedSelector),"auto"===s.fixedSidebarOffset&&(s.fixedSidebarOffset=l.offsetTop),t>s.fixedSidebarOffset?-1===r.className.indexOf(s.positionFixedClass)&&(r.className+=p+s.positionFixedClass):r.className=r.className.split(p+s.positionFixedClass).join(""));var o,t,r,i,a=e;h&&null!==l&&0<a.length&&(u.call(a,function(e,t){return function e(t){var n=0;return null!==t&&(n=t.offsetTop,s.hasInnerContainers)&&(n+=e(t.offsetParent)),n}(e)>n+s.headingsOffset+10?(o=a[0===t?t:t-1],!0):t===a.length-1?(o=a[a.length-1],!0):void 0}),t=l.querySelectorAll("."+s.linkClass),c.call(t,function(e){e.className=e.className.split(p+s.activeLinkClass).join("")}),r=l.querySelectorAll("."+s.listItemClass),c.call(r,function(e){e.className=e.className.split(p+s.activeListItemClass).join("")}),(e=l.querySelector("."+s.linkClass+".node-name--"+o.nodeName+'[href="'+s.basePath+"#"+o.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]'))&&-1===e.className.indexOf(s.activeLinkClass)&&(e.className+=p+s.activeLinkClass),(i=e&&e.parentNode)&&-1===i.className.indexOf(s.activeListItemClass)&&(i.className+=p+s.activeListItemClass),i=l.querySelectorAll("."+s.listClass+"."+s.collapsibleClass),c.call(i,function(e){-1===e.className.indexOf(s.isCollapsedClass)&&(e.className+=p+s.isCollapsedClass)}),e&&e.nextSibling&&-1!==e.nextSibling.className.indexOf(s.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(p+s.isCollapsedClass).join("")),function e(t){return t&&-1!==t.className.indexOf(s.collapsibleClass)&&-1!==t.className.indexOf(s.isCollapsedClass)?(t.className=t.className.split(p+s.isCollapsedClass).join(""),e(t.parentNode.parentNode)):t}(e&&e.parentNode.parentNode))}}}},547:e=>{e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},971:function(e,t,v){var n=[],o=function(e){"use strict";var o,r,i,a,s=v(547),l={},c={},u=v(163),d=v(279),h=v(938),p=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||p)return a=Object.prototype.hasOwnProperty,c.destroy=function(){var e=m(l);null!==e&&(l.skipRendering||e&&(e.innerHTML=""),l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer).removeEventListener("resize",this._scrollListener,!1),o&&document.querySelector(l.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),o&&document.removeEventListener("click",this._clickListener,!1)))},c.init=function(e){if(p){l=function(){for(var e={},t=0;t<arguments.length;t++){var n,o=arguments[t];for(n in o)a.call(o,n)&&(e[n]=o[n])}return e}(s,e||{}),this.options=l,this.state={},l.scrollSmooth&&(l.duration=l.scrollSmoothDuration,l.offset=l.scrollSmoothOffset,c.scrollSmooth=v(374).initSmoothScrolling(l)),o=u(l),r=d(l),this._buildHtml=o,this._parseContent=r,this._headingsArray=i,c.destroy();e=function(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}(l);if(null!==e){var t,n=m(l);if(null!==n&&null!==(i=r.selectHeadings(e,l.headingSelector)))return e=r.nestHeadingsArray(i).nest,l.skipRendering||o.render(n,e),this._scrollListener=f(function(e){o.updateToc(i),l.disableTocScrollSync||h(l);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(o.updateToc(i),l.scrollEndCallback)&&l.scrollEndCallback(e)},l.throttleTimeout),this._scrollListener(),(l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer)):(document.addEventListener("scroll",this._scrollListener,!1),document)).addEventListener("resize",this._scrollListener,!1),t=null,this._clickListener=f(function(e){l.scrollSmooth&&o.disableTocAnimation(e),o.updateToc(i),t&&clearTimeout(t),t=setTimeout(function(){o.enableTocAnimation()},l.scrollSmoothDuration)},l.throttleTimeout),(l.scrollContainer&&document.querySelector(l.scrollContainer)?document.querySelector(l.scrollContainer):document).addEventListener("click",this._clickListener,!1),this}}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c;function f(o,r,i){var a,s;return r=r||250,function(){var e=i||this,t=+new Date,n=arguments;a&&t<a+r?(clearTimeout(s),s=setTimeout(function(){a=t,o.apply(e,n)},r)):(a=t,o.apply(e,n))}}function m(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}}(void 0!==v.g?v.g:this.window||this.global);void 0!==(t="function"==typeof o?o.apply(t,n):o)&&(e.exports=t)},279:e=>{e.exports=function(s){var t=[].reduce;function l(e){return e[e.length-1]}function c(e){var t;return e instanceof window.HTMLElement?!s.ignoreHiddenElements||e.offsetHeight&&e.offsetParent?(t=e.getAttribute("data-heading-label")||(s.headingLabelCallback?String(s.headingLabelCallback(e.textContent)):e.textContent.trim()),t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.toUpperCase().replace("H",""),textContent:t},s.includeHtml&&(t.childNodes=e.childNodes),s.headingObjectCallback?s.headingObjectCallback(t,e):t):null:e}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=c(t);if(t){for(var n=e.nest,t,o=(t=c(t)).headingLevel,r=n,i=l(r),a=o-(i?i.headingLevel:0);0<a&&(!(i=l(r))||o!==i.headingLevel);)i&&void 0!==i.children&&(r=i.children),a--;o>=s.collapseDepth&&(t.isCollapsed=!0),r.push(t)}return e},{nest:[]})},selectHeadings:function(e,t){var n=t;s.ignoreSelector&&(n=t.split(",").map(function(e){return e.trim()+":not("+s.ignoreSelector+")"}));try{return e.querySelectorAll(n)}catch(e){return console.warn("Headers not found with selector: "+n),null}}}}},374:(e,t)=>{t.initSmoothScrolling=function(u){var d=u.duration,h=u.offset,p=location.hash?f(location.href):location.href;function f(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",function(t){var e,n,o,r,i,a,s,l;function c(e){r=e-o,window.scrollTo(0,a.easing(r,i,s,l)),r<l?requestAnimationFrame(c):(window.scrollTo(0,i+s),"function"==typeof a.callback&&a.callback())}"a"!==(e=t.target).tagName.toLowerCase()||!(0<e.hash.length||"#"===e.href.charAt(e.href.length-1))||f(e.href)!==p&&f(e.href)+"#"!==p||-1<t.target.className.indexOf("no-smooth-scroll")||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||-1===t.target.className.indexOf(u.linkClass)||(e=t.target.hash,n={duration:d,offset:h,callback:function(){var e=t.target.hash;(e=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}},i=window.pageYOffset,a={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},n=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),s="string"==typeof e?a.offset+(e?n&&n.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,l="function"==typeof a.duration?a.duration(s):a.duration,requestAnimationFrame(function(e){c(o=e)}))},!1)}},938:e=>{e.exports=function(e){var t=e.tocElement||document.querySelector(e.tocSelector);t&&t.scrollHeight>t.clientHeight&&(e=t.querySelector("."+e.activeListItemClass))&&(t.scrollTop=e.offsetTop)}}},o={};function r(e){var t=o[e];return void 0!==t||(t=o[e]={exports:{}},n[e].call(t.exports,t,t.exports,r)),t.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(971)})(),function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t={},M={},D={},n={exports:{}},o=e,r=function(){var r=function(){},c="undefined",i=typeof window!==c&&typeof window.navigator!==c&&/Trident\/|MSIE /.test(window.navigator.userAgent),u=["trace","debug","info","warn","error"],d={},h=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.call(n,e,arguments)}}}function s(){!console.log||console.log.apply||Function.prototype.apply.call(console.log,console,arguments)}function p(){for(var e=this.getLevel(),t=0;t<u.length;t++){var n=u[t];this[n]=t<e?r:this.methodFactory(n,e,this.name)}if(this.log=this.debug,typeof console===c&&e<this.levels.SILENT)return"No console available for logging"}function f(e,t,n){return"debug"===(o=e)&&(o="log"),typeof console!==c&&("trace"===o&&i?s:void 0!==console[o]?a(console,o):void 0!==console.log?a(console,"log"):r)||function(e){return function(){typeof console!==c&&(p.call(this),this[e].apply(this,arguments))}}.apply(this,arguments);var o}function t(e,t){var n,o,r=this,i="loglevel";function a(){var e;if(typeof window!==c&&i){try{e=window.localStorage[i]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,n=encodeURIComponent(i),o=t.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(t.slice(o+n.length+1))[1])}catch(e){}return e=void 0===r.levels[e]?void 0:e}}function s(e){var t=e;if("number"==typeof(t="string"==typeof t&&void 0!==r.levels[t.toUpperCase()]?r.levels[t.toUpperCase()]:t)&&0<=t&&t<=r.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?i+=":"+e:"symbol"==typeof e&&(i=void 0),r.name=e,r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},r.methodFactory=t||f,r.getLevel=function(){return null!=o?o:null!=n?n:l},r.setLevel=function(e,t){return o=s(e),!1!==t&&function(){var e=(u[o]||"silent").toUpperCase();if(typeof window!==c&&i){try{return window.localStorage[i]=e}catch(e){}try{window.document.cookie=encodeURIComponent(i)+"="+e+";"}catch(e){}}}(),p.call(r)},r.setDefaultLevel=function(e){n=s(e),a()||r.setLevel(e,!1)},r.resetLevel=function(){if(o=null,typeof window!==c&&i){try{window.localStorage.removeItem(i)}catch(e){}try{window.document.cookie=encodeURIComponent(i)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}p.call(r)},r.enableAll=function(e){r.setLevel(r.levels.TRACE,e)},r.disableAll=function(e){r.setLevel(r.levels.SILENT,e)},r.rebuild=function(){if(h!==r&&(l=s(h.getLevel())),p.call(r),h===r)for(var e in d)d[e].rebuild()};var l=s(h?h.getLevel():"WARN"),e=a();null!=e&&(o=s(e)),p.call(r)}(h=new t).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return d[e]||(d[e]=new t(e,h.methodFactory))};var e=typeof window!==c?window.log:void 0;return h.noConflict=function(){return typeof window!==c&&window.log===h&&(window.log=e),h},h.getLoggers=function(){return d},h.default=h};n.exports?n.exports=r():o.log=r();var q,F,o=n.exports,r={},n={},i={},a=e&&e.i||(q=function(e,t){return(q=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(i,"t",{value:!0}),F=Error,a(H,F),H);function H(e){var t=this.constructor,e=F.call(this,e)||this;return e.name=t.name,Object.setPrototypeOf(e,t.prototype),e}i.default=a;var U,z,a=e&&e.i||(U=function(e,t){return(U=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=e&&e.o||function(e){return e&&e.t?e:{default:e}},s=(Object.defineProperty(n,"t",{value:!0}),z=s(i).default,a(B,z),B);function B(){return null!==z&&z.apply(this,arguments)||this}n.default=s;var $,W,a={},s=e&&e.i||($=function(e,t){return($=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=e&&e.o||function(e){return e&&e.t?e:{default:e}},l=(Object.defineProperty(a,"t",{value:!0}),W=l(i).default,s(K,W),K);function K(){return null!==W&&W.apply(this,arguments)||this}a.default=l;var G,Z,s={},l=e&&e.i||(G=function(e,t){return(G=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=e&&e.o||function(e){return e&&e.t?e:{default:e}},c=(Object.defineProperty(s,"t",{value:!0}),Z=c(i).default,l(Y,Z),Y);function Y(){return null!==Z&&Z.apply(this,arguments)||this}s.default=c;var J,Q,l={},c=e&&e.i||(J=function(e,t){return(J=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=e&&e.o||function(e){return e&&e.t?e:{default:e}},u=(Object.defineProperty(l,"t",{value:!0}),Q=u(i).default,c(V,Q),V);function V(){return null!==Q&&Q.apply(this,arguments)||this}l.default=u;var X,ee,c={},u=e&&e.i||(X=function(e,t){return(X=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=e&&e.o||function(e){return e&&e.t?e:{default:e}},d=(Object.defineProperty(c,"t",{value:!0}),ee=d(i).default,u(te,ee),te);function te(){return null!==ee&&ee.apply(this,arguments)||this}c.default=d;var ne,oe,u={},d=e&&e.i||(ne=function(e,t){return(ne=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=e&&e.o||function(e){return e&&e.t?e:{default:e}},h=(Object.defineProperty(u,"t",{value:!0}),oe=h(i).default,d(re,oe),re);function re(){return null!==oe&&oe.apply(this,arguments)||this}u.default=h;var ie,ae,d={},h=e&&e.i||(ie=function(e,t){return(ie=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=e&&e.o||function(e){return e&&e.t?e:{default:e}},p=(Object.defineProperty(d,"t",{value:!0}),ae=p(i).default,h(se,ae),se);function se(){return null!==ae&&ae.apply(this,arguments)||this}d.default=p;var le,ce,h={},p=e&&e.i||(le=function(e,t){return(le=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}le(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=e&&e.o||function(e){return e&&e.t?e:{default:e}},f=(Object.defineProperty(h,"t",{value:!0}),ce=f(i).default,p(ue,ce),ue);function ue(){return null!==ce&&ce.apply(this,arguments)||this}h.default=f;var de,he,p={},f=e&&e.i||(de=function(e,t){return(de=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=e&&e.o||function(e){return e&&e.t?e:{default:e}},m=(Object.defineProperty(p,"t",{value:!0}),he=m(i).default,f(pe,he),pe);function pe(e,t){e=he.call(this,e)||this;return e.importResults=t,e}p.default=m;var f=e&&e.o||function(e){return e&&e.t?e:{default:e}},m=(Object.defineProperty(r,"t",{value:!0}),r.ImportError=r.TypesenseError=r.ServerError=r.RequestUnauthorized=r.RequestMalformed=r.ObjectUnprocessable=r.ObjectNotFound=r.ObjectAlreadyExists=r.MissingConfigurationError=r.HTTPError=void 0,f(n)),n=(r.HTTPError=m.default,f(a)),m=(r.MissingConfigurationError=n.default,f(s)),a=(r.ObjectAlreadyExists=m.default,f(l)),n=(r.ObjectNotFound=a.default,f(c)),s=(r.ObjectUnprocessable=n.default,f(u)),m=(r.RequestMalformed=s.default,f(d)),l=(r.RequestUnauthorized=m.default,f(h)),a=(r.ServerError=l.default,f(p)),c=(r.ImportError=a.default,f(i)),fe=(r.TypesenseError=c.default,e&&e.u||function(){return(fe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),me=e&&e.h||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.t:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),ve=e&&e.l||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.v||function(e){if(e&&e.t)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&me(t,e,n);return ve(t,e),t},ye=(Object.defineProperty(D,"t",{value:!0}),n(o)),ge=r;function v(e){var t=this;this.nodes=e.nodes||[],this.nodes=this.nodes.map(function(e){return t.setDefaultPathInNode(e)}).map(function(e){return t.setDefaultPortInNode(e)}).map(function(e){return fe({},e)}),null==e.randomizeNodes&&(e.randomizeNodes=!0),!0===e.randomizeNodes&&this.shuffleArray(this.nodes),this.nearestNode=e.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=e.connectionTimeoutSeconds||e.timeoutSeconds||5,this.healthcheckIntervalSeconds=e.healthcheckIntervalSeconds||60,this.numRetries=e.numRetries||this.nodes.length+(null==this.nearestNode?0:1)||3,this.retryIntervalSeconds=e.retryIntervalSeconds||.1,this.apiKey=e.apiKey,this.sendApiKeyAsQueryParam=e.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=e.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=e.useServerSideSearchCache||!1,this.logger=e.logger||ye,this.logLevel=e.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=e.additionalHeaders,this.httpAgent=e.httpAgent,this.httpsAgent=e.httpsAgent,this.showDeprecationWarnings(e),this.validate()}v.prototype.validate=function(){if(null==this.nodes||0===this.nodes.length||this.validateNodes())throw new ge.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(null!=this.nearestNode&&this.isNodeMissingAnyParameters(this.nearestNode))throw new ge.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(null==this.apiKey)throw new ge.MissingConfigurationError("Ensure that apiKey is set");return!0},v.prototype.validateNodes=function(){var t=this;return this.nodes.some(function(e){return t.isNodeMissingAnyParameters(e)})},v.prototype.isNodeMissingAnyParameters=function(t){return!["protocol","host","port","path"].every(function(e){return t.hasOwnProperty(e)})&&null==t.url},v.prototype.setDefaultPathInNode=function(e){return null==e||e.hasOwnProperty("path")||(e.path=""),e},v.prototype.setDefaultPortInNode=function(e){if(null!=e&&!e.hasOwnProperty("port")&&e.hasOwnProperty("protocol"))switch(e.protocol){case"https":e.port=443;break;case"http":e.port=80}return e},v.prototype.showDeprecationWarnings=function(e){e.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),e.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),e.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},v.prototype.shuffleArray=function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),o=[e[n],e[t]];e[t]=o[0],e[n]=o[1]}},D.default=v;var be,we,xe,Se,Ee,u={};function Ce(e,t){return function(){return e.apply(t,arguments)}}const Oe=Object.prototype["toString"],ke=Object["getPrototypeOf"],Pe=(be=Object.create(null),e=>{e=Oe.call(e);return be[e]||(be[e]=e.slice(8,-1).toLowerCase())}),y=t=>(t=t.toLowerCase(),e=>Pe(e)===t),Te=t=>e=>typeof e===t,Le=Array["isArray"],Ae=Te("undefined"),Ie=y("ArrayBuffer"),Re=Te("string"),g=Te("function"),_e=Te("number"),je=e=>null!==e&&"object"==typeof e,Ne=e=>{var t;return"object"===Pe(e)&&!(null!==(t=ke(e))&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Me=y("Date"),De=y("File"),qe=y("Blob"),Fe=y("FileList"),He=y("URLSearchParams"),[Ue,ze,Be,$e]=["ReadableStream","Request","Response","Headers"].map(y);function We(n,o,{allOwnKeys:r=!1}={}){if(null!=n){let t,e;if("object"!=typeof n&&(n=[n]),Le(n))for(t=0,e=n.length;t<e;t++)o.call(null,n[t],t,n);else{const e=r?Object.getOwnPropertyNames(n):Object.keys(n),a=e.length;var i;for(t=0;t<a;t++)i=e[t],o.call(null,n[i],i,n)}}}function Ke(e,t){t=t.toLowerCase();var n=Object.keys(e);let o,r=n.length;for(;0<r--;)if(t===(o=n[r]).toLowerCase())return o;return null}const b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e,Ge=e=>!Ae(e)&&e!==b,Ze=(we="undefined"!=typeof Uint8Array&&ke(Uint8Array),y("HTMLFormElement")),Ye=(xe=[Object.prototype["hasOwnProperty"]][0],(e,t)=>xe.call(e,t)),Je=y("RegExp"),Qe=(o,r)=>{const e=Object.getOwnPropertyDescriptors(o),i={};We(e,(e,t)=>{var n;!1!==(n=r(e,t,o))&&(i[t]=n||e)}),Object.defineProperties(o,i)},Ve="abcdefghijklmnopqrstuvwxyz",Xe="0123456789",et={DIGIT:Xe,ALPHA:Ve,ALPHA_DIGIT:Ve+Ve.toUpperCase()+Xe},tt=y("AsyncFunction"),nt=(s="function"==typeof setImmediate,d=g(b.postMessage),s?setImmediate:d?(Se="axios@"+Math.random(),Ee=[],b.addEventListener("message",({source:e,data:t})=>{e===b&&t===Se&&Ee.length&&Ee.shift()()},!1),e=>{Ee.push(e),b.postMessage(Se,"*")}):e=>setTimeout(e));var m="undefined"!=typeof queueMicrotask?queueMicrotask.bind(b):"undefined"!=typeof process&&process.nextTick||nt,w={isArray:Le,isArrayBuffer:Ie,isBuffer:function(e){return null!==e&&!Ae(e)&&null!==e.constructor&&!Ae(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{var t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=Pe(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ie(e.buffer)},isString:Re,isNumber:_e,isBoolean:e=>!0===e||!1===e,isObject:je,isPlainObject:Ne,isReadableStream:Ue,isRequest:ze,isResponse:Be,isHeaders:$e,isUndefined:Ae,isDate:Me,isFile:De,isBlob:qe,isRegExp:Je,isFunction:g,isStream:e=>je(e)&&g(e.pipe),isURLSearchParams:He,isTypedArray:e=>we&&e instanceof we,isFileList:Fe,forEach:We,merge:function n(){const o=(Ge(this)&&this||{})["caseless"],r={},i=(e,t)=>{t=o&&Ke(r,t)||t;Ne(r[t])&&Ne(e)?r[t]=n(r[t],e):Ne(e)?r[t]=n({},e):Le(e)?r[t]=e.slice():r[t]=e};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&We(arguments[e],i);return r},extend:(n,e,o,{allOwnKeys:t}={})=>(We(e,(e,t)=>{o&&g(e)?n[t]=Ce(e,o):n[t]=e},{allOwnKeys:t}),n),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>e=65279===e.charCodeAt(0)?e.slice(1):e,inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let r,i,a;var s={};if(t=t||{},null!=e)do{for(r=Object.getOwnPropertyNames(e),i=r.length;0<i--;)a=r[i],o&&!o(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0)}while((e=!1!==n&&ke(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Pe,kindOfTest:y,endsWith:(e,t,n)=>{e+="",(void 0===n||n>e.length)&&(n=e.length),n-=t.length;e=e.indexOf(t,n);return-1!==e&&e===n},toArray:e=>{if(!e)return null;if(Le(e))return e;let t=e.length;if(!_e(t))return null;for(var n=Array(t);0<t--;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);for(var o;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{for(var n,o=[];null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:Ze,hasOwnProperty:Ye,hasOwnProp:Ye,reduceDescriptors:Qe,freezeMethods:o=>{Qe(o,(e,t)=>{if(g(o)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;var n=o[t];g(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))})},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach(e=>{n[e]=!0})};return Le(e)?o(e):o((e+"").split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ke,global:b,isContextDefined:Ge,ALPHABET:et,generateString:(e=16,t=et.ALPHA_DIGIT)=>{let n="";for(var o=t["length"];e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=[,,,,,,,,,,],r=(e,n)=>{if(je(e)){if(0<=t.indexOf(e))return;if(!("toJSON"in e)){t[n]=e;const o=Le(e)?[]:{};return We(e,(e,t)=>{e=r(e,n+1);Ae(e)||(o[t]=e)}),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:tt,isThenable:e=>e&&(je(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:nt,asap:m};function x(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status||null)}w.inherits(x,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const ot=x.prototype,rt={};function it(e){return w.isPlainObject(e)||w.isArray(e)}function at(e){return w.endsWith(e,"[]")?e.slice(0,-2):e}function st(e,t,n){return e?e.concat(t).map(function(e,t){return e=at(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rt[e]={value:e}}),Object.defineProperties(x,rt),Object.defineProperty(ot,"isAxiosError",{value:!0}),x.from=(e,t,n,o,r,i)=>{var a=Object.create(ot);return w.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),x.call(a,e.message,t,n,o,r),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const lt=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function ct(e,i,t){if(!w.isObject(e))throw new TypeError("target must be an object");i=i||new FormData;const a=(t=w.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!w.isUndefined(t[e])})).metaTokens,r=t.visitor||o,s=t.dots,l=t.indexes,n=(t.Blob||"undefined"!=typeof Blob&&Blob)&&w.isSpecCompliantForm(i);if(!w.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(w.isDate(e))return e.toISOString();if(!n&&w.isBlob(e))throw new x("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(e)||w.isTypedArray(e)?n&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function o(e,n,t){let o=e;if(e&&!t&&"object"==typeof e)if(w.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(w.isArray(e)&&(r=e,w.isArray(r))&&!r.some(it)||(w.isFileList(e)||w.endsWith(n,"[]"))&&(o=w.toArray(e)))return n=at(n),o.forEach(function(e,t){w.isUndefined(e)||null===e||i.append(!0===l?st([n],t,s):null===l?n:n+"[]",c(e))}),!1;var r;return!!it(e)||(i.append(st(t,n,s),c(e)),!1)}const u=[],d=Object.assign(lt,{defaultVisitor:o,convertValue:c,isVisitable:it});if(w.isObject(e))return function n(e,o){if(!w.isUndefined(e)){if(-1!==u.indexOf(e))throw Error("Circular reference detected in "+o.join("."));u.push(e),w.forEach(e,function(e,t){!0===(!(w.isUndefined(e)||null===e)&&r.call(i,e,w.isString(t)?t.trim():t,o,d))&&n(e,o?o.concat(t):[t])}),u.pop()}}(e),i;throw new TypeError("data must be an object")}function ut(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function dt(e,t){this.m=[],e&&ct(e,this,t)}h=dt.prototype;function ht(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pt(e,t,n){if(t){var o=n&&n.encode||ht,r=(n=w.isFunction(n)?{serialize:n}:n)&&n.serialize,r=r?r(t,n):w.isURLSearchParams(t)?t.toString():new dt(t,n).toString(o);if(r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}}return e}h.append=function(e,t){this.m.push([e,t])},h.toString=function(t){const n=t?function(e){return t.call(this,e,ut)}:ut;return this.m.map(function(e){return n(e[0])+"="+n(e[1])},"").join("&")};var ft=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){w.forEach(this.handlers,function(e){null!==e&&t(e)})}},mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:dt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},p="undefined"!=typeof window&&"undefined"!=typeof document,a="object"==typeof navigator&&navigator||void 0,f=p&&(!a||["ReactNative","NativeScript","NS"].indexOf(a.product)<0),c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,n=p&&window.location.href||"http://localhost",S={...Object.freeze({__proto__:null,hasBrowserEnv:p,hasStandardBrowserWebWorkerEnv:c,hasStandardBrowserEnv:f,navigator:a,origin:n}),...l};function vt(e){if(w.isFormData(e)&&w.isFunction(e.entries)){const n={};return w.forEachEntry(e,(e,t)=>{!function e(t,n,o,r){var i,a,s=t[r++];return"__proto__"===s||(i=Number.isFinite(+s),a=r>=t.length,s=!s&&w.isArray(o)?o.length:s,a?w.hasOwnProp(o,s)?o[s]=[o[s],n]:o[s]=n:(o[s]&&w.isObject(o[s])||(o[s]=[]),e(t,n,o[s],r)&&w.isArray(o[s])&&(o[s]=function(e){var t={},n=Object.keys(e);let o;var r,i=n.length;for(o=0;o<i;o++)t[r=n[o]]=e[r];return t}(o[s]))),!i)}(w.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),t,n,0)}),n}return null}const yt={transitional:mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,o,r=t.getContentType()||"",i=-1<r.indexOf("application/json"),a=w.isObject(e);if(a&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return i?JSON.stringify(vt(e)):e;if(!(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))){if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(-1<r.indexOf("application/x-www-form-urlencoded"))return n=e,o=this.formSerializer,ct(n,new S.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return S.isNode&&w.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},o)).toString();if((n=w.isFileList(e))||-1<r.indexOf("multipart/form-data")){const t=this.env&&this.env.FormData;return ct(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(a||i){t.setContentType("application/json",!1);var s=e;if(w.isString(s))try{return(0,JSON.parse)(s),w.trim(s)}catch(s){if("SyntaxError"!==s.name)throw s}return(0,JSON.stringify)(s)}}return e}],transformResponse:[function(e){const t=this.transitional||yt.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(!w.isResponse(e)&&!w.isReadableStream(e)&&e&&w.isString(e)&&(n&&!this.responseType||o)){const n=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw x.from(e,x.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:S.classes.FormData,Blob:S.classes.Blob},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],e=>{yt.headers[e]={}});var gt=yt;const bt=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wt=Symbol("internals");function xt(e){return e&&(e+"").trim().toLowerCase()}function St(e){return!1===e||null==e?e:w.isArray(e)?e.map(St):e+""}function Et(e,t,n,o,r){return w.isFunction(o)?o.call(this,t,n):w.isString(t=r?n:t)&&(w.isString(o)?-1!==t.indexOf(o):w.isRegExp(o)&&o.test(t))}class Ct{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){var o=xt(t);if(!o)throw Error("header name must be a non-empty string");o=w.findKey(r,o);o&&void 0!==r[o]&&!0!==n&&(void 0!==n||!1===r[o])||(r[o||t]=St(e))}var i=(e,n)=>w.forEach(e,(e,t)=>o(e,t,n));if(w.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(w.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((()=>{const t={};let n,o,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),o=e.substring(r+1).trim(),!n||t[n]&&bt[n]||("set-cookie"===n?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t})(),t);else if(w.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=xt(e)){var n=w.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t){for(var o,r=e,i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;o=a.exec(r);)i[o[1]]=o[2];return i}if(w.isFunction(t))return t.call(this,e,n);if(w.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){return!!(e=xt(e))&&!(!(e=w.findKey(this,e))||void 0===this[e]||t&&!Et(0,this[e],e,t))}delete(e,t){const n=this;let o=!1;function r(e){(e=xt(e))&&(e=w.findKey(n,e))&&(!t||Et(0,n[e],e,t))&&(delete n[e],o=!0)}return w.isArray(e)?e.forEach(r):r(e),o}clear(e){var t=Object.keys(this);let n=t.length,o=!1;for(;n--;){var r=t[n];e&&!Et(0,this[r],r,e,!0)||(delete this[r],o=!0)}return o}normalize(o){const r=this,i={};return w.forEach(this,(e,t)=>{var n=w.findKey(i,t);n?(r[n]=St(e),delete r[t]):((n=o?t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):(t+"").trim())!==t&&delete r[t],r[n]=St(e),i[n]=!0)}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(n){const o=Object.create(null);return w.forEach(this,(e,t)=>{null!=e&&!1!==e&&(o[t]=n&&w.isArray(e)?e.join(", "):e)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const o=(this[wt]=this[wt]={accessors:{}}).accessors,a=this.prototype;function t(e){var t=xt(e);if(!o[t]){{var n=a,r=e;const i=w.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+i,{value:function(e,t,n){return this[o].call(this,r,e,t,n)},configurable:!0})})}o[t]=!0}}return w.isArray(e)?e.forEach(t):t(e),this}}Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),w.reduceDescriptors(Ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),w.freezeMethods(Ct);var E=Ct;function Ot(e,t){const n=this||gt,o=t||n,r=E.from(o.headers);let i=o.data;return w.forEach(e,function(e){i=e.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function kt(e){return!(!e||!e.p)}function Pt(e,t,n){x.call(this,e??"canceled",x.ERR_CANCELED,t,n),this.name="CanceledError"}function Tt(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new x("Request failed with status code "+n.status,[x.ERR_BAD_REQUEST,x.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}w.inherits(Pt,x,{p:!0});const Lt=(s,l,e=3)=>{let c=0;const u=function(){const i=Array(50),a=Array(50);let s,l=0,c=0;return function(e){var t=Date.now(),n=a[c];s=s||t,i[l]=e,a[l]=t;let o=c,r=0;for(;o!==l;)r+=i[o++],o%=50;return(l=(l+1)%50)===c&&(c=(c+1)%50),!(t-s<250)&&(e=n&&t-n)?Math.round(1e3*r/e):void 0}}();{var n=e=>{var t=e.loaded,n=e.lengthComputable?e.total:void 0,o=t-c,r=u(o);c=t,s({loaded:t,total:n,progress:n?t/n:void 0,bytes:o,rate:r||void 0,estimated:r&&n&&t<=n?(n-t)/r:void 0,event:e,lengthComputable:null!=n,[l?"download":"upload"]:!0})};let o,r,i=0,a=1e3/e;const d=(e,t=Date.now())=>{i=t,o=null,r&&(clearTimeout(r),r=null),n.apply(null,e)};return[(...e)=>{var t=Date.now(),n=t-i;n>=a?d(e,t):(o=e,r=r||setTimeout(()=>{r=null,d(o)},a-n))},()=>o&&d(o)]}},At=(t,n)=>{const o=null!=t;return[e=>n[0]({lengthComputable:o,total:t,loaded:e}),n[1]]},It=t=>(...e)=>w.asap(()=>t(...e));var Rt,_t,jt=S.hasStandardBrowserEnv?(Rt=new URL(S.origin),_t=S.navigator&&/(msie|trident)/i.test(S.navigator.userAgent),e=>(e=new URL(e,S.origin),Rt.protocol===e.protocol&&Rt.host===e.host&&(_t||Rt.port===e.port))):()=>!0,Nt=S.hasStandardBrowserEnv?{write(e,t,n,o,r,i){e=[e+"="+encodeURIComponent(t)];w.isNumber(n)&&e.push("expires="+new Date(n).toGMTString()),w.isString(o)&&e.push("path="+o),w.isString(r)&&e.push("domain="+r),!0===i&&e.push("secure"),document.cookie=e.join("; ")},read(e){e=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?(e=e,(n=t)?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e):t;var n}const Dt=e=>e instanceof E?{...e}:e;function C(o,r){r=r||{};const i={};function a(e,t,n,o){return w.isPlainObject(e)&&w.isPlainObject(t)?w.merge.call({caseless:o},e,t):w.isPlainObject(t)?w.merge({},t):w.isArray(t)?t.slice():t}function s(e,t,n,o){return w.isUndefined(t)?w.isUndefined(e)?void 0:a(void 0,e,0,o):a(e,t,0,o)}function e(e,t){if(!w.isUndefined(t))return a(void 0,t)}function t(e,t){return w.isUndefined(t)?w.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function l(e,t,n){return n in r?a(e,t):n in o?a(void 0,e):void 0}const c={url:e,method:e,data:e,baseURL:t,transformRequest:t,transformResponse:t,paramsSerializer:t,timeout:t,timeoutMessage:t,withCredentials:t,withXSRFToken:t,adapter:t,responseType:t,xsrfCookieName:t,xsrfHeaderName:t,onUploadProgress:t,onDownloadProgress:t,decompress:t,maxContentLength:t,maxBodyLength:t,beforeRedirect:t,transport:t,httpAgent:t,httpsAgent:t,cancelToken:t,socketPath:t,responseEncoding:t,validateStatus:l,headers:(e,t,n)=>s(Dt(e),Dt(t),0,!0)};return w.forEach(Object.keys(Object.assign({},o,r)),function(e){var t=c[e]||s,n=t(o[e],r[e],e);w.isUndefined(n)&&t!==l||(i[e]=n)}),i}var qt,Ft,Ht=e=>{const t=C({},e);let n,{data:o,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=E.from(s),t.url=pt(Mt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),w.isFormData(o))if(S.hasStandardBrowserEnv||S.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(S.hasStandardBrowserEnv&&((r=r&&w.isFunction(r)?r(t):r)||!1!==r&&jt(t.url))){const e=i&&a&&Nt.read(a);e&&s.set(i,e)}return t},o="undefined"!=typeof XMLHttpRequest&&function(v){return new Promise(function(t,n){const o=Ht(v);var e=o.data,r=E.from(o.headers).normalize();let i,a,s,l,c,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=o;function p(){l&&l(),c&&c(),o.cancelToken&&o.cancelToken.unsubscribe(i),o.signal&&o.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function m(){var e;f&&(e=E.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),Tt(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:v,request:f}),f=null)}f.open(o.method.toUpperCase(),o.url,!0),f.timeout=o.timeout,"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(m)},f.onabort=function(){f&&(n(new x("Request aborted",x.ECONNABORTED,v,f)),f=null)},f.onerror=function(){n(new x("Network Error",x.ERR_NETWORK,v,f)),f=null},f.ontimeout=function(){let e=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";var t=o.transitional||mt;o.timeoutErrorMessage&&(e=o.timeoutErrorMessage),n(new x(e,t.clarifyTimeoutError?x.ETIMEDOUT:x.ECONNABORTED,v,f)),f=null},void 0===e&&r.setContentType(null),"setRequestHeader"in f&&w.forEach(r.toJSON(),function(e,t){f.setRequestHeader(t,e)}),w.isUndefined(o.withCredentials)||(f.withCredentials=!!o.withCredentials),u&&"json"!==u&&(f.responseType=o.responseType),h&&([s,c]=Lt(h,!0),f.addEventListener("progress",s)),d&&f.upload&&([a,l]=Lt(d),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",l)),(o.cancelToken||o.signal)&&(i=e=>{f&&(n(!e||e.type?new Pt(null,v,f):e),f.abort(),f=null)},o.cancelToken&&o.cancelToken.subscribe(i),o.signal)&&(o.signal.aborted?i():o.signal.addEventListener("abort",i));r=function(e){e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return e&&e[1]||""}(o.url);r&&-1===S.protocols.indexOf(r)?n(new x("Unsupported protocol "+r+":",x.ERR_BAD_REQUEST,v)):f.send(e||null)})};const Ut=(e,t,i,n)=>{const a=async function*(e,t){for await(const i of async function*(e){if(e[Symbol.asyncIterator])yield*e;else{var t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}}(e)){n=void 0;o=void 0;r=void 0;var n=i;var o=t;var r=n.byteLength;if(r<o)yield n;else{let e,t=0;for(;t<r;)e=t+o,yield n.slice(t,e),t=e}}}(e,t);let o,s=0,l=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{var t,n,{done:o,value:r}=await a.next();o?(l(),e.close()):(t=r.byteLength,i&&(n=s+=t,i(n)),e.enqueue(new Uint8Array(r)))}catch(e){throw l(e),e}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},zt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Bt=zt&&"function"==typeof ReadableStream,$t=zt&&("function"==typeof TextEncoder?(qt=new TextEncoder,e=>qt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Wt=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Kt=Bt&&Wt(()=>{let e=!1;var t=new Request(S.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gt=Bt&&Wt(()=>w.isReadableStream(new Response("").body)),Zt={stream:Gt&&(e=>e.body)},Yt=(zt&&(Ft=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(n=>{Zt[n]||(Zt[n]=w.isFunction(Ft[n])?e=>e[n]():(e,t)=>{throw new x(`Response type '${n}' is not supported`,x.ERR_NOT_SUPPORT,t)})})),{http:null,xhr:o,fetch:zt&&(async r=>{let{url:i,method:e,data:a,signal:t,cancelToken:n,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=Ht(r);u=u?(u+"").toLowerCase():"text";let f,m=((o,r)=>{var i=(o=o?o.filter(Boolean):[])["length"];if(r||i){let t,n=new AbortController;const a=function(e){t||(t=!0,s(),e=e instanceof Error?e:this.reason,n.abort(e instanceof x?e:new Pt(e instanceof Error?e.message:e)))};let e=r&&setTimeout(()=>{e=null,a(new x(`timeout ${r} of ms exceeded`,x.ETIMEDOUT))},r);const s=()=>{o&&(e&&clearTimeout(e),e=null,o.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),o=null)};o.forEach(e=>e.addEventListener("abort",a));i=n["signal"];return i.unsubscribe=()=>w.asap(s),i}})([t,n&&n.toAbortSignal()],s);const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&Kt&&"get"!==e&&"head"!==e&&0!==(y=(g=d,b=a,await(w.toFiniteNumber(g.getContentLength())??(async e=>{return null==e?0:w.isBlob(e)?e.size:w.isSpecCompliantForm(e)?(await new Request(S.origin,{method:"POST",body:e}).arrayBuffer()).byteLength:w.isArrayBufferView(e)||w.isArrayBuffer(e)?e.byteLength:(w.isURLSearchParams(e)&&(e+=""),w.isString(e)?(await $t(e)).byteLength:void 0)})(b))))){let e,t=new Request(i,{method:"POST",body:a,duplex:"half"});if(w.isFormData(a)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[r,i]=At(y,Lt(It(c)));a=Ut(t.body,65536,r,i)}}w.isString(h)||(h=h?"include":"omit");const t="credentials"in Request.prototype;f=new Request(i,{...p,signal:m,method:e.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:t?h:void 0});let n=await fetch(f);const s=Gt&&("stream"===u||"response"===u);if(Gt&&(l||s&&v)){const r={},i=(["status","statusText","headers"].forEach(e=>{r[e]=n[e]}),w.toFiniteNumber(n.headers.get("content-length"))),[e,a]=l&&At(i,Lt(It(l),!0))||[];n=new Response(Ut(n.body,65536,e,()=>{a&&a(),v&&v()}),r)}u=u||"text";let o=await Zt[w.findKey(Zt,u)||"text"](n,r);return!s&&v&&v(),await new Promise((e,t)=>{Tt(e,t,{data:o,headers:E.from(n.headers),status:n.status,statusText:n.statusText,config:r,request:f})})}catch(i){if(v&&v(),i&&"TypeError"===i.name&&/fetch/i.test(i.message))throw Object.assign(new x("Network Error",x.ERR_NETWORK,r,f),{cause:i.cause||i});throw x.from(i,i&&i.code,r,f)}var g,b})}),Jt=(w.forEach(Yt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}),e=>"- "+e),Qt=e=>w.isFunction(e)||null===e||!1===e;var Vt=n=>{var e=(n=w.isArray(n)?n:[n])["length"];let o,r;var i={};for(let t=0;t<e;t++){let e;if(o=n[t],r=o,!Qt(o)&&void 0===(r=Yt[(e=o+"").toLowerCase()]))throw new x(`Unknown adapter '${e}'`);if(r)break;i[e||"#"+t]=r}if(r)return r;{const n=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new x("There is no suitable adapter to dispatch the request "+(e?1<n.length?"since :\n"+n.map(Jt).join("\n"):" "+Jt(n[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}};function Xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pt(null,e)}function en(t){return Xt(t),t.headers=E.from(t.headers),t.data=Ot.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vt(t.adapter||gt.adapter)(t).then(function(e){return Xt(t),e.data=Ot.call(t,t.transformResponse,e),e.headers=E.from(e.headers),e},function(e){return kt(e)||(Xt(t),e&&e.response&&(e.response.data=Ot.call(t,t.transformResponse,e.response),e.response.headers=E.from(e.response.headers))),Promise.reject(e)})}const tn={},nn=(["object","boolean","number","function","string","symbol"].forEach((t,n)=>{tn[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}}),{});tn.transitional=function(o,r,i){return(e,t,n)=>{if(!1===o)throw new x("[Axios v1.7.9] Transitional option '"+t+"' has been removed"+(r?" in "+r:"")+(i?". "+i:""),x.ERR_DEPRECATED);return r&&!nn[t]&&(nn[t]=!0),!o||o(e,t,n)}},tn.spelling=function(e){return(e,t)=>!0};var on={assertOptions:function(e,t,n){if("object"!=typeof e)throw new x("options must be an object",x.ERR_BAD_OPTION_VALUE);var o=Object.keys(e);let r=o.length;for(;0<r--;){var i=o[r],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new x("option "+i+" must be "+n,x.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new x("Unknown option "+i,x.ERR_BAD_OPTION)}},validators:tn};const O=on.validators;class rn{constructor(e){this.defaults=e,this.interceptors={request:new ft,response:new ft}}async request(t,n){try{return await this.k(t,n)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=Error();n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!(t.stack+"").endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(t){}}throw t}}k(t,n){"string"==typeof t?(n=n||{}).url=t:n=t||{};const{transitional:e,paramsSerializer:o,headers:r}=n=C(this.defaults,n);void 0!==e&&on.assertOptions(e,{silentJSONParsing:O.transitional(O.boolean),forcedJSONParsing:O.transitional(O.boolean),clarifyTimeoutError:O.transitional(O.boolean)},!1),null!=o&&(w.isFunction(o)?n.paramsSerializer={serialize:o}:on.assertOptions(o,{encode:O.function,serialize:O.function},!0)),on.assertOptions(n,{baseUrl:O.spelling("baseURL"),withXsrfToken:O.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();var i=r&&w.merge(r.common,r[n.method]);r&&w.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),n.headers=E.concat(i,r);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(n)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(s){u=a.length;let e=n;for(d=0;d<u;){const t=a[d++],n=a[d++];try{e=t(e)}catch(t){n.call(this,t);break}}try{c=en(e)}catch(t){return Promise.reject(t)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++])}else{const t=[en.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),u=t.length,c=Promise.resolve(n);d<u;)c=c.then(t[d++],t[d++])}return c}getUri(e){return pt(Mt((e=C(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}w.forEach(["delete","get","head","options"],function(n){rn.prototype[n]=function(e,t){return this.request(C(t||{},{method:n,url:e,data:(t||{}).data}))}}),w.forEach(["post","put","patch"],function(r){function e(o){return function(e,t,n){return this.request(C(n||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:e,data:t}))}}rn.prototype[r]=e(),rn.prototype[r+"Form"]=e(!0)});var an=rn;s=class vi{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(e){o=e});const r=this;this.promise.then(t=>{if(r.O){let e=r.O.length;for(;0<e--;)r.O[e](t);r.O=null}}),this.promise.then=e=>{let t;return(e=new Promise(e=>{r.subscribe(e),t=e}).then(e)).cancel=function(){r.unsubscribe(t)},e},e(function(e,t,n){r.reason||(r.reason=new Pt(e,t,n),o(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this.O?this.O.push(e):this.O=[e]}unsubscribe(e){this.O&&-1!==(e=this.O.indexOf(e))&&this.O.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new vi(function(e){t=e}),cancel:t}}};const sn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sn).forEach(([e,t])=>{sn[t]=e});var d=sn,m=function t(n){var e=new an(n),o=Ce(an.prototype.request,e);return w.extend(o,an.prototype,e,{allOwnKeys:!0}),w.extend(o,e,null,{allOwnKeys:!0}),o.create=function(e){return t(C(n,e))},o}(gt),h=(m.Axios=an,m.CanceledError=Pt,m.CancelToken=s,m.isCancel=kt,m.VERSION="1.7.9",m.toFormData=ct,m.AxiosError=x,m.Cancel=m.CanceledError,m.all=function(e){return Promise.all(e)},m.spread=function(t){return function(e){return t.apply(null,e)}},m.isAxiosError=function(e){return w.isObject(e)&&!0===e.isAxiosError},m.mergeConfig=C,m.AxiosHeaders=E,m.formToJSON=e=>vt(w.isHTMLForm(e)?new FormData(e):e),m.getAdapter=Vt,m.HttpStatusCode=d,m.default=m),ln=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},k=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},p=e&&e.o||function(e){return e&&e.t?e:{default:e}},cn=(Object.defineProperty(u,"t",{value:!0}),p(h)),un=r,dn=p(i);function P(e){this.configuration=e,this.apiKey=this.configuration.apiKey,this.nodes=null==this.configuration.nodes?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=null==this.configuration.nearestNode?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}P.prototype.get=function(t,n,e){void 0===n&&(n={});var e=void 0===e?{}:e,o=e.abortSignal,r=void 0===o?null:o,o=e.responseType,i=void 0===o?void 0:o;return ln(this,void 0,void 0,function(){return k(this,function(e){return[2,this.performRequest("get",t,{queryParameters:n,abortSignal:r,responseType:i})]})})},P.prototype.delete=function(t,n){return void 0===n&&(n={}),ln(this,void 0,void 0,function(){return k(this,function(e){return[2,this.performRequest("delete",t,{queryParameters:n})]})})},P.prototype.post=function(t,n,o,r){return void 0===n&&(n={}),void 0===o&&(o={}),void 0===r&&(r={}),ln(this,void 0,void 0,function(){return k(this,function(e){return[2,this.performRequest("post",t,{queryParameters:o,bodyParameters:n,additionalHeaders:r})]})})},P.prototype.put=function(t,n,o){return void 0===n&&(n={}),void 0===o&&(o={}),ln(this,void 0,void 0,function(){return k(this,function(e){return[2,this.performRequest("put",t,{queryParameters:o,bodyParameters:n})]})})},P.prototype.patch=function(t,n,o){return void 0===n&&(n={}),void 0===o&&(o={}),ln(this,void 0,void 0,function(){return k(this,function(e){return[2,this.performRequest("patch",t,{queryParameters:o,bodyParameters:n})]})})},P.prototype.performRequest=function(u,d,e){var h,p,t=e.queryParameters,f=void 0===t?null:t,t=e.bodyParameters,m=void 0===t?null:t,t=e.additionalHeaders,v=void 0===t?{}:t,t=e.abortSignal,y=void 0===t?null:t,t=e.responseType,g=void 0===t?void 0:t,t=e.skipConnectionTimeout,b=void 0!==t&&t;return ln(this,void 0,void 0,function(){var s,l,t,c,n,o;return k(this,function(e){switch(e.label){case 0:this.configuration.validate(),s=Date.now(),this.logger.debug("Request #".concat(s,": Performing ").concat(u.toUpperCase()," request: ").concat(d)),t=function(t){var n,o,r,i,a;return k(this,function(e){switch(e.label){case 0:if(n=c.getNextNode(s),c.logger.debug("Request #".concat(s,": Attempting ").concat(u.toUpperCase()," request Try #").concat(t," to Node ").concat(n.index)),y&&y.aborted)return[2,{value:Promise.reject(Error("Request aborted by caller."))}];o=void 0,e.label=1;case 1:return e.trys.push([1,3,5,6]),a={method:u,url:c.uriFor(d,n),headers:Object.assign({},c.defaultHeaders(),v,c.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,responseType:g,validateStatus:function(e){return 0<e},transformResponse:[function(e,t){var n=e;return n=void 0!==t&&"string"==typeof e&&t["content-type"]&&t["content-type"].startsWith("application/json")?JSON.parse(e):n}]},!0!==b&&(a.timeout=1e3*c.connectionTimeoutSeconds),f&&0!==Object.keys(f).length&&(a.params=f),c.sendApiKeyAsQueryParam&&(a.params=a.params||{},a.params["x-typesense-api-key"]=c.apiKey),c.configuration.httpAgent&&(c.logger.debug("Request #".concat(s,": Using custom httpAgent")),a.httpAgent=c.configuration.httpAgent),c.configuration.httpsAgent&&(c.logger.debug("Request #".concat(s,": Using custom httpsAgent")),a.httpsAgent=c.configuration.httpsAgent),m&&("string"==typeof m&&0!==m.length||"object"==typeof m&&0!==Object.keys(m).length)&&(a.data=m),y&&(i=cn.default.CancelToken,r=i.source(),o=function(){return r.cancel()},y.addEventListener("abort",o),a.cancelToken=r.token),[4,(0,cn.default)(a)];case 2:if(1<=(i=e.sent()).status&&i.status<=499&&c.setNodeHealthcheck(n,!0),c.logger.debug("Request #".concat(s,": Request to Node ").concat(n.index," was made. Response Code was ").concat(i.status,".")),200<=i.status&&i.status<300)return[2,{value:Promise.resolve(i.data)}];if(i.status<500)return[2,{value:Promise.reject(c.customErrorForResponse(i,null==(h=i.data)?void 0:h.message))}];throw c.customErrorForResponse(i,null==(h=i.data)?void 0:h.message);case 3:return a=e.sent(),c.setNodeHealthcheck(n,!1),l=a,c.logger.warn("Request #".concat(s,": Request to Node ").concat(n.index,' failed due to "').concat(a.code," ").concat(a.message).concat(null==a.response?"":" - "+JSON.stringify(null==(p=a.response)?void 0:p.data),'"')),c.logger.warn("Request #".concat(s,": Sleeping for ").concat(c.retryIntervalSeconds,"s and then retrying request...")),[4,c.timer(c.retryIntervalSeconds)];case 4:return e.sent(),[3,6];case 5:return y&&o&&y.removeEventListener("abort",o),[7];case 6:return[2]}})},c=this,n=1,e.label=1;case 1:return n<=this.numRetriesPerRequest+1?[5,t(n)]:[3,4];case 2:if("object"==typeof(o=e.sent()))return[2,o.value];e.label=3;case 3:return n++,[3,1];case 4:return this.logger.debug("Request #".concat(s,": No retries left. Raising last error")),[2,Promise.reject(l)]}})})},P.prototype.getNextNode=function(e){if(void 0===e&&(e=0),null!=this.nearestNode){if(this.logger.debug("Request #".concat(e,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(!0===this.nearestNode.isHealthy?"Healthy":"Unhealthy")),!0===this.nearestNode.isHealthy||this.nodeDueForHealthcheck(this.nearestNode,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(e,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(e,": Nodes Health: ").concat(this.nodes.map(function(e){return"Node ".concat(e.index," is ").concat(!0===e.isHealthy?"Healthy":"Unhealthy")}).join(" || ")));for(var t=this.nodes[0],n=0;n<=this.nodes.length;n++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,!0===(t=this.nodes[this.currentNodeIndex]).isHealthy||this.nodeDueForHealthcheck(t,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(t.index)),t;return this.logger.debug("Request #".concat(e,": No healthy nodes were found. Returning the next node, Node ").concat(t.index)),t},P.prototype.nodeDueForHealthcheck=function(e,t){void 0===t&&(t=0);var n=Date.now()-e.lastAccessTimestamp>1e3*this.healthcheckIntervalSeconds;return n&&this.logger.debug("Request #".concat(t,": Node ").concat(e.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),n},P.prototype.initializeMetadataForNodes=function(){var n=this;null!=this.nearestNode&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,!0)),this.nodes.forEach(function(e,t){e.index=t,n.setNodeHealthcheck(e,!0)})},P.prototype.setNodeHealthcheck=function(e,t){e.isHealthy=t,e.lastAccessTimestamp=Date.now()},P.prototype.uriFor=function(e,t){return(null!=t.url?"".concat(t.url):"".concat(t.protocol,"://").concat(t.host,":").concat(t.port).concat(t.path)).concat(e)},P.prototype.defaultHeaders=function(){var e={};return this.sendApiKeyAsQueryParam||(e["X-TYPESENSE-API-KEY"]=this.apiKey),e["Content-Type"]="application/json",e},P.prototype.timer=function(t){return ln(this,void 0,void 0,function(){return k(this,function(e){return[2,new Promise(function(e){return setTimeout(e,1e3*t)})]})})},P.prototype.customErrorForResponse=function(e,t){var n="Request failed with HTTP code ".concat(e.status),t=("string"==typeof t&&""!==t.trim()&&(n+=" | Server said: ".concat(t)),new dn.default(n));return(t=new(400===e.status?un.RequestMalformed:401===e.status?un.RequestUnauthorized:404===e.status?un.ObjectNotFound:409===e.status?un.ObjectAlreadyExists:422===e.status?un.ObjectUnprocessable:500<=e.status&&e.status<=599?un.ServerError:un.HTTPError)(n)).httpStatus=e.status,t},u.default=P;var c={},hn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},pn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},fn=(Object.defineProperty(c,"t",{value:!0}),"/collections");function mn(e){this.apiCall=e}mn.prototype.create=function(t,n){return void 0===n&&(n={}),hn(this,void 0,void 0,function(){return pn(this,function(e){return[2,this.apiCall.post(fn,t,n)]})})},mn.prototype.retrieve=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){return[2,this.apiCall.get(fn)]})})},Object.defineProperty(mn,"RESOURCEPATH",{get:function(){return fn},enumerable:!1,configurable:!0}),c.default=mn;var f={},a={},n={},l={},vn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},yn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},gn=e&&e.j||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};function bn(){this.responseCache=new Map,this.responsePromiseCache=new Map}Object.defineProperty(l,"t",{value:!0}),bn.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},bn.prototype.perform=function(s,l,c,u){return vn(this,void 0,void 0,function(){var t,n,o,r,i,a;return yn(this,function(e){switch(e.label){case 0:if(r=u.cacheResponseForSeconds,r=void 0===r?120:r,t=u.maxSize,t=void 0===t?100:t,r<=0||t<=0)return[2,l.call.apply(l,gn([s],c,!1))];if(n=JSON.stringify(c),i=this.responseCache.get(n),o=Date.now(),i){if(o-i.requestTimestamp<1e3*r)return this.responseCache.delete(n),this.responseCache.set(n,i),[2,Promise.resolve(i.response)];this.responseCache.delete(n)}if(i=this.responsePromiseCache.get(n)){if(o-i.requestTimestamp<1e3*r)return this.responsePromiseCache.delete(n),this.responsePromiseCache.set(n,i),[2,i.responsePromise];this.responsePromiseCache.delete(n)}return r=l.call.apply(l,gn([s],c,!1)),this.responsePromiseCache.set(n,{requestTimestamp:o,responsePromise:r}),[4,r];case 1:return i=e.sent(),this.responseCache.set(n,{requestTimestamp:o,response:i}),this.responseCache.size>t&&(a=this.responseCache.keys().next().value,this.responseCache.delete(a)),this.responsePromiseCache.size>t&&(a=this.responsePromiseCache.keys().next().value,this.responsePromiseCache.delete(a)),[2,i]}})})},l.default=bn;var wn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},xn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=e&&e.o||function(e){return e&&e.t?e:{default:e}},Sn=(Object.defineProperty(n,"t",{value:!0}),n.SearchOnlyDocuments=void 0,o(l)),En=o(c),Cn="/documents";function On(e,t,n){this.collectionName=e,this.apiCall=t,this.configuration=n,this.requestWithCache=new Sn.default}On.prototype.clearCache=function(){this.requestWithCache.clearCache()},On.prototype.search=function(r,e){var e=void 0===e?{}:e,t=e.cacheSearchResultsForSeconds,i=void 0===t?this.configuration.cacheSearchResultsForSeconds:t,t=e.abortSignal,a=void 0===t?null:t;return wn(this,void 0,void 0,function(){var t,n,o;return xn(this,function(e){for(n in t={},!0===this.configuration.useServerSideSearchCache&&(t.use_cache=!0),r)Array.isArray(r[n])&&(t[n]=r[n].join(","));return o=Object.assign({},r,t),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.get,[this.endpointPath("search"),o,{abortSignal:a}],{cacheResponseForSeconds:i})]})})},On.prototype.endpointPath=function(e){return"".concat(En.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Cn).concat(void 0===e?"":"/"+e)},Object.defineProperty(On,"RESOURCEPATH",{get:function(){return Cn},enumerable:!1,configurable:!0}),n.SearchOnlyDocuments=On;var kn,Pn,s=e&&e.i||(kn=function(e,t){return(kn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}kn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},L=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Tn=(Object.defineProperty(a,"t",{value:!0}),r),d=(Pn=n.SearchOnlyDocuments,s(A,Pn),A.prototype.create=function(t,n){return void 0===n&&(n={}),T(this,void 0,void 0,function(){return L(this,function(e){if(t)return[2,this.apiCall.post(this.endpointPath(),t,n)];throw Error("No document provided")})})},A.prototype.upsert=function(t,n){return void 0===n&&(n={}),T(this,void 0,void 0,function(){return L(this,function(e){if(t)return[2,this.apiCall.post(this.endpointPath(),t,Object.assign({},n,{action:"upsert"}))];throw Error("No document provided")})})},A.prototype.update=function(t,n){return void 0===n&&(n={}),T(this,void 0,void 0,function(){return L(this,function(e){if(t)return null!=n.filter_by?[2,this.apiCall.patch(this.endpointPath(),t,Object.assign({},n))]:[2,this.apiCall.post(this.endpointPath(),t,Object.assign({},n,{action:"update"}))];throw Error("No document provided")})})},A.prototype.delete=function(t){return void 0===t&&(t={}),T(this,void 0,void 0,function(){return L(this,function(e){return[2,this.apiCall.delete(this.endpointPath(),t)]})})},A.prototype.createMany=function(t,n){return void 0===n&&(n={}),T(this,void 0,void 0,function(){return L(this,function(e){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(t,n)]})})},A.prototype.import=function(i,a){return void 0===a&&(a={}),T(this,void 0,void 0,function(){var t,n,o,r;return L(this,function(e){switch(e.label){case 0:if(Array.isArray(i))try{t=i.map(function(e){return JSON.stringify(e)}).join("\n")}catch(e){if(RangeError instanceof e&&null!=e&&e.includes("Too many properties to enumerate"))throw Error("".concat(e,"\n          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object\n\n          Please try reducing the number of keys in your document, or using CURL to import your data.\n          "));throw Error(e)}else t=i;return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:a,bodyParameters:t,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:if(n=e.sent(),Array.isArray(i)){if(o=n.split("\n").map(function(e){return JSON.parse(e)}),0<(r=o.filter(function(e){return!1===e.success})).length)throw new Tn.ImportError("".concat(o.length-r.length," documents imported successfully, ").concat(r.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),o);return[2,o]}return[2,n]}})})},A.prototype.export=function(t){return void 0===t&&(t={}),T(this,void 0,void 0,function(){return L(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),t)]})})},A.prototype.exportStream=function(t){return void 0===t&&(t={}),T(this,void 0,void 0,function(){return L(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),t,{responseType:"stream"})]})})},A);function A(e,t,n){return Pn.call(this,e,t,n)||this}a.default=d;var m={},Ln=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},An=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},In=(Object.defineProperty(m,"t",{value:!0}),h(c));function Rn(e,t){this.collectionName=e,this.apiCall=t}Rn.prototype.upsert=function(t,n){return Ln(this,void 0,void 0,function(){return An(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Rn.prototype.retrieve=function(){return Ln(this,void 0,void 0,function(){return An(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Rn.prototype.endpointPath=function(e){return"".concat(In.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Rn.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Rn,"RESOURCEPATH",{get:function(){return"/overrides"},enumerable:!1,configurable:!0}),m.default=Rn;var p={},_n=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},jn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},i=e&&e.o||function(e){return e&&e.t?e:{default:e}},Nn=(Object.defineProperty(p,"t",{value:!0}),i(c)),Mn=i(m);function Dn(e,t,n){this.collectionName=e,this.overrideId=t,this.apiCall=n}Dn.prototype.retrieve=function(){return _n(this,void 0,void 0,function(){return jn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Dn.prototype.delete=function(){return _n(this,void 0,void 0,function(){return jn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Dn.prototype.endpointPath=function(){return"".concat(Nn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Mn.default.RESOURCEPATH,"/").concat(this.overrideId)},p.default=Dn;var o={},qn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Fn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},s=e&&e.o||function(e){return e&&e.t?e:{default:e}},Hn=(Object.defineProperty(o,"t",{value:!0}),s(c));function Un(e,t){this.collectionName=e,this.apiCall=t}Un.prototype.upsert=function(t,n){return qn(this,void 0,void 0,function(){return Fn(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Un.prototype.retrieve=function(){return qn(this,void 0,void 0,function(){return Fn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Un.prototype.endpointPath=function(e){return"".concat(Hn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Un.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Un,"RESOURCEPATH",{get:function(){return"/synonyms"},enumerable:!1,configurable:!0}),o.default=Un;var d={},zn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Bn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},$n=(Object.defineProperty(d,"t",{value:!0}),h(c)),Wn=h(o);function Kn(e,t,n){this.collectionName=e,this.synonymId=t,this.apiCall=n}Kn.prototype.retrieve=function(){return zn(this,void 0,void 0,function(){return Bn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Kn.prototype.delete=function(){return zn(this,void 0,void 0,function(){return Bn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Kn.prototype.endpointPath=function(){return"".concat($n.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Wn.default.RESOURCEPATH,"/").concat(this.synonymId)},d.default=Kn;var i={},Gn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Zn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},s=e&&e.o||function(e){return e&&e.t?e:{default:e}},Yn=(Object.defineProperty(i,"t",{value:!0}),i.Document=void 0,s(c)),Jn=s(a);function Qn(e,t,n){this.collectionName=e,this.documentId=t,this.apiCall=n}Qn.prototype.retrieve=function(){return Gn(this,void 0,void 0,function(){return Zn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Qn.prototype.delete=function(){return Gn(this,void 0,void 0,function(){return Zn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Qn.prototype.update=function(t,n){return void 0===n&&(n={}),Gn(this,void 0,void 0,function(){return Zn(this,function(e){return[2,this.apiCall.patch(this.endpointPath(),t,n)]})})},Qn.prototype.endpointPath=function(){return"".concat(Yn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Jn.default.RESOURCEPATH,"/").concat(this.documentId)},i.Document=Qn;var Vn=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Xn=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},eo=(Object.defineProperty(f,"t",{value:!0}),h(c)),to=h(a),no=r,oo=h(m),ro=h(p),io=h(o),ao=h(d),so=i;function I(e,t,n){this.name=e,this.apiCall=t,this.configuration=n,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=e,this.apiCall=t,this.configuration=n,this.R=new to.default(this.name,this.apiCall,this.configuration),this.T=new oo.default(this.name,this.apiCall),this.P=new io.default(this.name,this.apiCall)}I.prototype.retrieve=function(){return Vn(this,void 0,void 0,function(){return Xn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},I.prototype.update=function(t){return Vn(this,void 0,void 0,function(){return Xn(this,function(e){return[2,this.apiCall.patch(this.endpointPath(),t)]})})},I.prototype.delete=function(){return Vn(this,void 0,void 0,function(){return Xn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},I.prototype.exists=function(){return Vn(this,void 0,void 0,function(){var t;return Xn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return e.sent(),[2,!0];case 2:if((t=e.sent())instanceof no.ObjectNotFound)return[2,!1];throw t;case 3:return[2]}})})},I.prototype.documents=function(e){return e?(void 0===this.individualDocuments[e]&&(this.individualDocuments[e]=new so.Document(this.name,e,this.apiCall)),this.individualDocuments[e]):this.R},I.prototype.overrides=function(e){return void 0===e?this.T:(void 0===this.individualOverrides[e]&&(this.individualOverrides[e]=new ro.default(this.name,e,this.apiCall)),this.individualOverrides[e])},I.prototype.synonyms=function(e){return void 0===e?this.P:(void 0===this.individualSynonyms[e]&&(this.individualSynonyms[e]=new ao.default(this.name,e,this.apiCall)),this.individualSynonyms[e])},I.prototype.endpointPath=function(){return"".concat(eo.default.RESOURCEPATH,"/").concat(this.name)},f.default=I;var s={},lo=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},co=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},uo=(Object.defineProperty(s,"t",{value:!0}),"/aliases");function ho(e){this.apiCall=e}ho.prototype.upsert=function(t,n){return lo(this,void 0,void 0,function(){return co(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},ho.prototype.retrieve=function(){return lo(this,void 0,void 0,function(){return co(this,function(e){return[2,this.apiCall.get(uo)]})})},ho.prototype.endpointPath=function(e){return"".concat(ho.RESOURCEPATH,"/").concat(e)},Object.defineProperty(ho,"RESOURCEPATH",{get:function(){return uo},enumerable:!1,configurable:!0}),s.default=ho;var a={},po=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},fo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},m=e&&e.o||function(e){return e&&e.t?e:{default:e}},mo=(Object.defineProperty(a,"t",{value:!0}),m(s));function vo(e,t){this.name=e,this.apiCall=t}vo.prototype.retrieve=function(){return po(this,void 0,void 0,function(){return fo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},vo.prototype.delete=function(){return po(this,void 0,void 0,function(){return fo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},vo.prototype.endpointPath=function(){return"".concat(mo.default.RESOURCEPATH,"/").concat(this.name)},a.default=vo;var yo,go,bo,p={},o=(yo=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))).t?yo:("function"==typeof(go=yo.default)?(bo=function e(){return this instanceof e?Reflect.construct(go,arguments,this.constructor):go.apply(this,arguments)}).prototype=go.prototype:bo={},Object.defineProperty(bo,"t",{value:!0}),Object.keys(yo).forEach(function(e){var t=Object.getOwnPropertyDescriptor(yo,e);Object.defineProperty(bo,e,t.get?t:{enumerable:!0,get:function(){return yo[e]}})}),bo),wo=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},xo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},So=(Object.defineProperty(p,"t",{value:!0}),o);function Eo(e){this.apiCall=e,this.apiCall=e}Eo.prototype.create=function(t){return wo(this,void 0,void 0,function(){return xo(this,function(e){return[2,this.apiCall.post(Eo.RESOURCEPATH,t)]})})},Eo.prototype.retrieve=function(){return wo(this,void 0,void 0,function(){return xo(this,function(e){return[2,this.apiCall.get("/keys")]})})},Eo.prototype.generateScopedSearchKey=function(e,t){var t=JSON.stringify(t),n=Buffer.from((0,So.createHmac)("sha256",e).update(t).digest("base64")),e=e.substr(0,4),n="".concat(n).concat(e).concat(t);return Buffer.from(n).toString("base64")},Object.defineProperty(Eo,"RESOURCEPATH",{get:function(){return"/keys"},enumerable:!1,configurable:!0}),p.default=Eo;var h={},Co=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Oo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},d=e&&e.o||function(e){return e&&e.t?e:{default:e}},ko=(Object.defineProperty(h,"t",{value:!0}),d(p));function Po(e,t){this.id=e,this.apiCall=t}Po.prototype.retrieve=function(){return Co(this,void 0,void 0,function(){return Oo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Po.prototype.delete=function(){return Co(this,void 0,void 0,function(){return Oo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Po.prototype.endpointPath=function(){return"".concat(ko.default.RESOURCEPATH,"/").concat(this.id)},h.default=Po;var i={},To=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Lo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Ao(e){this.apiCall=e}Object.defineProperty(i,"t",{value:!0}),Ao.prototype.retrieve=function(){return To(this,void 0,void 0,function(){return Lo(this,function(e){return[2,this.apiCall.get("/debug")]})})},i.default=Ao;var m={},Io=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Ro=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function _o(e){this.apiCall=e}Object.defineProperty(m,"t",{value:!0}),_o.prototype.retrieve=function(){return Io(this,void 0,void 0,function(){return Ro(this,function(e){return[2,this.apiCall.get("/metrics.json")]})})},m.default=_o;var o={},jo=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},No=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Mo(e){this.apiCall=e}Object.defineProperty(o,"t",{value:!0}),Mo.prototype.retrieve=function(){return jo(this,void 0,void 0,function(){return No(this,function(e){return[2,this.apiCall.get("/health")]})})},o.default=Mo;var d={},Do=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},qo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Fo(e){this.apiCall=e}Object.defineProperty(d,"t",{value:!0}),Fo.prototype.perform=function(t,n){return void 0===n&&(n={}),Do(this,void 0,void 0,function(){return qo(this,function(e){return[2,this.apiCall.post("".concat("/operations","/").concat(t),{},n)]})})},d.default=Fo;var Ho={},Uo=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},zo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Bo=e&&e.o||function(e){return e&&e.t?e:{default:e}},$o=(Object.defineProperty(Ho,"t",{value:!0}),Bo(l));function Wo(e,t,n){void 0===n&&(n=!1),this.apiCall=e,this.configuration=t,this.useTextContentType=n,this.requestWithCache=new $o.default}Wo.prototype.clearCache=function(){this.requestWithCache.clearCache()},Wo.prototype.perform=function(o,r,e){void 0===r&&(r={});var e=(void 0===e?{}:e).cacheSearchResultsForSeconds,i=void 0===e?this.configuration.cacheSearchResultsForSeconds:e;return Uo(this,void 0,void 0,function(){var t,n;return zo(this,function(e){return t={},this.useTextContentType&&(t["content-type"]="text/plain"),n={},!0===this.configuration.useServerSideSearchCache&&(n.use_cache=!0),n=Object.assign({},r,n),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.post,["/multi_search",o,n,t],{cacheResponseForSeconds:i})]})})},Ho.default=Wo;var Bo={},Ko=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Go=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Zo(e){this.apiCall=e}Object.defineProperty(Bo,"t",{value:!0}),Zo.prototype.upsert=function(t,n){return Ko(this,void 0,void 0,function(){return Go(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Zo.prototype.retrieve=function(){return Ko(this,void 0,void 0,function(){return Go(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Zo.prototype.endpointPath=function(e){return"".concat(Zo.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Zo,"RESOURCEPATH",{get:function(){return"/presets"},enumerable:!1,configurable:!0}),Bo.default=Zo;var l={},Yo=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Jo=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Qo=e&&e.o||function(e){return e&&e.t?e:{default:e}},Vo=(Object.defineProperty(l,"t",{value:!0}),Qo(Bo));function Xo(e,t){this.presetId=e,this.apiCall=t}Xo.prototype.retrieve=function(){return Yo(this,void 0,void 0,function(){return Jo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Xo.prototype.delete=function(){return Yo(this,void 0,void 0,function(){return Jo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Xo.prototype.endpointPath=function(){return"".concat(Vo.default.RESOURCEPATH,"/").concat(this.presetId)},l.default=Xo;var Qo={},R={},er=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},tr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function nr(e){this.apiCall=e,this.apiCall=e}Object.defineProperty(R,"t",{value:!0}),nr.prototype.upsert=function(t,n){return er(this,void 0,void 0,function(){return tr(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},nr.prototype.retrieve=function(){return er(this,void 0,void 0,function(){return tr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},nr.prototype.endpointPath=function(e){return"".concat(nr.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(nr,"RESOURCEPATH",{get:function(){return"/analytics/rules"},enumerable:!1,configurable:!0}),R.default=nr;var _={},or=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},rr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},ir=e&&e.o||function(e){return e&&e.t?e:{default:e}},ar=(Object.defineProperty(_,"t",{value:!0}),ir(R));function sr(e,t){this.name=e,this.apiCall=t}sr.prototype.retrieve=function(){return or(this,void 0,void 0,function(){return rr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},sr.prototype.delete=function(){return or(this,void 0,void 0,function(){return rr(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},sr.prototype.endpointPath=function(){return"".concat(ar.default.RESOURCEPATH,"/").concat(this.name)},_.default=sr;var ir=e&&e.o||function(e){return e&&e.t?e:{default:e}},lr=(Object.defineProperty(Qo,"t",{value:!0}),ir(R)),cr=ir(_);function ur(e){this.apiCall=e,this.individualAnalyticsRules={},this.apiCall=e,this.A=new lr.default(this.apiCall)}ur.prototype.rules=function(e){return void 0===e?this.A:(void 0===this.individualAnalyticsRules[e]&&(this.individualAnalyticsRules[e]=new cr.default(e,this.apiCall)),this.individualAnalyticsRules[e])},Object.defineProperty(ur,"RESOURCEPATH",{get:function(){return"/analytics"},enumerable:!1,configurable:!0}),Qo.default=ur;var R={},dr=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},hr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function pr(e){this.apiCall=e}Object.defineProperty(R,"t",{value:!0}),pr.prototype.upsert=function(t,n){return dr(this,void 0,void 0,function(){return hr(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},pr.prototype.retrieve=function(){return dr(this,void 0,void 0,function(){return hr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},pr.prototype.endpointPath=function(e){return"".concat(pr.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(pr,"RESOURCEPATH",{get:function(){return"/stopwords"},enumerable:!1,configurable:!0}),R.default=pr;var ir={},fr=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},mr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},_=e&&e.o||function(e){return e&&e.t?e:{default:e}},vr=(Object.defineProperty(ir,"t",{value:!0}),_(R));function yr(e,t){this.stopwordId=e,this.apiCall=t}yr.prototype.retrieve=function(){return fr(this,void 0,void 0,function(){return mr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},yr.prototype.delete=function(){return fr(this,void 0,void 0,function(){return mr(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},yr.prototype.endpointPath=function(){return"".concat(vr.default.RESOURCEPATH,"/").concat(this.stopwordId)},ir.default=yr;var _={},gr={},br=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},wr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function xr(e){this.apiCall=e,this.apiCall=e}Object.defineProperty(gr,"t",{value:!0}),xr.prototype.create=function(t){return br(this,void 0,void 0,function(){return wr(this,function(e){return[2,this.apiCall.post(this.endpointPath(),t)]})})},xr.prototype.retrieve=function(){return br(this,void 0,void 0,function(){return wr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},xr.prototype.endpointPath=function(e){return"".concat(xr.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(xr,"RESOURCEPATH",{get:function(){return"/conversations/models"},enumerable:!1,configurable:!0}),gr.default=xr;var j={},Sr=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Er=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Cr=e&&e.o||function(e){return e&&e.t?e:{default:e}},Or=(Object.defineProperty(j,"t",{value:!0}),Cr(gr));function kr(e,t){this.id=e,this.apiCall=t}kr.prototype.update=function(t){return Sr(this,void 0,void 0,function(){return Er(this,function(e){return[2,this.apiCall.put(this.endpointPath(),t)]})})},kr.prototype.retrieve=function(){return Sr(this,void 0,void 0,function(){return Er(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},kr.prototype.delete=function(){return Sr(this,void 0,void 0,function(){return Er(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},kr.prototype.endpointPath=function(){return"".concat(Or.default.RESOURCEPATH,"/").concat(this.id)},j.default=kr;var Pr=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},Tr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Cr=e&&e.o||function(e){return e&&e.t?e:{default:e}},Lr=(Object.defineProperty(_,"t",{value:!0}),Cr(gr)),Ar=Cr(j),Ir="/conversations";function Rr(e){this.apiCall=e,this.individualConversationModels={},this.apiCall=e,this.N=new Lr.default(this.apiCall)}Rr.prototype.retrieve=function(){return Pr(this,void 0,void 0,function(){return Tr(this,function(e){return[2,this.apiCall.get(Ir)]})})},Rr.prototype.models=function(e){return void 0===e?this.N:(void 0===this.individualConversationModels[e]&&(this.individualConversationModels[e]=new Ar.default(e,this.apiCall)),this.individualConversationModels[e])},Object.defineProperty(Rr,"RESOURCEPATH",{get:function(){return Ir},enumerable:!1,configurable:!0}),_.default=Rr;var gr={},_r=e&&e.S||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,r)}i((l=l.apply(e,a||[])).next())})},jr=e&&e._||function(o,r){var i,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((s=0<(s=l.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=r.call(o,l)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Cr=e&&e.o||function(e){return e&&e.t?e:{default:e}},Nr=(Object.defineProperty(gr,"t",{value:!0}),Cr(_));function Mr(e,t){this.id=e,this.apiCall=t}Mr.prototype.retrieve=function(){return _r(this,void 0,void 0,function(){return jr(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Mr.prototype.update=function(t){return _r(this,void 0,void 0,function(){return jr(this,function(e){return[2,this.apiCall.put(this.endpointPath(),t)]})})},Mr.prototype.delete=function(){return _r(this,void 0,void 0,function(){return jr(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Mr.prototype.endpointPath=function(){return"".concat(Nr.default.RESOURCEPATH,"/").concat(this.id)},gr.default=Mr;var j=e&&e.o||function(e){return e&&e.t?e:{default:e}},Dr=(Object.defineProperty(M,"t",{value:!0}),j(D)),qr=j(u),Fr=j(c),Hr=j(f),Ur=j(s),zr=j(a),Br=j(p),$r=j(h),Wr=j(i),Kr=j(m),Gr=j(o),Zr=j(d),Yr=j(Ho),Jr=j(Bo),Qr=j(l),Vr=j(Qo),Xr=j(R),ei=j(ir),ti=j(_),ni=j(gr);function oi(e){var t;e.sendApiKeyAsQueryParam=null!=(t=e.sendApiKeyAsQueryParam)&&t,this.configuration=new Dr.default(e),this.apiCall=new qr.default(this.configuration),this.debug=new Wr.default(this.apiCall),this.metrics=new Kr.default(this.apiCall),this.health=new Gr.default(this.apiCall),this.operations=new Zr.default(this.apiCall),this.multiSearch=new Yr.default(this.apiCall,this.configuration),this.M=new Fr.default(this.apiCall),this.individualCollections={},this.C=new Ur.default(this.apiCall),this.individualAliases={},this.U=new Br.default(this.apiCall),this.individualKeys={},this.$=new Jr.default(this.apiCall),this.individualPresets={},this.D=new Xr.default(this.apiCall),this.individualStopwords={},this.analytics=new Vr.default(this.apiCall),this.F=new ti.default(this.apiCall),this.individualConversations={}}oi.prototype.collections=function(e){return void 0===e?this.M:(void 0===this.individualCollections[e]&&(this.individualCollections[e]=new Hr.default(e,this.apiCall,this.configuration)),this.individualCollections[e])},oi.prototype.aliases=function(e){return void 0===e?this.C:(void 0===this.individualAliases[e]&&(this.individualAliases[e]=new zr.default(e,this.apiCall)),this.individualAliases[e])},oi.prototype.keys=function(e){return void 0===e?this.U:(void 0===this.individualKeys[e]&&(this.individualKeys[e]=new $r.default(e,this.apiCall)),this.individualKeys[e])},oi.prototype.presets=function(e){return void 0===e?this.$:(void 0===this.individualPresets[e]&&(this.individualPresets[e]=new Qr.default(e,this.apiCall)),this.individualPresets[e])},oi.prototype.stopwords=function(e){return void 0===e?this.D:(void 0===this.individualStopwords[e]&&(this.individualStopwords[e]=new ei.default(e,this.apiCall)),this.individualStopwords[e])},oi.prototype.conversations=function(e){return void 0===e?this.F:(void 0===this.individualConversations[e]&&(this.individualConversations[e]=new ni.default(e,this.apiCall)),this.individualConversations[e])},M.default=oi;var Cr={},c={},ri=(Object.defineProperty(c,"t",{value:!0}),c.SearchOnlyCollection=void 0,n);function ii(e,t,n){this.name=e,this.apiCall=t,this.configuration=n,this.R=new ri.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}ii.prototype.documents=function(){return this.R},c.SearchOnlyCollection=ii;var f=e&&e.o||function(e){return e&&e.t?e:{default:e}},ai=(Object.defineProperty(Cr,"t",{value:!0}),f(D)),si=f(u),li=f(Ho),ci=c;function ui(e){var t;e.sendApiKeyAsQueryParam=null==(t=e.sendApiKeyAsQueryParam)||t,!0===e.sendApiKeyAsQueryParam&&2e3<(e.apiKey||"").length&&(e.sendApiKeyAsQueryParam=!1),this.configuration=new ai.default(e),this.apiCall=new si.default(this.configuration),this.multiSearch=new li.default(this.apiCall,this.configuration,!0),this.individualCollections={}}ui.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach(function(e){e[0],e[1].documents().clearCache()})},ui.prototype.collections=function(e){if(e)return void 0===this.individualCollections[e]&&(this.individualCollections[e]=new ci.SearchOnlyCollection(e,this.apiCall,this.configuration)),this.individualCollections[e];throw Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},Cr.default=ui;var di=e&&e.h||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.t:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),hi=e&&e.l||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e&&e.v||function(e){if(e&&e.t)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&di(t,e,n);return hi(t,e),t},a=e&&e.o||function(e){return e&&e.t?e:{default:e}},p=(Object.defineProperty(t,"t",{value:!0}),t.Errors=t.SearchClient=t.Client=void 0,a(M)),h=(t.Client=p.default,a(Cr)),i=(t.SearchClient=h.default,s(r)),pi=(t.Errors=i,t.default={Client:p.default,SearchClient:h.default,Errors:i});{let n=!1,o=null;function fi(){var e;n&&((e=document.querySelector("script[data-sodo-search]"))&&e.remove(),e=document.getElementById("sodo-search-root"))&&e.remove()}const N="mp-search";class yi{constructor(e={}){if(n)return window.magicPagesSearch;this.isModalOpen=!1,this.activeElement=null,this.scrollPosition=0;var t=window.__MP_SEARCH_CONFIG__||{typesenseNodes:[{host:"localhost",port:"8108",protocol:"http"}],typesenseApiKey:null,collectionName:null,commonSearches:[],theme:"system",enableHighlighting:!0,enableDidYouMean:!0,searchFields:{title:{weight:5,highlight:!0},excerpt:{weight:3,highlight:!0},plaintext:{weight:4,highlight:!0},"tags.name":{weight:4,highlight:!0},"tags.slug":{weight:3,highlight:!0}}};if(this.config={...t,...e,commonSearches:e.commonSearches||t.commonSearches||[]},!this.config.typesenseNodes||!this.config.typesenseApiKey||!this.config.collectionName)throw Error("MagicPagesSearch: Missing required Typesense configuration");this.selectedIndex=-1,this.searchDebounceTimeout=null,this.cachedElements={},this.init(),n=!0}async init(){var e;document.getElementById("mp-search-styles")||((e=document.createElement("style")).id="mp-search-styles",e.textContent="/* MagicPages Search UI Styles - Original Design with mp-search- prefix */\n\n/* Base document styles */\n:root {\n    /* Color system */\n    --color-base-50: 255 255 255;\n    --color-base-100: 250 250 250;\n    --color-base-200: 229 231 235;\n    --color-base-300: 209 213 219;\n    --color-base-700: 55 65 81;\n    --color-base-800: 31 41 55;\n    --color-base-900: 17 24 39;\n    --color-base-950: 3 7 18;\n\n    /* Animation configs */\n    --transition-base: 80ms cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-smooth: 120ms cubic-bezier(0.4, 0, 0.2, 1);\n    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n}\n\n/* System/Default theme (light) */\n.mp-search-modal {\n    /* Size multiplier - rem equivalent */\n    --mp-rem: 16px;\n    \n    --color-surface: rgb(252, 252, 252);\n    --color-surface-elevated: rgb(255, 255, 255);\n    --color-surface-hover: rgba(0, 0, 0, 0.04);\n    --color-text: rgb(23, 23, 23);\n    --color-text-secondary: rgb(82, 82, 82);\n    --color-border: rgba(0, 0, 0, 0.08);\n    --color-backdrop: rgba(0, 0, 0, 0.15);\n    --accent-color: var(--ghost-accent-color, #6366f1);\n    --accent-color-hover: color-mix(in srgb, black 15%, var(--accent-color));\n    --color-result-bg: rgb(252, 252, 252);\n    --color-result-hover: color-mix(in srgb, var(--accent-color) 8%, transparent);\n}\n\n/* Dark theme */\n.mp-search-dark {\n    --color-surface: rgb(32, 32, 32);\n    --color-surface-elevated: rgb(45, 45, 45);\n    --color-surface-hover: rgba(255, 255, 255, 0.04);\n    --color-text: rgb(250, 250, 250);\n    --color-text-secondary: rgb(161, 161, 161);\n    --color-border: rgba(255, 255, 255, 0.08);\n    --color-backdrop: rgba(0, 0, 0, 0.4);\n    --accent-color: var(--ghost-accent-color, #818cf8);\n    --accent-color-hover: color-mix(in srgb, white 15%, var(--accent-color));\n    --color-result-bg: rgb(38, 38, 38);\n    --color-result-hover: color-mix(in srgb, var(--accent-color) 8%, transparent);\n}\n\n/* Base typography for modal content */\n.mp-search-modal {\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    line-height: 1.5;\n    font-size: var(--mp-rem);\n    -webkit-text-size-adjust: 100%;\n}\n\n.mp-search-modal * {\n    box-sizing: border-box;\n}\n\n.mp-search-modal button {\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n}\n\n/* Utility classes */\n.mp-search-hidden {\n    display: none !important;\n}\n\n/* Modal structure */\n.mp-search-modal {\n    position: fixed;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    background-color: var(--color-backdrop);\n    backdrop-filter: blur(4px);\n    align-items: flex-start;\n    justify-content: center;\n    -webkit-tap-highlight-color: transparent;\n    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);\n    /* Above subscribe button on mobile */\n    z-index: 3999999;\n}\n\n@media (min-width: 640px) {\n    .mp-search-modal {\n        /* Below subscribe button on desktop */\n        z-index: 3999997;\n    }\n}\n\n/* Backdrop with glass effect */\n.mp-search-backdrop {\n    position: fixed;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n    backdrop-filter: blur(8px);\n    background: var(--color-backdrop);\n    transition: opacity var(--transition-smooth);\n}\n\n/* Modal container and content */\n.mp-search-container {\n    position: relative;\n    z-index: 1;\n    width: 100%;\n    max-width: calc(42 * var(--mp-rem));\n    margin: 0 auto;\n    padding: 0;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    transition: transform 0.1s ease-out;\n}\n\n@media (min-width: 640px) {\n    .mp-search-container {\n        padding: calc(1.25 * var(--mp-rem));\n        height: auto;\n        max-height: 60vh;\n        min-height: 20vh;\n        margin-top: 10vh;\n    }\n}\n\n.mp-search-content {\n    background: var(--color-surface);\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    overflow: hidden;\n    width: 100%;\n    position: relative;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    /* Ensure content doesn't overflow viewport */\n    max-height: 100%;\n}\n\n@media (min-width: 640px) {\n    .mp-search-content {\n        border: 1px solid var(--color-border);\n        border-radius: calc(0.75 * var(--mp-rem));\n        box-shadow: var(--shadow-lg);\n    }\n}\n\n/* Loading state */\n.mp-search-loading {\n    display: none;\n    padding: calc(2 * var(--mp-rem)) calc(1.25 * var(--mp-rem));\n    text-align: center;\n    color: var(--color-text-secondary);\n}\n\n.mp-search-loading:not(.mp-search-hidden) {\n    display: block;\n}\n\n.mp-search-spinner {\n    display: inline-block;\n    width: calc(2 * var(--mp-rem));\n    height: calc(2 * var(--mp-rem));\n    margin-bottom: calc(1 * var(--mp-rem));\n    border: 2px solid var(--color-border);\n    border-top-color: var(--accent-color);\n    border-radius: 50%;\n    animation: mp-spin 0.8s linear infinite;\n}\n\n@keyframes mp-spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n/* Search header */\n.mp-search-header {\n    align-items: center;\n    border-bottom: 1px solid var(--color-border);\n    padding: calc(0.75 * var(--mp-rem)) calc(1.25 * var(--mp-rem));\n    position: relative;\n    background: var(--color-surface-elevated);\n    display: grid;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n    gap: calc(1 * var(--mp-rem));\n}\n\n@media (min-width: 640px) {\n    .mp-search-header {\n        padding: calc(0.875 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n    }\n}\n\n.mp-search-form {\n    position: relative;\n}\n\n.mp-search-form:before {\n    content: \"\";\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='rgb(55, 65, 81)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z' /%3E%3C/svg%3E\");\n    height: calc(1.125 * var(--mp-rem));\n    width: calc(1.125 * var(--mp-rem));\n    position: absolute;\n    left: calc(0.75 * var(--mp-rem));\n    top: 50%;\n    transform: translateY(-50%);\n    opacity: 0.7;\n    color: var(--color-text);\n    pointer-events: none;\n    z-index: 1;\n    transition: opacity var(--transition-base);\n}\n\n@media (min-width: 640px) {\n    .mp-search-form:before {\n        left: calc(0.875 * var(--mp-rem));\n    }\n}\n\n.mp-search-dark .mp-search-form:before {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='rgb(209, 213, 219)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z' /%3E%3C/svg%3E\");\n}\n\n.mp-search-input {\n    -webkit-appearance: none;\n    background: transparent;\n    border-radius: calc(0.75 * var(--mp-rem));\n    border: 1px solid var(--color-border);\n    box-shadow: var(--shadow-sm);\n    color: var(--color-text);\n    font-size: calc(1 * var(--mp-rem));\n    height: calc(2.75 * var(--mp-rem));\n    outline: none;\n    padding: calc(0.75 * var(--mp-rem)) calc(0.75 * var(--mp-rem)) calc(0.75 * var(--mp-rem)) calc(2.75 * var(--mp-rem));\n    width: 100%;\n    transition: all var(--transition-smooth);\n    background: var(--color-surface);\n    letter-spacing: -0.011em;\n}\n\n/* Hide the search clear button */\n.mp-search-input::-webkit-search-cancel-button {\n    -webkit-appearance: none;\n    display: none;\n}\n\n@media (min-width: 640px) {\n    .mp-search-input {\n        font-size: calc(1.125 * var(--mp-rem));\n        height: calc(3 * var(--mp-rem));\n        padding: calc(0.875 * var(--mp-rem)) calc(0.875 * var(--mp-rem)) calc(0.875 * var(--mp-rem)) calc(3 * var(--mp-rem));\n    }\n}\n\n.mp-search-input:focus,\n.mp-search-input:focus-visible {\n    background: var(--color-surface);\n    outline: none;\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 1px var(--accent-color);\n}\n\n.mp-search-input::placeholder {\n    color: var(--color-text-secondary);\n    opacity: 0.7;\n}\n\n/* Results container */\n.mp-search-results-container {\n    flex: 1;\n    overflow-y: auto;\n    overscroll-behavior: contain;\n    position: relative;\n    scroll-behavior: smooth;\n    padding: calc(0.5 * var(--mp-rem)) 0;\n    -webkit-overflow-scrolling: touch;\n    min-height: 0;\n    background: var(--color-surface);\n    padding: calc(0.75 * var(--mp-rem)) calc(calc(1.5 * var(--mp-rem)) - 6px) calc(0.75 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n}\n\n@media (min-width: 640px) {\n    .mp-search-results-container {\n        height: auto;\n        max-height: calc(60vh - calc(4 * var(--mp-rem)));\n        padding-bottom: calc(1 * var(--mp-rem));\n    }\n}\n\n.mp-search-results-container::-webkit-scrollbar {\n    width: 6px;\n}\n\n.mp-search-results-container::-webkit-scrollbar-track {\n    background: transparent;\n}\n\n.mp-search-results-container::-webkit-scrollbar-thumb {\n    background: var(--color-border);\n    border-radius: 3px;\n}\n\n.mp-search-results-container > :last-child {\n    margin-bottom: calc(0.75 * var(--mp-rem));\n}\n\n/* Common searches */\n.mp-search-common-searches {\n    padding: calc(0.75 * var(--mp-rem)) 0;\n    padding-right: 6px;\n    margin: 0;\n}\n\n.mp-search-common-searches-title {\n    color: var(--color-text-secondary);\n    font-size: calc(0.75 * var(--mp-rem));\n    font-weight: 600;\n    letter-spacing: 0.05em;\n    margin: 0 0 calc(0.75 * var(--mp-rem));\n    text-transform: uppercase;\n}\n\n#mp-search-common-searches-container {\n    display: flex;\n    flex-direction: column;\n    gap: calc(0.25 * var(--mp-rem));\n}\n\n.mp-search-common-search-btn {\n    background: transparent;\n    border: none;\n    color: var(--color-text);\n    border-radius: calc(0.5 * var(--mp-rem));\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: calc(0.75 * var(--mp-rem)) calc(1 * var(--mp-rem));\n    text-decoration: none;\n    transition: all var(--transition-base);\n    font-size: calc(0.875 * var(--mp-rem));\n    text-align: left;\n    border: 1px solid transparent;\n}\n\n.mp-search-common-search-btn:hover,\n.mp-search-common-search-btn.mp-search-selected {\n    background: var(--color-result-hover);\n    border-color: var(--accent-color);\n}\n\n.mp-search-hits-list {\n    margin-block-start: calc(0.5 * var(--mp-rem));\n    margin-block-end: calc(0.5 * var(--mp-rem));\n}\n\n/* Search result link wrapper */\n.mp-search-result-link {\n    text-decoration: none;\n    color: inherit;\n    display: block;\n}\n\n/* Search results */\n.mp-search-result-item {\n    border-radius: calc(0.75 * var(--mp-rem));\n    display: block;\n    margin: calc(0.5 * var(--mp-rem)) 0;\n    padding: calc(1.25 * var(--mp-rem));\n    text-decoration: none;\n    transition: background-color var(--transition-base), transform var(--transition-base);\n    border: 1px solid transparent;\n    word-break: break-word;\n    background: var(--color-result-bg);\n}\n\n.mp-search-result-link:hover .mp-search-result-item,\n.mp-search-result-link.mp-search-selected .mp-search-result-item,\n.mp-search-result-link:focus .mp-search-result-item {\n    background: var(--color-result-hover);\n    border-color: var(--accent-color);\n    transform: translateX(2px);\n}\n\n.mp-search-result-title {\n    color: var(--accent-color);\n    font-size: calc(1.125 * var(--mp-rem));\n    font-weight: 600;\n    line-height: 1.4;\n    margin-top: 0;\n    margin-bottom: calc(0.5 * var(--mp-rem));\n    word-break: break-word;\n    transition: color var(--transition-base);\n}\n\n.mp-search-result-excerpt {\n    color: var(--color-text-secondary);\n    font-size: calc(0.9375 * var(--mp-rem));\n    line-height: 1.6;\n    margin: 0;\n    word-break: break-word;\n}\n\n/* Keyboard hints */\n.mp-search-hints {\n    display: flex;\n    align-items: center;\n    font-size: calc(0.75 * var(--mp-rem));\n    gap: calc(1 * var(--mp-rem));\n    color: var(--color-text-secondary);\n    white-space: nowrap;\n    user-select: none;\n    margin-right: calc(0.5 * var(--mp-rem));\n}\n\n.mp-search-kbd {\n    background: var(--color-surface-elevated);\n    border: 1px solid var(--color-border);\n    border-radius: calc(0.375 * var(--mp-rem));\n    color: var(--color-text-secondary);\n    font-size: calc(0.75 * var(--mp-rem));\n    padding: calc(0.25 * var(--mp-rem)) calc(0.375 * var(--mp-rem));\n    box-shadow: var(--shadow-sm);\n    font-size: calc(0.75 * var(--mp-rem));\n    font-weight: 500;\n    padding: calc(0.25 * var(--mp-rem)) calc(0.5 * var(--mp-rem));\n    box-shadow: var(--shadow-sm);\n    margin: 0 calc(0.25 * var(--mp-rem));\n}\n\n/* Empty state */\n.mp-search-empty {\n    padding: calc(2.5 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n    text-align: center;\n}\n\n.mp-search-empty-message {\n    color: var(--color-text-secondary);\n    font-size: calc(1 * var(--mp-rem));\n}\n\n/* Close button */\n.mp-search-close {\n    position: fixed;\n    top: calc(1.25 * var(--mp-rem));\n    right: calc(1.5 * var(--mp-rem));\n    width: calc(2 * var(--mp-rem));\n    height: calc(2 * var(--mp-rem));\n    border-radius: 9999px;\n    border: 1px solid var(--color-border);\n    background: var(--color-surface-elevated);\n    color: var(--color-text-secondary);\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all var(--transition-base);\n    font-size: calc(1.25 * var(--mp-rem));\n    line-height: 1;\n    z-index: 50;\n    padding: 0;\n}\n\n.mp-search-close:hover {\n    background: var(--color-surface-hover);\n    color: var(--color-text);\n    border-color: var(--accent-color);\n}\n\n.mp-search-close:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--color-surface), 0 0 0 4px var(--accent-color);\n    border-color: var(--accent-color);\n}\n\n/* Highlight styles */\n.mp-search-highlight {\n    background: none;\n    background: color-mix(in srgb, var(--accent-color) 15%, transparent);\n    color: color-mix(in srgb, var(--accent-color) 85%, var(--color-text));\n    font-weight: 600;\n    border-radius: 2px;\n    padding: 0 1px;\n}\n\n/* Mobile optimizations */\n@media (max-width: 640px) {\n    .mp-search-hints {\n        display: none;\n    }\n\n    .mp-search-content {\n        margin-top: 0;\n        border-radius: 0;\n        height: 100vh;\n    }\n\n    .mp-search-container {\n        padding: 0;\n        margin: 0;\n    }\n\n    .mp-search-results-container {\n        padding-bottom: calc(1.5 * var(--mp-rem));\n        max-height: calc(100vh - calc(4 * var(--mp-rem)));\n    }\n}\n\n/* Fix header positioning on mobile */\n@media (max-width: 640px) {\n    .mp-search-header {\n        padding-right: calc(4.25 * var(--mp-rem));\n    }\n}",document.head.appendChild(e)),await this.createSearchModal(),this.initEventListeners(),this.setupHashHandling(),await this.handleInitialState()}async createSearchModal(){var e;document.getElementById(N+"-modal")||(e=`
                <div id="${N}-modal" class="${N}-modal ${N}-hidden" role="dialog" aria-modal="true" aria-label="Search">
                    <div class="${N}-backdrop"></div>
                    <div class="${N}-container">
                        <button class="${N}-close" aria-label="Close search">
                            <span aria-hidden="true"></span>
                        </button>
                        <div class="${N}-content">
                            <div class="${N}-header">
                                <div id="${N}-searchbox" role="search">
                                    <form class="${N}-form" role="search">
                                        <input 
                                            type="search" 
                                            class="${N}-input" 
                                            placeholder="Search for anything"
                                            autocomplete="off"
                                            autocorrect="off"
                                            autocapitalize="off"
                                            spellcheck="false"
                                            maxlength="512"
                                            aria-label="Search"
                                        />
                                    </form>
                                </div>
                                <div class="${N}-hints">
                                    <span>
                                        <kbd class="${N}-kbd"></kbd>
                                        to navigate
                                    </span>
                                    <span>
                                        <kbd class="${N}-kbd">esc</kbd>
                                        to close
                                    </span>
                                </div>
                            </div>
                            <div class="${N}-results-container">
                                ${this.getCommonSearchesHtml()}
                                <div id="${N}-hits" class="${N}-hits-list" role="region" aria-label="Search results"></div>
                                <div id="${N}-loading" class="${N}-loading ${N}-hidden" role="status" aria-live="polite">
                                    <div class="${N}-spinner" aria-hidden="true"></div>
                                    <div>Searching...</div>
                                </div>
                                <div id="${N}-empty" class="${N}-empty ${N}-hidden" role="status" aria-live="polite">
                                    <div class="${N}-empty-message">
                                        <p>No results found for your search</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,document.body.insertAdjacentHTML("beforeend",e),this.modal=document.getElementById(N+"-modal"),this.searchInput=this.modal.querySelector(`.${N}-input`),this.searchForm=this.modal.querySelector(`.${N}-form`),this.hitsList=this.modal.querySelector(`#${N}-hits`),this.commonSearches=this.modal.querySelector(`.${N}-common-searches`),this.loadingState=this.modal.querySelector(`#${N}-loading`),this.emptyState=this.modal.querySelector(`#${N}-empty`),this.updateTheme())}getCommonSearchesHtml(){return this.config.commonSearches?.length?`
                <div class="${N}-common-searches">
                    <div class="${N}-common-searches-title" role="heading" aria-level="2">
                        Common searches
                    </div>
                    <div id="${N}-common-searches-container" role="list">
                        ${this.config.commonSearches.map(e=>`
                            <button type="button" 
                                class="${N}-common-search-btn" 
                                data-search="${e}"
                                role="listitem">
                                ${e}
                            </button>
                        `).join("")}
                    </div>
                </div>
            `:`
                    <div class="${N}-common-searches">
                        <div class="${N}-empty-message">Start typing to search...</div>
                    </div>
                `}updateTheme(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.modal.classList.toggle(N+"-dark",e)}initEventListeners(){this.modal.querySelector(`.${N}-close`).addEventListener("click",()=>this.closeModal()),this.modal.addEventListener("click",e=>{e.target!==this.modal&&!e.target.classList.contains(N+"-backdrop")||this.closeModal()}),this.modal.querySelector(`.${N}-container`).addEventListener("click",e=>e.stopPropagation()),this.searchForm.addEventListener("submit",e=>{e.preventDefault()}),this.searchInput.addEventListener("input",e=>{const t=e.target.value;this.searchDebounceTimeout&&clearTimeout(this.searchDebounceTimeout),this.searchDebounceTimeout=setTimeout(()=>{this.handleSearch(t)},80)}),this.attachCommonSearchListeners(),document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),this.openModal()),"/"!==e.key||e.ctrlKey||e.metaKey||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||(e.preventDefault(),this.openModal()),"Escape"===e.key&&this.isModalOpen&&(e.preventDefault(),this.closeModal())}),this.modal.addEventListener("keydown",e=>this.handleKeydown(e)),document.querySelectorAll("[data-ghost-search]").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.openModal()})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.updateTheme()})}attachCommonSearchListeners(){var e,t=this.modal.querySelector(`#${N}-common-searches-container`);t&&(t.addEventListener("click",e=e=>{var t=e.target.closest(`.${N}-common-search-btn`);if(t){e.preventDefault();const n=t.dataset.search;this.searchInput&&(this.selectedIndex=-1,this.searchInput.value=n,this.searchInput.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{this.searchInput.focus(),this.searchInput.setSelectionRange(n.length,n.length)},0))}}),t.addEventListener("touchend",e))}lockBodyScroll(){this.scrollPosition=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${this.scrollPosition}px`,document.body.style.width="100%"}unlockBodyScroll(){document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),window.scrollTo(0,this.scrollPosition)}async openModal(){var e;this.isModalOpen||(this.activeElement=document.activeElement,this.modal.classList.remove(N+"-hidden"),this.isModalOpen=!0,this.lockBodyScroll(),setTimeout(()=>{this.searchInput.focus()},50),"#/search"!==window.location.hash&&history.replaceState(null,null,""+window.location.pathname+window.location.search+"#/search"),(e=(e=new URLSearchParams(window.location.search)).get("s")||e.get("q"))&&this.searchInput&&(this.searchInput.value=e,this.handleSearch(e)))}closeModal(){this.isModalOpen&&(this.modal.classList.add(N+"-hidden"),this.isModalOpen=!1,this.unlockBodyScroll(),this.selectedIndex=-1,this.searchInput&&(this.searchInput.value=""),this.handleSearch(""),this.activeElement&&"function"==typeof this.activeElement.focus&&this.activeElement.focus(),"#/search"===window.location.hash)&&history.replaceState(null,null,""+window.location.pathname+window.location.search)}async handleSearch(e){if(e=e?.trim()){this.commonSearches&&this.commonSearches.classList.add(N+"-hidden"),this.hitsList&&this.hitsList.classList.remove(N+"-hidden"),this.loadingState&&this.loadingState.classList.remove(N+"-hidden"),this.emptyState&&this.emptyState.classList.add(N+"-hidden");try{this.typesenseClient||(this.typesenseClient=new pi.Client({nodes:this.config.typesenseNodes,apiKey:this.config.typesenseApiKey,connectionTimeoutSeconds:2}));var t,n={q:e,...this.getSearchParameters()},o=await this.typesenseClient.collections(this.config.collectionName).documents().search(n);(this.loadingState&&this.loadingState.classList.add(N+"-hidden"),0===o.hits.length)?(this.emptyState&&this.emptyState.classList.remove(N+"-hidden"),this.hitsList&&(this.hitsList.innerHTML="",this.hitsList.classList.add(N+"-hidden"))):(this.emptyState&&this.emptyState.classList.add(N+"-hidden"),this.hitsList.innerHTML="",t=o.hits.map(e=>{var t=e.document.title||"Untitled",n=e.document.excerpt||e.document.plaintext?.substring(0,160)||"";return`
                        <a href="${e.document.url||"#"}" 
                            class="${N}-result-link"
                            aria-label="${t}">
                            <article class="${N}-result-item" role="article">
                                <h3 class="${N}-result-title" role="heading" aria-level="3">${t}</h3>
                                <p class="${N}-result-excerpt" aria-label="Article excerpt">${n}</p>
                            </article>
                        </a>
                    `}).join(""),this.hitsList.innerHTML=t,this.hitsList.classList.remove(N+"-hidden"))}catch(e){this.loadingState&&this.loadingState.classList.add(N+"-hidden"),this.emptyState&&this.emptyState.classList.remove(N+"-hidden"),this.hitsList&&(this.hitsList.innerHTML="",this.hitsList.classList.add(N+"-hidden"))}}else this.selectedIndex=-1,this.hitsList&&this.hitsList.classList.add(N+"-hidden"),this.commonSearches&&this.commonSearches.classList.remove(N+"-hidden"),this.emptyState&&this.emptyState.classList.add(N+"-hidden"),this.loadingState&&this.loadingState.classList.add(N+"-hidden")}getSearchParameters(){const e=0<Object.keys(this.config.searchFields||{}).length?this.config.searchFields:{title:{weight:5,highlight:!0},excerpt:{weight:3,highlight:!0},plaintext:{weight:4,highlight:!0},"tags.name":{weight:4,highlight:!0},"tags.slug":{weight:3,highlight:!0}},n=[],o=[],r=[];return Object.entries(e).forEach(([e,t])=>{n.push(e),o.push(t.weight||1),t.highlight&&r.push(e)}),{query_by:n.join(","),query_by_weights:o.join(","),highlight_full_fields:r.join(","),highlight_affix_num_tokens:30,include_fields:"title,url,excerpt,plaintext,published_at,tags",typo_tolerance:!1,num_typos:0,prefix:!0,per_page:20,drop_tokens_threshold:0,enable_nested_fields:!0,prioritize_exact_match:!0,sort_by:"_text_match:desc,published_at:desc"}}handleKeydown(e){if("Escape"===e.key)e.preventDefault(),this.closeModal();else if(e.target===this.searchInput)switch(e.key){case"ArrowDown":e.preventDefault(),this.navigateResults("next");break;case"ArrowUp":e.preventDefault(),this.navigateResults("prev");break;case"Enter":-1!==this.selectedIndex&&(e.preventDefault(),this.handleEnterKey())}}navigateResults(e){var t=[...this.modal.querySelectorAll(`.${N}-result-link, .${N}-common-search-btn:not(.${N}-hidden)`)].filter(e=>null!==e.offsetParent&&!e.closest(`.${N}-hidden`));0!==t.length&&(-1===this.selectedIndex?this.selectedIndex="next"===e?0:t.length-1:this.selectedIndex="next"===e?(this.selectedIndex+1)%t.length:(this.selectedIndex-1+t.length)%t.length,t.forEach(e=>e.classList.remove(N+"-selected")),(e=t[this.selectedIndex]).classList.add(N+"-selected"),e.scrollIntoView({block:"nearest",behavior:"auto"}))}handleEnterKey(){var e=[...this.modal.querySelectorAll(`.${N}-result-link, .${N}-common-search-btn:not(.${N}-hidden)`)].filter(e=>null!==e.offsetParent&&!e.closest(`.${N}-hidden`));0<=this.selectedIndex&&this.selectedIndex<e.length&&((e=e[this.selectedIndex]).classList.contains(N+"-result-link")?window.location.href=e.href:(this.searchInput.value=e.textContent.trim(),this.searchInput.dispatchEvent(new Event("input",{bubbles:!0}))))}setupHashHandling(){window.addEventListener("hashchange",()=>this.syncWithHash())}async syncWithHash(){var e=window.location.hash.startsWith("#/search");e!==this.isModalOpen&&(e?await this.openModal():this.closeModal())}async handleInitialState(){var e=new URLSearchParams(window.location.search),e=e.get("s")||e.get("q"),t=window.location.hash.split("/");let n=null;(n=2<t.length&&"search"===t[1]?decodeURIComponent(t[2]).replace(/\+/g," "):n)?(await this.openModal(),this.searchInput&&(this.searchInput.value=n,this.handleSearch(n))):e?(await this.openModal(),this.searchInput&&(this.searchInput.value=e,this.handleSearch(e))):"#/search"===window.location.hash&&await this.openModal()}}function mi(){var e=new URLSearchParams(window.location.search),e=e.has("s")||e.has("q");if(!window.magicPagesSearch&&(window.__MP_SEARCH_CONFIG__||"#/search"===window.location.hash||e||0<document.querySelectorAll("[data-ghost-search]").length)){window.magicPagesSearch=new yi;{(o=new MutationObserver(e=>{if(n)for(const n of e)for(const e of n.addedNodes)1===e.nodeType&&("SCRIPT"===e.tagName&&e.hasAttribute("data-sodo-search")||"sodo-search-root"===e.id)&&e.remove()})).observe(document.documentElement,{childList:!0,subtree:!0});const t=setInterval(fi,100);setTimeout(()=>{clearInterval(t),o&&(o.disconnect(),o=null)},5e3)}}}window.MagicPagesSearch=yi,new Promise(e=>{if(document.body)e();else{const t=new MutationObserver(()=>{document.body&&(t.disconnect(),e())});t.observe(document.documentElement,{childList:!0})}}).then(mi),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",mi)}}(),(new class{constructor(e="#webmentions"){this.targetSelector=e,this.container=null,this.cache=new Map,this.initialized=!1}init(){this.initialized||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup(),this.initialized=!0)}setup(){var e;this.container=document.querySelector(this.targetSelector),this.container?(this.container.innerHTML='<div class="wm-loading">Loading mentions...</div>',e=window.location.href.replace(/#.*$/,""),console.log("Fetching webmentions for:",e),this.fetchWebmentions(e).then(e=>this.renderWebmentions(e)).catch(e=>this.handleError(e))):console.log("Webmention container not found")}async fetchWebmentions(e){if(this.cache.has(e))return this.cache.get(e);try{var t=new URL(e),n=[],o=(t.hostname.startsWith("www.")?(n.push(e),n.push(e.replace("www.",""))):(n.push(e),n.push(e.replace("://","://www."))),"https://webmention.io/api/mentions.jf2?"+n.map(e=>"target[]="+encodeURIComponent(e)).join("&")),r=(console.log("Fetching from endpoint:",o),await fetch(o));if(!r.ok)throw new Error("HTTP error! status: "+r.status);const i=await r.json();return console.log("Received webmentions:",i),n.forEach(e=>this.cache.set(e,i)),i}catch(e){throw console.error("Error fetching webmentions:",e),e}}renderWebmentions(t){if(this.container)if(t.children&&0!==t.children.length){this.container.style.display="";var n=t.children.filter(e=>["like-of","repost-of","bookmark-of"].includes(e["wm-property"])),t=t.children.filter(e=>["mention-of","in-reply-to"].includes(e["wm-property"]));let e='<div class="wm-container">';e+=`
          <h3 class="wm-header">Mentions around the web</h3>
          <div class="wm-avatar-grid">
              ${n.map(e=>this.renderAvatar(e)).join("")}
              <span class="wm-reactions-count">${n.length} Likes and Retweets</span>
          </div>
      `,0<t.length&&(e+=`
              <div class="wm-mentions-list">
                  ${t.map(e=>this.renderMention(e)).join("")}
              </div>
              ${4<t.length?`<button class="wm-show-more">Show ${t.length-4} more</button>`:""}
          `),e+="</div>",this.container.innerHTML=e;const o=this.container.querySelector(".wm-show-more");o&&o.addEventListener("click",()=>{this.container.querySelector(".wm-mentions-list").classList.add("wm-show-all"),o.style.display="none"})}else this.container.style.display="none"}renderAvatar(e){var t=e.author||{},n="https://webmention.io/avatar/default.svg";return`
            <a href="${e.url}" 
               class="wm-avatar-link" 
               target="_blank" 
               rel="noopener noreferrer"
               title="${t.name||"Someone"} ${this.getReactionText(e["wm-property"])}">
                <img src="${t.photo||n}"
                     alt="${t.name||"Anonymous"}"
                     loading="lazy"
                     class="wm-avatar-img"
                     onerror="this.src='${n}'">
            </a>
        `}renderMention(e){var t=e.author||{},n=new Date(e.published||e["wm-received"]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return`
          <div class="wm-mention-item">
              <img src="${t.photo||"https://webmention.io/avatar/default.svg"}"
                   alt="${t.name||"Anonymous"}"
                   loading="lazy"
                   class="wm-author-img">
              
              <div class="wm-mention-content-wrapper">
                  <div class="wm-mention-header">
                      <a href="${t.url||e.url}" 
                         class="wm-author-name" 
                         target="_blank" 
                         rel="noopener noreferrer">
                          ${t.name||"Anonymous"}
                      </a>
                      <span class="wm-mention-metadata">
                          ${this.getMentionType(e["wm-property"])} on
                          <a href="${e.url}" 
                             class="wm-mention-source" 
                             target="_blank" 
                             rel="noopener noreferrer">
                              ${this.getSourceName(e.url)}
                          </a>
                           ${n}
                      </span>
                  </div>
                  ${e.content?.text?`
                      <div class="wm-mention-content">
                          ${this.formatContent(e.content.text)}
                      </div>
                  `:""}
              </div>
          </div>
      `}getReactionText(e){return{"like-of":"liked this","repost-of":"reposted this","bookmark-of":"bookmarked this"}[e]||"reacted to this"}getMentionType(e){return{"mention-of":"mentioned","in-reply-to":"replied to"}[e]||"mentioned"}getSourceName(e){try{var t=new URL(e).hostname.replace("www.","");return t.split(".")[0].charAt(0).toUpperCase()+t.split(".")[0].slice(1)}catch(e){return"Link"}}formatContent(e){e=e.replace(/[&<>"']/g,e=>({"&":"&","<":"<",">":">",'"':'"',"'":"&#39;"})[e]);return 280<e.length?e.substring(0,280)+"...":e}handleError(e){this.container&&(console.error("Webmention error:",e),this.container.innerHTML='<div class="wm-error">Error loading mentions</div>')}}).init();
//# sourceMappingURL=main.js.map