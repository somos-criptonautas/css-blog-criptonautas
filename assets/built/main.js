function dropdown(){const i=window.matchMedia("(max-width: 991px)"),o=document.querySelector(".gh-head-menu"),r=o?.querySelector(".nav");if(r){const e=document.querySelector(".gh-head-logo"),t=r.innerHTML;i.matches&&r.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"});const n=function(){if(!i.matches){for(var e=[];r.offsetWidth+64>o.offsetWidth&&r.lastElementChild;)e.unshift(r.lastElementChild),r.lastElementChild.remove();if(e.length){const t=document.createElement("button"),n=(t.setAttribute("class","nav-more-toggle gh-icon-btn"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));n.setAttribute("class","gh-dropdown"),10<=e.length?(document.body.classList.add("is-dropdown-mega"),n.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):document.body.classList.remove("is-dropdown-mega"),e.forEach(function(e){n.appendChild(e)}),t.appendChild(n),r.appendChild(t),document.body.classList.add("is-dropdown-loaded"),window.addEventListener("click",function(e){document.body.classList.contains("is-dropdown-open")?document.body.classList.remove("is-dropdown-open"):t.contains(e.target)&&document.body.classList.add("is-dropdown-open")})}else document.body.classList.add("is-dropdown-loaded")}};imagesLoaded(e,function(){n()}),window.addEventListener("load",function(){e||n()}),window.addEventListener("resize",function(){setTimeout(()=>{r.innerHTML=t,n()},1)})}}function lightbox(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){var t=e;t.preventDefault();for(var n,i=[],o=0,r=t.target.closest(".kg-card").previousElementSibling;r&&(r.classList.contains("kg-image-card")||r.classList.contains("kg-gallery-card"));){var s=[];r.querySelectorAll("img").forEach(function(e){s.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),o+=1}),r=r.previousElementSibling,i=s.concat(i)}t.target.classList.contains("kg-image")?i.push({src:t.target.getAttribute("src"),msrc:t.target.getAttribute("src"),w:t.target.getAttribute("width"),h:t.target.getAttribute("height"),el:t.target}):(n=!1,t.target.closest(".kg-gallery-card").querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),n||e===t.target?n=!0:o+=1}));for(var a=t.target.closest(".kg-card").nextElementSibling;a&&(a.classList.contains("kg-image-card")||a.classList.contains("kg-gallery-card"));)a.querySelectorAll("img").forEach(function(e){i.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e})}),a=a.nextElementSibling;e=document.querySelectorAll(".pswp")[0];new PhotoSwipe(e,PhotoSwipeUI_Default,i,{bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:o,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){var e=i[e].el,t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}).init()})})}function pagination(e,a,l=!1){const c=document.querySelector(".gh-feed");if(!c)return;let t=!1;async function n(){var t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelectorAll(".gh-feed:not(.gh-featured):not(.gh-related) > *");const r=document.createDocumentFragment(),s=[];i.forEach(function(e){e=document.importNode(e,!0);l&&(e.style.visibility="hidden"),r.appendChild(e),s.push(e)}),c.appendChild(r),a&&a(s,d);var o=n.querySelector("link[rel=next]");o&&o.href?t.href=o.href:(t.remove(),u&&u.remove())}catch(e){throw t.remove(),u&&u.remove(),e}}const i=c.nextElementSibling||c.parentElement.nextElementSibling||document.querySelector(".gh-foot"),u=document.querySelector(".gh-loadmore"),d=(!document.querySelector("link[rel=next]")&&u&&u.remove(),async function(){i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await n()});const o=new IntersectionObserver(async function(e){if(!t){if(t=!0,e[0].isIntersecting)if(l)await n();else for(;i.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await n();t=!1,document.querySelector("link[rel=next]")||o.disconnect()}});e?o.observe(i):u.addEventListener("click",n)}function flyingPages(){var n,o,i,t,r,e,s,a,l,c=new Set,u=new Set,d=document.createElement("link"),d=d.relList&&d.relList.supports&&d.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype;navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"))||!d||(n=function(i){return new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=i,n.onload=e,n.onerror=t,document.head.appendChild(n)})},o=function(e){var t=setTimeout(function(){return l()},5e3);n(e).catch(function(){return l()}).finally(function(){return clearTimeout(t)})},i=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!u.has(e)&&!c.has(e)){var n=window.location.origin;if(e.substring(0,n.length)===n&&window.location.href!==e){for(var i=0;i<window.FPConfig.ignoreKeywords.length;i++)if(e.includes(window.FPConfig.ignoreKeywords[i]))return;(t?(o(e),u):c).add(e)}}},t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e=e.target.href,i(e,!window.FPConfig.maxRPS))})}),r=null,e=function(e){var t=e.target.closest("a");t&&t.href&&!u.has(t.href)&&(r=setTimeout(function(){i(t.href,!0)},window.FPConfig.hoverDelay))},s=function(e){e=e.target.closest("a");e&&e.href&&!u.has(e.href)&&i(e.href,!0)},a=function(e){e=e.target.closest("a");e&&e.href&&!u.has(e.href)&&clearTimeout(r)},d=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return(0,Math.max)(0,50-(Date.now()-t))}})},1)},l=function(){document.querySelectorAll("a").forEach(function(e){return t.unobserve(e)}),c.clear(),document.removeEventListener("mouseover",e,!0),document.removeEventListener("mouseout",a,!0),document.removeEventListener("touchstart",s,!0)},window.FPConfig=Object.assign({delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50},window.FPConfig),setInterval(function(){Array.from(c).slice(0,window.FPConfig.maxRPS).forEach(function(e){o(e),u.add(e),c.delete(e)})},1e3),d(function(){return setTimeout(function(){return document.querySelectorAll("a").forEach(function(e){return t.observe(e)})},1e3*window.FPConfig.delay)}),d={capture:!0,passive:!0},document.addEventListener("mouseover",e,d),document.addEventListener("mouseout",a,d),document.addEventListener("touchstart",s,d))}!function(){var e=document.querySelector(".gh-burger");e&&e.addEventListener("click",function(){document.body.classList.contains("is-head-open")?document.body.classList.remove("is-head-open"):document.body.classList.add("is-head-open")})}(),lightbox(".kg-image-card > .kg-image[width][height], .kg-gallery-image > img"),reframe(document.querySelectorAll(['.gh-content iframe[src*="youtube.com"]','.gh-content iframe[src*="youtube-nocookie.com"]','.gh-content iframe[src*="player.vimeo.com"]','.gh-content iframe[src*="kickstarter.com"][src*="video.html"]',".gh-content object",".gh-content embed"].join(","))),dropdown(),flyingPages(),function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";function n(l,c,u){(u=u||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[l]=function(e){var t,i,o,r,s,a;return"string"==typeof e?(t=d.call(arguments,1),o=t,s="$()."+l+'("'+(i=e)+'")',(t=this).each(function(e,t){var n,t=u.data(t,l);t?(n=t[i])&&"_"!=i.charAt(0)?(n=n.apply(t,o),r=void 0===r?n:r):h(s+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:t):(a=e,this.each(function(e,t){var n=u.data(t,l);n?(n.option(a),n._init()):(n=new c(t,a),u.data(t,l,n))}),this)},i(u))}function i(e){e&&!e.bridget&&(e.bridget=n)}var d=Array.prototype.slice,o=e.console,h=void 0===o?function(){}:function(e){o.error(e)};return i(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(n,r){var l={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice,c=(l.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},l.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},l.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},l.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.filterFindElements=function(e,i){e=l.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},l.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r],t=(clearTimeout(e),arguments),n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},l.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},l.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()},n.console);return l.htmlInit=function(s,a){l.docReady(function(){var e=l.toDashed(a),i="data-"+e,t=document.querySelectorAll("["+i+"]"),e=document.querySelectorAll(".js-"+e),t=l.makeArray(t).concat(l.makeArray(e)),o=i+"-options",r=n.jQuery;t.forEach(function(t){var e,n=t.getAttribute(i)||t.getAttribute(o);try{e=n&&JSON.parse(n)}catch(e){return void(c&&c.error("Error parsing "+i+" on "+t.className+": "+e))}n=new s(t,e);r&&r.data(t,a,n)})})},l}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("ev-emitter"),require("fizzy-ui-utils")):n.InfiniteScroll=i(n,n.EvEmitter,n.fizzyUIUtils)}(window,function(t,e,o){function r(e,t){var n,i=o.getQueryElement(e);if(i)return(e=i).infiniteScrollGUID?((n=a[e.infiniteScrollGUID]).option(t),n):(this.element=e,this.options=o.extend({},r.defaults),this.option(t),s&&(this.$element=s(this.element)),void this.create());console.error("Bad element for InfiniteScroll: "+(i||e))}var s=t.jQuery,a={},n=(r.defaults={},r.create={},r.destroy={},r.prototype),i=(o.extend(n,e.prototype),0),l=(n.create=function(){var e=this.guid=++i;if(this.element.infiniteScrollGUID=e,(a[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[t].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(e){o.extend(this.options,e)},n.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},n.dispatchEvent=function(e,t,n){this.log(e,n);var i=t?[t].concat(n):n;this.emitEvent(e,i),s&&this.$element&&(i=e+=".infiniteScroll",t&&((t=s.Event(t)).type=e,i=t),this.$element.trigger(i,n))},{initialized:function(e){return"on "+e},request:function(e){return"URL: "+e},load:function(e,t){return(e.title||"")+". URL: "+t},error:function(e,t){return e+". URL: "+t},append:function(e,t,n){return n.length+" items. URL: "+t},last:function(e,t){return"URL: "+t},history:function(e,t){return"URL: "+t},pageIndex:function(e,t){return"current page determined to be: "+e+" from "+t}}),c=(n.log=function(e,t){var n;this.options.debug&&(n="[InfiniteScroll] "+e,(e=l[e])&&(n+=". "+e.apply(this,t)),console.log(n))},n.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},n.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:o.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},n.updateGetPath=function(){var e=this.options.path;if(e){var t=typeof e;if("function"!=t)return"string"==t&&e.match("{{#}}")?void this.updateGetPathTemplate(e):void this.updateGetPathSelector(e);this.getPath=e}else console.error("InfiniteScroll path option required. Set as: "+e)},n.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),e=new RegExp(e),e=location.href.match(e);e&&(this.pageIndex=parseInt(e[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]);return n.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){for(var n,i=t.getAttribute("href"),o=0;i&&o<c.length;o++){var r=i.match(c[o]);if(r){n=r.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var e=this.pageIndex+1;return n[0]+e+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+i)}console.error("Bad InfiniteScroll path option. Next link not found: "+e)},n.updateGetAbsolutePath=function(){var e,t,n=this.getPath();n.match(/^http/)||n.match(/^\//)?this.getAbsolutePath=this.getPath:(e=location.pathname,n.match(/^\?/)?this.getAbsolutePath=function(){return e+this.getPath()}:(t=e.substring(0,e.lastIndexOf("/")),this.getAbsolutePath=function(){return t+"/"+this.getPath()}))},r.create.hideNav=function(){var e=o.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var e in this.allOff(),r.destroy)r.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete a[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},r.throttle=function(i,o){var r,s;return o=o||200,function(){var e=+new Date,t=arguments,n=function(){r=e,i.apply(this,t)}.bind(this);r&&e<r+o?(clearTimeout(s),s=setTimeout(n,o)):n()}},r.data=function(e){e=(e=o.getQueryElement(e))&&e.infiniteScrollGUID;return e&&a[e]},r.setJQuery=function(e){s=e},o.htmlInit(r,"infinite-scroll"),n._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",r),r}),function(t,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("./core")):n(t,t.InfiniteScroll)}(window,function(i,o){function d(e){for(var t=document.createDocumentFragment(),n=0;e&&n<e.length;n++)t.appendChild(e[n]);return t}var e=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},e.loadNextPage=function(){var t,e,n,i,o,r,s,a,l,c;!this.isLoading&&this.canLoad&&(t=this.getAbsolutePath(),this.isLoading=!0,e=function(e){this.onPageLoad(e,t)}.bind(this),n=function(e){this.onPageError(e,t)}.bind(this),i=function(e){this.lastPageReached(e,t)}.bind(this),o=t,r=this.options.responseType,s=e,a=n,l=i,(c=new XMLHttpRequest).open("GET",o,!0),c.responseType=r||"",c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onload=function(){var e;200==c.status?s(c.response):204==c.status?l(c.response):(e=new Error(c.statusText),a(e))},c.onerror=function(){var e=new Error("Network error requesting "+o);a(e)},c.send(),this.dispatchEvent("request",null,[t]))},e.onPageLoad=function(e,t){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t]),this.appendNextPage(e,t),e},e.appendNextPage=function(e,t){var n,i,o=this.options.append;"document"==this.options.responseType&&o&&(n=e.querySelectorAll(o),i=d(n),o=function(){this.appendItems(n,i),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,n])}.bind(this),this.options.outlayer?this.appendOutlayerItems(i,o):o())},e.appendItems=function(e,t){if(e&&e.length){for(var n=(t=t||d(e)).querySelectorAll("script"),i=0;i<n.length;i++){for(var o=n[i],r=document.createElement("script"),s=(u=c=l=a=s=void 0,o),a=r,l=s.attributes,c=0;c<l.length;c++){var u=l[c];a.setAttribute(u.name,u.value)}r.innerHTML=o.innerHTML,o.parentNode.replaceChild(r,o)}this.element.appendChild(t)}},e.appendOutlayerItems=function(e,t){var n=o.imagesLoaded||i.imagesLoaded;return n?void n(e,t):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},e.onAppendOutlayer=function(e,t,n){this.options.outlayer.appended(n)},e.checkLastPage=function(e,t){var n=this.options.checkLastPage;if(n){var i,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(e,t);"string"==typeof n?i=n:this.isPathSelector&&(i=o),i&&e.querySelector&&(e.querySelector(i)||this.lastPageReached(e,t))}},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t]),e},o.create.prefill=function(){var e;this.options.prefill&&((e=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e))},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;!e&&0!==e||this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},i.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},i.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},i.bindScrollWatchEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),t[e]("resize",this.resizeHandler)},i.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),i.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},i.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},i.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},i.onResize=function(){this.updateMeasurements()},n.debounceMethod(e,"onResize",150),e}),function(n,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./core"),require("fizzy-ui-utils")):i(n,n.InfiniteScroll,n.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype,o=(e.defaults.history="replace",document.createElement("a"));return e.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),t[e]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(e,t,n){n&&n.length&&(n=n[0],n=this.getElementScrollY(n),o.href=t,this.scrollPages.push({top:n,path:o.href,title:e.title}))},i.getElementScrollY=function(e){return this.options.elementScroll?this.getElementElementScrollY(e):this.getElementWindowScrollY(e)},i.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},i.getElementElementScrollY=function(e){return e.offsetTop-this.top},i.onScrollHistory=function(){for(var e,t,n=this.getScrollViewY(),i=0;i<this.scrollPages.length;i++){var o=this.scrollPages[i];if(o.top>=n)break;e=i,t=o}e!=this.scrollPageIndex&&(this.scrollPageIndex=e,this.setHistory(t.title,t.path))},n.debounceMethod(e,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},i.setHistory=function(e,t){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},i.onUnload=function(){var e=this.scrollPageIndex;0!==e&&(e=this.scrollPages[e],e=t.pageYOffset-e.top+this.top,this.destroyHistory(),scrollTo(0,e))},i.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}return t.create.button=function(){var e=n.getQueryElement(this.options.button);e&&(this.button=new i(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},i.prototype.onClick=function(e){e.preventDefault(),this.infScroll.loadNextPage()},i.prototype.enable=function(){this.element.removeAttribute("disabled")},i.prototype.disable=function(){this.element.disabled="disabled"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},t.Button=i,t}),function(e,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(e,t){return n(0,e,t)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./core"),require("fizzy-ui-utils")):n(0,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,n){function i(e){r(e,"none")}function o(e){r(e,"block")}function r(e,t){e&&(e.style.display=t)}var s=t.prototype;return t.create.status=function(){var e=n.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(e){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[e])},s.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var e in this.statusEventElements)i(this.statusEventElements[e])},t}),function(e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(e){return e})),function(t,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function r(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t,n){var i,o;return this instanceof s?(i="string"==typeof(i=e)?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?c.call(o):[o]),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(i||e)):new s(e,t,n)}function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var a=t.jQuery,l=t.console,c=Array.prototype.slice,u=((s.prototype=Object.create(e.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}},{1:!0,9:!0,11:!0});return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){e=new n(e);this.images.push(e)},s.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},s.prototype.check=function(){function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(a(this))})})(),s}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".pagination-section a")&&new InfiniteScroll(".loop-section",{path:".pagination-section a",append:".loop-wrap",button:".pagination-section button",hideNav:".pagination-section a",history:!1,scrollThreshold:!1}).on("append",function(e,t,n){for(var i=0;i<n.length;i++){a=s=r=o=void 0;for(var o=n[i],r=o.querySelectorAll("img[srcset]"),s=0;s<r.length;s++){var a=r[s];a.outerHTML=a.outerHTML}}})});const html=document.documentElement,removeAccents=(document.addEventListener("DOMContentLoaded",function(){const e=window.matchMedia("(prefers-color-scheme: dark)");function t(){e.matches?html.classList.add("dark"):html.classList.remove("dark")}t(),e.addEventListener("change",t),darkMode()}),pagination(!0),!function(){if(document.body.classList.contains("post-template")){const e=document.querySelector(".gh-cover");if(e){const t=e.querySelector(".gh-cover-image");window.addEventListener("load",function(){e.style.setProperty("--cover-height",t.clientWidth*t.naturalHeight/t.naturalWidth+"px"),e.classList.remove("loading")})}}}(),e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""));function darkMode(){var e=document.querySelector(".it-dark-light");e&&e.addEventListener("click",function(){html.classList.contains("dark")?html.classList.remove("dark"):html.classList.add("dark")})}const readingProgress=(e,t)=>{const n=document.querySelector(e),i=document.querySelector(t),o=()=>{var e=n.getBoundingClientRect(),t=window.innerHeight/2;Math.round(i.max-i.value),e.top>t&&(i.value=0),e.top<t&&(i.value=i.max),e.top<=t&&e.bottom>=t&&(i.value=i.max*Math.abs(e.top-t)/e.height),window.addEventListener("scroll",o)};window.addEventListener("scroll",o)};var e,t;document.querySelector(".post-progress")&&readingProgress(".post-content",".post-progress"),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return i={352:e=>{function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function g(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){"use strict";var r,u={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",background:"var(--bg-color-80, rgba(255, 255, 255, .98))",zIndex:1e6,beforeShow:void 0,afterShow:void 0,beforeHide:void 0,afterHide:void 0},d={};function s(e){var t=d[e];if(t){if("function"!=typeof t)throw"config.".concat(e," must be a function!");Reflect.apply(t,d,[d])}}function a(t){t.src&&!t.classList.contains("lightense-target")&&(t.classList.add("lightense-target"),t.addEventListener("click",function(e){if(d.keyboard&&(e.metaKey||e.ctrlKey))return window.open(t.src,"_blank");var n,i,o;e=this,d.target=e,d.target.classList.contains("lightense-open")?p():(s("beforeShow"),d.scrollY=window.scrollY,n=d.target,i="transitionend",o=function(){s("afterShow")},n.addEventListener(i,function e(t){Reflect.apply(o,this,t),n.removeEventListener(i,e)}),(e=new Image).onload=function(){var e,t,n,i,o,r,s,a,l,c;t=(e=this).width,e=e.height,n=window.pageYOffset||document.documentElement.scrollTop||0,i=window.pageXOffset||document.documentElement.scrollLeft||0,o=d.target.getBoundingClientRect(),r=t/o.width,s=window.innerWidth||document.documentElement.clientWidth||0,a=window.innerHeight||document.documentElement.clientHeight||0,l=d.target.getAttribute("data-lightense-padding")||d.target.getAttribute("data-padding")||d.padding,c=l<s?s-l:s-u.padding,l=l<a?a-l:a-u.padding,d.scaleFactor=t<c&&e<l?r:t/e<c/l?l/e*r:c/t*r,l=s/2,e=n+a/2,c=o.left+i+o.width/2,t=o.top+n+o.height/2,d.translateX=Math.round(l-c),d.translateY=Math.round(e-t),d.target.classList.add("lightense-open"),d.wrap=document.createElement("div"),d.wrap.className="lightense-wrap",setTimeout(function(){d.target.style.transform="scale("+d.scaleFactor+")"},20),d.target.parentNode.insertBefore(d.wrap,d.target),d.wrap.appendChild(d.target),setTimeout(function(){d.wrap.style.transform="translate3d("+d.translateX+"px, "+d.translateY+"px, 0)"},20),r={cubicBezier:d.target.getAttribute("data-lightense-cubic-bezier")||d.cubicBezier,background:d.target.getAttribute("data-lightense-background")||d.target.getAttribute("data-background")||d.background,zIndex:d.target.getAttribute("data-lightense-z-index")||d.zIndex},r=g(g({},d),r),h("lightense-images-css-computed","\n    :root {\n      --lightense-z-index: ".concat(r.zIndex-1,";\n      --lightense-backdrop: ").concat(r.background,";\n      --lightense-duration: ").concat(r.time,"ms;\n      --lightense-timing-func: ").concat(r.cubicBezier,";\n    }")),d.container.style.visibility="visible",setTimeout(function(){d.container.style.opacity="1"},20),window.addEventListener("keyup",m,!1),window.addEventListener("scroll",f,!1),d.container.addEventListener("click",p,!1)},e.src=d.target.src)},!1))}function h(e,t){var n=document.head||document.getElementsByTagName("head")[0],i=(document.getElementById(e)&&document.getElementById(e).remove(),document.createElement("style"));i.id=e,i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),n.appendChild(i)}function p(){s("beforeHide"),window.removeEventListener("keyup",m,!1),window.removeEventListener("scroll",f,!1),d.container.removeEventListener("click",p,!1),d.target.classList.remove("lightense-open"),d.wrap.style.transform="",d.target.style.transform="",d.target.classList.add("lightense-transitioning"),d.container.style.opacity="",setTimeout(function(){s("afterHide"),d.container.style.visibility="",d.container.style.backgroundColor="",d.wrap.parentNode.replaceChild(d.target,d.wrap),d.target.classList.remove("lightense-transitioning")},d.time)}function f(){Math.abs(d.scrollY-window.scrollY)>=d.offset&&p()}function m(e){e.preventDefault(),27===e.keyCode&&p()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(r=function(e){switch(l(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}(e),d=g(g({},u),t),h("lightense-images-css","\n:root {\n  --lightense-z-index: ".concat(d.zIndex-1,";\n  --lightense-backdrop: ").concat(d.background,";\n  --lightense-duration: ").concat(d.time,"ms;\n  --lightense-timing-func: ").concat(d.cubicBezier,";\n}\n\n.lightense-backdrop {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: calc(var(--lightense-z-index) - 1);\n  padding: 0;\n  margin: 0;\n  transition: opacity var(--lightense-duration) ease;\n  cursor: zoom-out;\n  opacity: 0;\n  background-color: var(--lightense-backdrop);\n  visibility: hidden;\n}\n\n@supports (-webkit-backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    -webkit-backdrop-filter: blur(30px);\n  }\n}\n\n@supports (backdrop-filter: blur(30px)) {\n  .lightense-backdrop {\n    background-color: var(--lightense-backdrop);\n    backdrop-filter: blur(30px);\n  }\n}\n\n.lightense-wrap {\n  position: relative;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  z-index: var(--lightense-z-index);\n  pointer-events: none;\n}\n\n.lightense-target {\n  cursor: zoom-in;\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\n  pointer-events: auto;\n}\n\n.lightense-open {\n  cursor: zoom-out;\n}\n\n.lightense-transitioning {\n  pointer-events: none;\n}")),null===document.querySelector(".lightense-backdrop")?(d.container=document.createElement("div"),d.container.className="lightense-backdrop",document.body.appendChild(d.container)):d.container=document.querySelector(".lightense-backdrop"),r),i=n.length;if(i)for(var o=0;o<i;o++)a(n[o]);else a(n)}}();e.exports=n}},o={},function e(t){var n=o[t];return void 0!==n||(n=o[t]={exports:{}},i[t](n,n.exports,e)),n.exports}(352);var i,o}),window.addEventListener("load",function(){var e=document.querySelector(".post-content .kg-card img"),t=document.querySelectorAll(".post-content .kg-image-card a img");if(t)for(var n=0;n<t.length;n++)t[n].classList.add("no-lightense");e&&Lightense(".post-content .kg-image-card img:not(.no-lightense),.post-content .kg-gallery-card img:not(.no-lightense)",{padding:60,offset:0})},!1),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).reframe=t()}(this,function(){"use strict";return function(e,t){var n="string"==typeof e?document.querySelectorAll(e):e,i=t||"js-reframe";"length"in n||(n=[n]);for(var o=0;o<n.length;o+=1){var r,s,a,l=n[o];-1===l.className.split(" ").indexOf(i)&&(r=l.getAttribute("height"),-1<(s=l.getAttribute("width")).indexOf("%")||-1<l.style.width.indexOf("%")||(r=(r||l.offsetHeight)/(s||l.offsetWidth)*100,(s=document.createElement("div")).className=i,(a=s.style).position="relative",a.width="100%",a.paddingTop=r+"%",(a=l.style).position="absolute",a.width="100%",a.height="100%",a.left="0",a.top="0",l.parentNode.insertBefore(s,l),l.parentNode.removeChild(l),s.appendChild(l)))}}}),reframe(".post-content iframe:not(.reframe-off)"),e=this,t=function(){"use strict";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function o(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){var t;if(e)return"string"==typeof e?n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function m(e){return"string"==typeof e}function g(e){return"number"==typeof e}function v(e){return null!=e}function c(e){return!e.trim().length}function y(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var s=Object.prototype.hasOwnProperty,r=(e(a,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),a);function a(e){var t=this,n=(p(this,a),this._keys=[],this._keyMap={},0);e.forEach(function(e){e=l(e);n+=e.weight,t._keys.push(e),t._keyMap[e.id]=e,n+=e.weight}),this._keys.forEach(function(e){e.weight/=n})}function l(e){var t=null,n=null,i=null,o=1;if(m(e)||h(e))i=e,t=u(e),n=b(e);else{if(!s.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var r=e.name,i=r;if(s.call(e,"weight")&&(o=e.weight)<=0)throw new Error("Property 'weight' in key '".concat(r,"' must be a positive integer"));t=u(r),n=b(r)}return{path:t,id:n,weight:o,src:i}}function u(e){return h(e)?e:e.split(".")}function b(e){return h(e)?e.join("."):e}var j=o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var c=[],u=!1;return function e(t,n,i){if(v(t))if(n[i]){var o=t[n[i]];if(v(o))if(i===n.length-1&&(m(o)||g(o)||!0===(a=o)||!1===a||"object"===d(l=a)&&null!==l&&"[object Boolean]"==y(a)))c.push(null==(l=o)?"":"string"==typeof l?l:"0"==(a=l+"")&&1/l==-1/0?"-0":a);else if(h(o)){u=!0;for(var r=0,s=o.length;r<s;r+=1)e(o[r],n,i+1)}else n.length&&e(o,n,i+1)}else c.push(t);var a,l}(e,m(t)?t.split("."):t,0),u?c:c[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),w=/[^ ]+/g;e(S,[{key:"setSources",value:function(){this.docs=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setIndexRecords",value:function(){this.records=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]}},{key:"setKeys",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(function(e,t){n._keysMap[e.id]=t})}},{key:"create",value:function(){var n=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach(function(e,t){n._addString(e,t)}):this.docs.forEach(function(e,t){n._addObject(e,t)}),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();m(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)--this.records[t].i}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){v(e)&&!c(e)&&(t={v:e,i:t,n:this.norm.get(e)},this.records.push(t))}},{key:"_addObject",value:function(s,e){var a=this,l={i:e,$:{}};this.keys.forEach(function(e,t){var e=a.getFn(s,e.path);if(v(e))if(h(e)){for(var n=[],i=[{nestedArrIndex:-1,value:e}];i.length;){var o=i.pop(),r=o.nestedArrIndex,o=o.value;v(o)&&(m(o)&&!c(o)?(r={v:o,i:r,n:a.norm.get(o)},n.push(r)):h(o)&&o.forEach(function(e,t){i.push({nestedArrIndex:t,value:e})}))}l.$[t]=n}else c(e)||(e={v:e,n:a.norm.get(e)},l.$[t]=e)}),this.records.push(l)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]);var x=S;function S(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).getFn,e=void 0===e?j.getFn:e;p(this,S),this.norm=function(e){var e=0<arguments.length&&void 0!==e?e:3,n=new Map,i=Math.pow(10,e);return{get:function(e){var t,e=e.match(w).length;return n.has(e)?n.get(e):(t=1/Math.sqrt(e),t=parseFloat(Math.round(t*i)/i),n.set(e,t),t)},clear:function(){n.clear()}}}(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}function E(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).getFn,n=void 0===n?j.getFn:n,n=new x({getFn:n});return n.setKeys(e.map(l)),n.setSources(t),n.create(),n}function N(e,t){var t=1<arguments.length&&void 0!==t?t:{},n=t.errors,i=t.currentLocation,o=t.expectedLocation,r=t.distance,r=void 0===r?j.distance:r,t=t.ignoreLocation,t=void 0===t?j.ignoreLocation:t,n=(void 0===n?0:n)/e.length;return t?n:(e=Math.abs((void 0===o?0:o)-(void 0===i?0:i)),r?n+e/r:e?1:n)}e(T,[{key:"searchIn",value:function(i){var o,r,s,a,l,c,u,d,h,e=this.options,t=e.isCaseSensitive,p=e.includeMatches;return t||(i=i.toLowerCase()),this.pattern===i?(e={isMatch:!0,score:0},p&&(e.indices=[[0,i.length-1]])):(t=this.options,o=t.location,r=t.distance,s=t.threshold,a=t.findAllMatches,l=t.minMatchCharLength,c=t.ignoreLocation,d=0,h=!(u=[]),this.chunks.forEach(function(e){var t=e.pattern,n=e.alphabet,e=e.startIndex,t=function(e,t,n,i){var i=3<arguments.length&&void 0!==i?i:{},o=i.location,o=void 0===o?j.location:o,r=i.distance,s=void 0===r?j.distance:r,r=i.threshold,r=void 0===r?j.threshold:r,a=i.findAllMatches,l=void 0===a?j.findAllMatches:a,a=i.minMatchCharLength,a=void 0===a?j.minMatchCharLength:a,c=i.includeMatches,c=void 0===c?j.includeMatches:c,i=i.ignoreLocation,u=void 0===i?j.ignoreLocation:i;if(32<t.length)throw new Error("Pattern length exceeds max of ".concat(32,"."));for(var d,h=t.length,p=e.length,f=Math.max(0,Math.min(o,p)),m=r,g=f,v=1<a||c,y=v?Array(p):[];-1<(d=e.indexOf(t,g));){var b=N(t,{currentLocation:d,expectedLocation:f,distance:s,ignoreLocation:u}),m=Math.min(b,m),g=d+h;if(v)for(var w=0;w<h;)w+=y[d+w]=1}g=-1;for(var x=[],S=1,E=h+p,C=1<<h-1,k=0;k<h;k+=1){for(var T=0,O=E;T<O;)N(t,{errors:k,currentLocation:f+O,expectedLocation:f,distance:s,ignoreLocation:u})<=m?T=O:E=O,O=Math.floor((E-T)/2+T);var E=O,P=Math.max(1,f-O+1),A=l?p:Math.min(f+O,p)+h,L=Array(A+2);L[A+1]=(1<<k)-1;for(var I=A;P<=I;--I){var R=I-1,_=n[e.charAt(R)];if(v&&(y[R]=+!!_),L[I]=(L[I+1]<<1|1)&_,k&&(L[I]|=(x[I+1]|x[I])<<1|1|x[I+1]),L[I]&C&&(S=N(t,{errors:k,currentLocation:R,expectedLocation:f,distance:s,ignoreLocation:u}))<=m){if(m=S,(g=R)<=f)break;P=Math.max(1,2*f-g)}}if(m<N(t,{errors:k+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:u}))break;x=L}i={isMatch:0<=g,score:Math.max(.001,S)};return v&&((o=function(e,t){for(var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length&&void 0!==t?t:j.minMatchCharLength,o=[],r=-1,s=0,a=n.length;s<a;s+=1){var l=n[s];l&&-1===r?r=s:l||-1===r||((l=s-1)-r+1>=i&&o.push([r,l]),r=-1)}return n[s-1]&&i<=s-r&&o.push([r,s-1]),o}(y,a)).length?c&&(i.indices=o):i.isMatch=!1),i}(i,t,n,{location:o+e,distance:r,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:p,ignoreLocation:c}),n=t.isMatch,e=t.score,t=t.indices;n&&(h=!0),d+=e,n&&t&&(u=[].concat(f(u),f(t)))}),e={isMatch:h,score:h?d/this.chunks.length:1},h&&p&&(e.indices=u)),e}}]);var C=T,k=[];function T(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.location,i=void 0===i?j.location:i,o=t.threshold,o=void 0===o?j.threshold:o,r=t.distance,r=void 0===r?j.distance:r,s=t.includeMatches,s=void 0===s?j.includeMatches:s,a=t.findAllMatches,a=void 0===a?j.findAllMatches:a,l=t.minMatchCharLength,l=void 0===l?j.minMatchCharLength:l,c=t.isCaseSensitive,c=void 0===c?j.isCaseSensitive:c,t=t.ignoreLocation,t=void 0===t?j.ignoreLocation:t;if(p(this,T),this.options={location:i,threshold:o,distance:r,includeMatches:s,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:t},this.pattern=c?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var u=function(e,t){n.chunks.push({pattern:e,alphabet:function(e){for(var t={},n=0,i=e.length;n<i;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}(e),startIndex:t})},i=this.pattern.length;if(32<i){for(var d=0,o=i%32,h=i-o;d<h;)u(this.pattern.substr(d,32),d),d+=32;o&&u(this.pattern.substr(r=i-32),r)}else u(this.pattern,0)}}function O(e,t){for(var n=0,i=k.length;n<i;n+=1){var o=k[n];if(o.condition(e,t))return new o(e,t)}return new C(e,t)}function P(e,n){e=e.matches;n.matches=[],v(e)&&e.forEach(function(e){var t;v(e.indices)&&e.indices.length&&(t={indices:e.indices,value:e.value},e.key&&(t.key=e.key.src),-1<e.idx&&(t.refIndex=e.idx),n.matches.push(t))})}function A(e,t){t.score=e.score}e(I,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof x))throw new Error("Incorrect 'index' type");this._myIndex=t||E(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,i=this._docs.length;n<i;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),--n,--i,t.push(o))}}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t,o,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===n?-1:n,i=this.options,r=i.includeMatches,s=i.includeScore,a=i.shouldSort,l=i.sortFn,i=i.ignoreFieldNorm,e=m(e)?m(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return t=e,o=void 0===(i=(i={ignoreFieldNorm:i}).ignoreFieldNorm)?j.ignoreFieldNorm:i,t.forEach(function(e){var i=1;e.matches.forEach(function(e){var t=e.key,n=e.norm,e=e.score,t=t?t.weight:null;i*=Math.pow(0===e&&t?Number.EPSILON:e,(t||1)*(o?1:n))}),e.score=i}),a&&e.sort(l),function(e,i,t){var t=2<arguments.length&&void 0!==t?t:{},n=void 0===(n=t.includeMatches)?j.includeMatches:n,t=t.includeScore,t=void 0===t?j.includeScore:t,o=[];return n&&o.push(P),t&&o.push(A),e.map(function(t){var e=t.idx,n={item:i[e],refIndex:e};return o.length&&o.forEach(function(e){e(t,n)}),n})}(e=g(n)&&-1<n?e.slice(0,n):e,this._docs,{includeMatches:r,includeScore:s})}},{key:"_searchStringList",value:function(e){var s=O(e,this.options),e=this._myIndex.records,a=[];return e.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=s.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&a.push({item:o,idx:r,matches:[{score:n,value:o,norm:e,indices:i}]})}),a}},{key:"_searchLogical",value:function(e){throw new Error("Logical search is not available")}},{key:"_searchObjectList",value:function(e){var o=this,r=O(e,this.options),e=this._myIndex,t=e.keys,e=e.records,s=[];return e.forEach(function(e){var n,i=e.$,e=e.i;v(i)&&(n=[],t.forEach(function(e,t){n.push.apply(n,f(o._findMatches({key:e,value:i[t],searcher:r})))}),n.length)&&s.push({idx:e,item:i,matches:n})}),s}},{key:"_findMatches",value:function(e){var s,t,n,i,a=e.key,o=e.value,l=e.searcher;return v(o)?(s=[],h(o)?o.forEach(function(e){var t,n,i,o=e.v,r=e.i,e=e.n;v(o)&&(t=(i=l.searchIn(o)).isMatch,n=i.score,i=i.indices,t)&&s.push({score:n,key:a,value:o,idx:r,norm:e,indices:i})}):(e=o.v,o=o.n,t=(i=l.searchIn(e)).isMatch,n=i.score,i=i.indices,t&&s.push({score:n,key:a,value:e,norm:o,indices:i})),s):[]}}]);var L=I;function I(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(p(this,I),this.options=o({},j,{},t),this.options.useExtendedSearch)throw new Error("Extended search is not available");this._keyStore=new r(this.options.keys),this.setCollection(e,n)}return L.version="6.4.6",L.createIndex=E,L.parseIndex=function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).getFn,t=void 0===t?j.getFn:t,n=e.keys,e=e.records,t=new x({getFn:t});return t.setKeys(n),t.setIndexRecords(e),t},L.config=j,L},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t(),document.addEventListener("DOMContentLoaded",function(){!function(i){"use strict";const e=document.body,n=document.querySelector(".search-section"),t=document.querySelectorAll(".search-open"),o=document.querySelector(".search-close"),r=document.querySelector(".search-input"),s=document.querySelector(".search-info"),a=document.querySelector(".search-counter"),l=document.querySelector(".search-results"),c=document.querySelector(".search-counter-results"),u=document.querySelector(".search-overlay");function d(){e.classList.remove("search-is-active"),r.value="",l.innerHTML="",a.classList.add("is-hide"),s.classList.remove("is-hide"),window.scrollTo(0,0)}var h;n&&(e.addEventListener("keyup",function(e){27==e.keyCode&&d()}),o.addEventListener("click",d),u.addEventListener("click",d),t.forEach(function(t){t.addEventListener("click",function(){e.classList.add("search-is-active"),n.style.display="block",r.focus()}),t.addEventListener("click",function(){var e,n;!1===h&&(e=options.api,(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){var e,t;200<=n.status&&n.status<400&&(n.response,e=JSON.parse(n.responseText),t=new Fuse(e.posts,options),r.onkeyup=function(e){c.innerHTML="",l.innerHTML="",2<this.value.length&&(s.classList.add("is-hide"),a.classList.remove("is-hide")),this.value.length<3&&(s.classList.remove("is-hide"),a.classList.add("is-hide")),this.value.length<=2||(e=t.search(e.target.value,{limit:options.limit}),c.innerHTML=e.length,e.map(function(e){var t,n=new Date(e.item.published_at).toLocaleDateString(document.documentElement.lang,{year:"numeric",month:"long",day:"numeric"}),i=document.createElement("time"),o=document.createElement("h5"),r=document.createElement("span"),s=document.createElement("a");!0===options.images&&(t=document.createElement("img"),null!==e.item.feature_image)&&(t.setAttribute("src",e.item.feature_image),s.appendChild(t)),i.textContent=i.innerHTML+=n,r.textContent=e.item.title,s.setAttribute("href",e.item.url),o.appendChild(r),l.appendChild(s),s.appendChild(o),s.appendChild(i)}))})},n.send(),t.removeEventListener("click",i)),h=!0})}),h=!1)}(window)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function t(e,i,o){var t,n,r,s,a,l,c,u=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),d=!1,h=(n=e)&&n.document&&9===n.document.nodeType?(a=(s=n).document,l=a.body,c=a.documentElement,{scrollHeight:function(){return Math.max(l.scrollHeight,c.scrollHeight,l.offsetHeight,c.offsetHeight,l.clientHeight,c.clientHeight)},height:function(){return s.innerHeight||c.clientHeight||l.clientHeight},scrollY:function(){return void 0!==s.pageYOffset?s.pageYOffset:(c||l.parentNode||l).scrollTop}}):(r=n,{scrollHeight:function(){return Math.max(r.scrollHeight,r.offsetHeight,r.clientHeight)},height:function(){return Math.max(r.offsetHeight,r.clientHeight)},scrollY:function(){return r.scrollTop}}),p=h.scrollY(),f={};function m(){var e=Math.round(h.scrollY()),t=h.height(),n=h.scrollHeight();f.scrollY=e,f.lastScrollY=p,f.direction=p<e?"down":"up",f.distance=Math.abs(e-p),f.isOutOfBounds=e<0||n<e+t,f.top=e<=i.offset[f.direction],f.bottom=n<=e+t,f.toleranceExceeded=f.distance>i.tolerance[f.direction],o(f),p=e,d=!1}function g(){d||(d=!0,t=requestAnimationFrame(m))}var v=!!u&&{passive:!0,capture:!1};return e.addEventListener("scroll",g,v),m(),{destroy:function(){cancelAnimationFrame(t),e.removeEventListener("scroll",g,v)}}}function n(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=n(this.tolerance),this.offset=n(this.offset),this.initialised=!1,this.frozen=!1}return i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin)&&this.onPin.call(this)},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),i}),(()=>{var n={163:e=>{e.exports=function(a){var l,c=[].forEach,u=[].some,d=document.body,h=!0,p=" ";function s(e){var t=a.orderedList?"ol":"ul",t=document.createElement(t),n=a.listClass+p+a.extraListClasses;return e&&(n=(n+=p+a.collapsibleClass)+(p+a.isCollapsedClass)),t.setAttribute("class",n),t}return{enableTocAnimation:function(){h=!0},disableTocAnimation:function(e){e=e.target||e.srcElement;"string"==typeof e.className&&-1!==e.className.indexOf(a.linkClass)&&(h=!1)},render:function(e,t){var n=s(!1);if(t.forEach(function(e){!function t(e,n){var i,o,r,n=n.appendChild((n=e,i=document.createElement("li"),o=document.createElement("a"),a.listItemClass&&i.setAttribute("class",a.listItemClass),a.onClick&&(o.onclick=a.onClick),a.includeTitleTags&&o.setAttribute("title",n.textContent),a.includeHtml&&n.childNodes.length?c.call(n.childNodes,function(e){o.appendChild(e.cloneNode(!0))}):o.textContent=n.textContent,o.setAttribute("href",a.basePath+"#"+n.id),o.setAttribute("class",a.linkClass+p+"node-name--"+n.nodeName+p+a.extraLinkClasses),i.appendChild(o),i));e.children.length&&(r=s(e.isCollapsed),e.children.forEach(function(e){t(e,r)}),n.appendChild(r))}(e,n)}),null!==(l=e||l))return l.firstChild&&l.removeChild(l.firstChild),0===t.length?l:l.appendChild(n)},updateToc:function(e){var n=a.scrollContainer&&document.querySelector(a.scrollContainer)?document.querySelector(a.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop;a.positionFixedSelector&&(t=a.scrollContainer&&document.querySelector(a.scrollContainer)?document.querySelector(a.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop,o=document.querySelector(a.positionFixedSelector),"auto"===a.fixedSidebarOffset&&(a.fixedSidebarOffset=l.offsetTop),t>a.fixedSidebarOffset?-1===o.className.indexOf(a.positionFixedClass)&&(o.className+=p+a.positionFixedClass):o.className=o.className.split(p+a.positionFixedClass).join(""));var i,t,o,r,s=e;h&&null!==l&&0<s.length&&(u.call(s,function(e,t){return function e(t){var n=0;return null!==t&&(n=t.offsetTop,a.hasInnerContainers)&&(n+=e(t.offsetParent)),n}(e)>n+a.headingsOffset+10?(i=s[0===t?t:t-1],!0):t===s.length-1?(i=s[s.length-1],!0):void 0}),t=l.querySelectorAll("."+a.linkClass),c.call(t,function(e){e.className=e.className.split(p+a.activeLinkClass).join("")}),o=l.querySelectorAll("."+a.listItemClass),c.call(o,function(e){e.className=e.className.split(p+a.activeListItemClass).join("")}),(e=l.querySelector("."+a.linkClass+".node-name--"+i.nodeName+'[href="'+a.basePath+"#"+i.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]'))&&-1===e.className.indexOf(a.activeLinkClass)&&(e.className+=p+a.activeLinkClass),(r=e&&e.parentNode)&&-1===r.className.indexOf(a.activeListItemClass)&&(r.className+=p+a.activeListItemClass),r=l.querySelectorAll("."+a.listClass+"."+a.collapsibleClass),c.call(r,function(e){-1===e.className.indexOf(a.isCollapsedClass)&&(e.className+=p+a.isCollapsedClass)}),e&&e.nextSibling&&-1!==e.nextSibling.className.indexOf(a.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(p+a.isCollapsedClass).join("")),function e(t){return t&&-1!==t.className.indexOf(a.collapsibleClass)&&-1!==t.className.indexOf(a.isCollapsedClass)?(t.className=t.className.split(p+a.isCollapsedClass).join(""),e(t.parentNode.parentNode)):t}(e&&e.parentNode.parentNode))}}}},547:e=>{e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},971:function(e,t,g){var n=[],i=function(e){"use strict";var i,o,r,s,a=g(547),l={},c={},u=g(163),d=g(279),h=g(938),p=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||p)return s=Object.prototype.hasOwnProperty,c.destroy=function(){var e=m(l);null!==e&&(l.skipRendering||e&&(e.innerHTML=""),l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer).removeEventListener("resize",this._scrollListener,!1),i&&document.querySelector(l.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),i&&document.removeEventListener("click",this._clickListener,!1)))},c.init=function(e){if(p){l=function(){for(var e={},t=0;t<arguments.length;t++){var n,i=arguments[t];for(n in i)s.call(i,n)&&(e[n]=i[n])}return e}(a,e||{}),this.options=l,this.state={},l.scrollSmooth&&(l.duration=l.scrollSmoothDuration,l.offset=l.scrollSmoothOffset,c.scrollSmooth=g(374).initSmoothScrolling(l)),i=u(l),o=d(l),this._buildHtml=i,this._parseContent=o,this._headingsArray=r,c.destroy();e=function(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}(l);if(null!==e){var t,n=m(l);if(null!==n&&null!==(r=o.selectHeadings(e,l.headingSelector)))return e=o.nestHeadingsArray(r).nest,l.skipRendering||i.render(n,e),this._scrollListener=f(function(e){i.updateToc(r),l.disableTocScrollSync||h(l);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(i.updateToc(r),l.scrollEndCallback)&&l.scrollEndCallback(e)},l.throttleTimeout),this._scrollListener(),(l.scrollContainer&&document.querySelector(l.scrollContainer)?(document.querySelector(l.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(l.scrollContainer)):(document.addEventListener("scroll",this._scrollListener,!1),document)).addEventListener("resize",this._scrollListener,!1),t=null,this._clickListener=f(function(e){l.scrollSmooth&&i.disableTocAnimation(e),i.updateToc(r),t&&clearTimeout(t),t=setTimeout(function(){i.enableTocAnimation()},l.scrollSmoothDuration)},l.throttleTimeout),(l.scrollContainer&&document.querySelector(l.scrollContainer)?document.querySelector(l.scrollContainer):document).addEventListener("click",this._clickListener,!1),this}}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c;function f(i,o,r){var s,a;return o=o||250,function(){var e=r||this,t=+new Date,n=arguments;s&&t<s+o?(clearTimeout(a),a=setTimeout(function(){s=t,i.apply(e,n)},o)):(s=t,i.apply(e,n))}}function m(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}}(void 0!==g.g?g.g:this.window||this.global);void 0!==(t="function"==typeof i?i.apply(t,n):i)&&(e.exports=t)},279:e=>{e.exports=function(a){var t=[].reduce;function l(e){return e[e.length-1]}function c(e){var t;return e instanceof window.HTMLElement?!a.ignoreHiddenElements||e.offsetHeight&&e.offsetParent?(t=e.getAttribute("data-heading-label")||(a.headingLabelCallback?String(a.headingLabelCallback(e.textContent)):e.textContent.trim()),t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.toUpperCase().replace("H",""),textContent:t},a.includeHtml&&(t.childNodes=e.childNodes),a.headingObjectCallback?a.headingObjectCallback(t,e):t):null:e}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=c(t);if(t){for(var n=e.nest,t,i=(t=c(t)).headingLevel,o=n,r=l(o),s=i-(r?r.headingLevel:0);0<s&&(!(r=l(o))||i!==r.headingLevel);)r&&void 0!==r.children&&(o=r.children),s--;i>=a.collapseDepth&&(t.isCollapsed=!0),o.push(t)}return e},{nest:[]})},selectHeadings:function(e,t){var n=t;a.ignoreSelector&&(n=t.split(",").map(function(e){return e.trim()+":not("+a.ignoreSelector+")"}));try{return e.querySelectorAll(n)}catch(e){return console.warn("Headers not found with selector: "+n),null}}}}},374:(e,t)=>{t.initSmoothScrolling=function(u){var d=u.duration,h=u.offset,p=location.hash?f(location.href):location.href;function f(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",function(t){var e,n,i,o,r,s,a,l;function c(e){o=e-i,window.scrollTo(0,s.easing(o,r,a,l)),o<l?requestAnimationFrame(c):(window.scrollTo(0,r+a),"function"==typeof s.callback&&s.callback())}"a"!==(e=t.target).tagName.toLowerCase()||!(0<e.hash.length||"#"===e.href.charAt(e.href.length-1))||f(e.href)!==p&&f(e.href)+"#"!==p||-1<t.target.className.indexOf("no-smooth-scroll")||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||-1===t.target.className.indexOf(u.linkClass)||(e=t.target.hash,n={duration:d,offset:h,callback:function(){var e=t.target.hash;(e=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}},r=window.pageYOffset,s={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},n=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),a="string"==typeof e?s.offset+(e?n&&n.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,l="function"==typeof s.duration?s.duration(a):s.duration,requestAnimationFrame(function(e){c(i=e)}))},!1)}},938:e=>{e.exports=function(e){var t=e.tocElement||document.querySelector(e.tocSelector);t&&t.scrollHeight>t.clientHeight&&(e=t.querySelector("."+e.activeListItemClass))&&(t.scrollTop=e.offsetTop)}}},i={};function o(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e].call(t.exports,t,t.exports,o)),t.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o(971)})(),function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t={},M={},q={},n={exports:{}},i=e,o=function(){var o=function(){},c="undefined",r=typeof window!==c&&typeof window.navigator!==c&&/Trident\/|MSIE /.test(window.navigator.userAgent),u=["trace","debug","info","warn","error"],d={},h=null;function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.call(n,e,arguments)}}}function a(){!console.log||console.log.apply||Function.prototype.apply.call(console.log,console,arguments)}function p(){for(var e=this.getLevel(),t=0;t<u.length;t++){var n=u[t];this[n]=t<e?o:this.methodFactory(n,e,this.name)}if(this.log=this.debug,typeof console===c&&e<this.levels.SILENT)return"No console available for logging"}function f(e,t,n){return"debug"===(i=e)&&(i="log"),typeof console!==c&&("trace"===i&&r?a:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,"log"):o)||function(e){return function(){typeof console!==c&&(p.call(this),this[e].apply(this,arguments))}}.apply(this,arguments);var i}function t(e,t){var n,i,o=this,r="loglevel";function s(){var e;if(typeof window!==c&&r){try{e=window.localStorage[r]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,n=encodeURIComponent(r),i=t.indexOf(n+"=");-1!==i&&(e=/^([^;]+)/.exec(t.slice(i+n.length+1))[1])}catch(e){}return e=void 0===o.levels[e]?void 0:e}}function a(e){var t=e;if("number"==typeof(t="string"==typeof t&&void 0!==o.levels[t.toUpperCase()]?o.levels[t.toUpperCase()]:t)&&0<=t&&t<=o.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?r+=":"+e:"symbol"==typeof e&&(r=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=t||f,o.getLevel=function(){return null!=i?i:null!=n?n:l},o.setLevel=function(e,t){return i=a(e),!1!==t&&function(){var e=(u[i]||"silent").toUpperCase();if(typeof window!==c&&r){try{return window.localStorage[r]=e}catch(e){}try{window.document.cookie=encodeURIComponent(r)+"="+e+";"}catch(e){}}}(),p.call(o)},o.setDefaultLevel=function(e){n=a(e),s()||o.setLevel(e,!1)},o.resetLevel=function(){if(i=null,typeof window!==c&&r){try{window.localStorage.removeItem(r)}catch(e){}try{window.document.cookie=encodeURIComponent(r)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}p.call(o)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)},o.rebuild=function(){if(h!==o&&(l=a(h.getLevel())),p.call(o),h===o)for(var e in d)d[e].rebuild()};var l=a(h?h.getLevel():"WARN"),e=s();null!=e&&(i=a(e)),p.call(o)}(h=new t).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return d[e]||(d[e]=new t(e,h.methodFactory))};var e=typeof window!==c?window.log:void 0;return h.noConflict=function(){return typeof window!==c&&window.log===h&&(window.log=e),h},h.getLoggers=function(){return d},h.default=h};n.exports?n.exports=o():i.log=o();var D,H,i=n.exports,o={},n={},r={},s=e&&e.i||(D=function(e,t){return(D=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=(Object.defineProperty(r,"t",{value:!0}),H=Error,s(z,H),z);function z(e){var t=this.constructor,e=H.call(this,e)||this;return e.name=t.name,Object.setPrototypeOf(e,t.prototype),e}r.default=s;var F,U,s=e&&e.i||(F=function(e,t){return(F=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=e&&e.o||function(e){return e&&e.t?e:{default:e}},a=(Object.defineProperty(n,"t",{value:!0}),U=a(r).default,s(B,U),B);function B(){return null!==U&&U.apply(this,arguments)||this}n.default=a;var W,Y,s={},a=e&&e.i||(W=function(e,t){return(W=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=e&&e.o||function(e){return e&&e.t?e:{default:e}},l=(Object.defineProperty(s,"t",{value:!0}),Y=l(r).default,a($,Y),$);function $(){return null!==Y&&Y.apply(this,arguments)||this}s.default=l;var X,K,a={},l=e&&e.i||(X=function(e,t){return(X=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=e&&e.o||function(e){return e&&e.t?e:{default:e}},c=(Object.defineProperty(a,"t",{value:!0}),K=c(r).default,l(G,K),G);function G(){return null!==K&&K.apply(this,arguments)||this}a.default=c;var Z,V,l={},c=e&&e.i||(Z=function(e,t){return(Z=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=e&&e.o||function(e){return e&&e.t?e:{default:e}},u=(Object.defineProperty(l,"t",{value:!0}),V=u(r).default,c(J,V),J);function J(){return null!==V&&V.apply(this,arguments)||this}l.default=u;var Q,ee,c={},u=e&&e.i||(Q=function(e,t){return(Q=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=e&&e.o||function(e){return e&&e.t?e:{default:e}},d=(Object.defineProperty(c,"t",{value:!0}),ee=d(r).default,u(te,ee),te);function te(){return null!==ee&&ee.apply(this,arguments)||this}c.default=d;var ne,ie,u={},d=e&&e.i||(ne=function(e,t){return(ne=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=e&&e.o||function(e){return e&&e.t?e:{default:e}},h=(Object.defineProperty(u,"t",{value:!0}),ie=h(r).default,d(oe,ie),oe);function oe(){return null!==ie&&ie.apply(this,arguments)||this}u.default=h;var re,se,d={},h=e&&e.i||(re=function(e,t){return(re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=e&&e.o||function(e){return e&&e.t?e:{default:e}},p=(Object.defineProperty(d,"t",{value:!0}),se=p(r).default,h(ae,se),ae);function ae(){return null!==se&&se.apply(this,arguments)||this}d.default=p;var le,ce,h={},p=e&&e.i||(le=function(e,t){return(le=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}le(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=e&&e.o||function(e){return e&&e.t?e:{default:e}},f=(Object.defineProperty(h,"t",{value:!0}),ce=f(r).default,p(ue,ce),ue);function ue(){return null!==ce&&ce.apply(this,arguments)||this}h.default=f;var de,he,p={},f=e&&e.i||(de=function(e,t){return(de=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=e&&e.o||function(e){return e&&e.t?e:{default:e}},m=(Object.defineProperty(p,"t",{value:!0}),he=m(r).default,f(pe,he),pe);function pe(e,t){e=he.call(this,e)||this;return e.importResults=t,e}p.default=m;var f=e&&e.o||function(e){return e&&e.t?e:{default:e}},m=(Object.defineProperty(o,"t",{value:!0}),o.ImportError=o.TypesenseError=o.ServerError=o.RequestUnauthorized=o.RequestMalformed=o.ObjectUnprocessable=o.ObjectNotFound=o.ObjectAlreadyExists=o.MissingConfigurationError=o.HTTPError=void 0,f(n)),n=(o.HTTPError=m.default,f(s)),m=(o.MissingConfigurationError=n.default,f(a)),s=(o.ObjectAlreadyExists=m.default,f(l)),n=(o.ObjectNotFound=s.default,f(c)),a=(o.ObjectUnprocessable=n.default,f(u)),m=(o.RequestMalformed=a.default,f(d)),l=(o.RequestUnauthorized=m.default,f(h)),s=(o.ServerError=l.default,f(p)),c=(o.ImportError=s.default,f(r)),fe=(o.TypesenseError=c.default,e&&e.u||function(){return(fe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),me=e&&e.h||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.t:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),ge=e&&e.l||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=e&&e.v||function(e){if(e&&e.t)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&me(t,e,n);return ge(t,e),t},ve=(Object.defineProperty(q,"t",{value:!0}),n(i)),ye=o;function g(e){var t=this;this.nodes=e.nodes||[],this.nodes=this.nodes.map(function(e){return t.setDefaultPathInNode(e)}).map(function(e){return t.setDefaultPortInNode(e)}).map(function(e){return fe({},e)}),null==e.randomizeNodes&&(e.randomizeNodes=!0),!0===e.randomizeNodes&&this.shuffleArray(this.nodes),this.nearestNode=e.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=e.connectionTimeoutSeconds||e.timeoutSeconds||5,this.healthcheckIntervalSeconds=e.healthcheckIntervalSeconds||60,this.numRetries=e.numRetries||this.nodes.length+(null==this.nearestNode?0:1)||3,this.retryIntervalSeconds=e.retryIntervalSeconds||.1,this.apiKey=e.apiKey,this.sendApiKeyAsQueryParam=e.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=e.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=e.useServerSideSearchCache||!1,this.logger=e.logger||ve,this.logLevel=e.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=e.additionalHeaders,this.httpAgent=e.httpAgent,this.httpsAgent=e.httpsAgent,this.showDeprecationWarnings(e),this.validate()}g.prototype.validate=function(){if(null==this.nodes||0===this.nodes.length||this.validateNodes())throw new ye.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(null!=this.nearestNode&&this.isNodeMissingAnyParameters(this.nearestNode))throw new ye.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(null==this.apiKey)throw new ye.MissingConfigurationError("Ensure that apiKey is set");return!0},g.prototype.validateNodes=function(){var t=this;return this.nodes.some(function(e){return t.isNodeMissingAnyParameters(e)})},g.prototype.isNodeMissingAnyParameters=function(t){return!["protocol","host","port","path"].every(function(e){return t.hasOwnProperty(e)})&&null==t.url},g.prototype.setDefaultPathInNode=function(e){return null==e||e.hasOwnProperty("path")||(e.path=""),e},g.prototype.setDefaultPortInNode=function(e){if(null!=e&&!e.hasOwnProperty("port")&&e.hasOwnProperty("protocol"))switch(e.protocol){case"https":e.port=443;break;case"http":e.port=80}return e},g.prototype.showDeprecationWarnings=function(e){e.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),e.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),e.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},g.prototype.shuffleArray=function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}},q.default=g;var be,we,xe,Se,Ee,u={};function Ce(e,t){return function(){return e.apply(t,arguments)}}const ke=Object.prototype["toString"],Te=Object["getPrototypeOf"],Oe=(be=Object.create(null),e=>{e=ke.call(e);return be[e]||(be[e]=e.slice(8,-1).toLowerCase())}),v=t=>(t=t.toLowerCase(),e=>Oe(e)===t),Pe=t=>e=>typeof e===t,Ae=Array["isArray"],Le=Pe("undefined"),Ie=v("ArrayBuffer"),Re=Pe("string"),y=Pe("function"),_e=Pe("number"),je=e=>null!==e&&"object"==typeof e,Ne=e=>{var t;return"object"===Oe(e)&&!(null!==(t=Te(e))&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Me=v("Date"),qe=v("File"),De=v("Blob"),He=v("FileList"),ze=v("URLSearchParams"),[Fe,Ue,Be,We]=["ReadableStream","Request","Response","Headers"].map(v);function Ye(n,i,{allOwnKeys:o=!1}={}){if(null!=n){let t,e;if("object"!=typeof n&&(n=[n]),Ae(n))for(t=0,e=n.length;t<e;t++)i.call(null,n[t],t,n);else{const e=o?Object.getOwnPropertyNames(n):Object.keys(n),s=e.length;var r;for(t=0;t<s;t++)r=e[t],i.call(null,n[r],r,n)}}}function $e(e,t){t=t.toLowerCase();var n=Object.keys(e);let i,o=n.length;for(;0<o--;)if(t===(i=n[o]).toLowerCase())return i;return null}const b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e,Xe=e=>!Le(e)&&e!==b,Ke=(we="undefined"!=typeof Uint8Array&&Te(Uint8Array),v("HTMLFormElement")),Ge=(xe=[Object.prototype["hasOwnProperty"]][0],(e,t)=>xe.call(e,t)),Ze=v("RegExp"),Ve=(i,o)=>{const e=Object.getOwnPropertyDescriptors(i),r={};Ye(e,(e,t)=>{var n;!1!==(n=o(e,t,i))&&(r[t]=n||e)}),Object.defineProperties(i,r)},Je="abcdefghijklmnopqrstuvwxyz",Qe="0123456789",et={DIGIT:Qe,ALPHA:Je,ALPHA_DIGIT:Je+Je.toUpperCase()+Qe},tt=v("AsyncFunction"),nt=(a="function"==typeof setImmediate,d=y(b.postMessage),a?setImmediate:d?(Se="axios@"+Math.random(),Ee=[],b.addEventListener("message",({source:e,data:t})=>{e===b&&t===Se&&Ee.length&&Ee.shift()()},!1),e=>{Ee.push(e),b.postMessage(Se,"*")}):e=>setTimeout(e));var m="undefined"!=typeof queueMicrotask?queueMicrotask.bind(b):"undefined"!=typeof process&&process.nextTick||nt,w={isArray:Ae,isArrayBuffer:Ie,isBuffer:function(e){return null!==e&&!Le(e)&&null!==e.constructor&&!Le(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{var t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=Oe(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ie(e.buffer)},isString:Re,isNumber:_e,isBoolean:e=>!0===e||!1===e,isObject:je,isPlainObject:Ne,isReadableStream:Fe,isRequest:Ue,isResponse:Be,isHeaders:We,isUndefined:Le,isDate:Me,isFile:qe,isBlob:De,isRegExp:Ze,isFunction:y,isStream:e=>je(e)&&y(e.pipe),isURLSearchParams:ze,isTypedArray:e=>we&&e instanceof we,isFileList:He,forEach:Ye,merge:function n(){const i=(Xe(this)&&this||{})["caseless"],o={},r=(e,t)=>{t=i&&$e(o,t)||t;Ne(o[t])&&Ne(e)?o[t]=n(o[t],e):Ne(e)?o[t]=n({},e):Ae(e)?o[t]=e.slice():o[t]=e};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Ye(arguments[e],r);return o},extend:(n,e,i,{allOwnKeys:t}={})=>(Ye(e,(e,t)=>{i&&y(e)?n[t]=Ce(e,i):n[t]=e},{allOwnKeys:t}),n),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>e=65279===e.charCodeAt(0)?e.slice(1):e,inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,r,s;var a={};if(t=t||{},null!=e)do{for(o=Object.getOwnPropertyNames(e),r=o.length;0<r--;)s=o[r],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0)}while((e=!1!==n&&Te(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Oe,kindOfTest:v,endsWith:(e,t,n)=>{e+="",(void 0===n||n>e.length)&&(n=e.length),n-=t.length;e=e.indexOf(t,n);return-1!==e&&e===n},toArray:e=>{if(!e)return null;if(Ae(e))return e;let t=e.length;if(!_e(t))return null;for(var n=Array(t);0<t--;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);for(var i;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Ke,hasOwnProperty:Ge,hasOwnProp:Ge,reduceDescriptors:Ve,freezeMethods:i=>{Ve(i,(e,t)=>{if(y(i)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;var n=i[t];y(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Ae(e)?i(e):i((e+"").split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:$e,global:b,isContextDefined:Xe,ALPHABET:et,generateString:(e=16,t=et.ALPHA_DIGIT)=>{let n="";for(var i=t["length"];e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=[,,,,,,,,,,],o=(e,n)=>{if(je(e)){if(0<=t.indexOf(e))return;if(!("toJSON"in e)){t[n]=e;const i=Ae(e)?[]:{};return Ye(e,(e,t)=>{e=o(e,n+1);Le(e)||(i[t]=e)}),t[n]=void 0,i}}return e};return o(e,0)},isAsyncFn:tt,isThenable:e=>e&&(je(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:nt,asap:m};function x(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status||null)}w.inherits(x,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const it=x.prototype,ot={};function rt(e){return w.isPlainObject(e)||w.isArray(e)}function st(e){return w.endsWith(e,"[]")?e.slice(0,-2):e}function at(e,t,n){return e?e.concat(t).map(function(e,t){return e=st(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ot[e]={value:e}}),Object.defineProperties(x,ot),Object.defineProperty(it,"isAxiosError",{value:!0}),x.from=(e,t,n,i,o,r)=>{var s=Object.create(it);return w.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),x.call(s,e.message,t,n,i,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const lt=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function ct(e,r,t){if(!w.isObject(e))throw new TypeError("target must be an object");r=r||new FormData;const s=(t=w.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!w.isUndefined(t[e])})).metaTokens,o=t.visitor||i,a=t.dots,l=t.indexes,n=(t.Blob||"undefined"!=typeof Blob&&Blob)&&w.isSpecCompliantForm(r);if(!w.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(w.isDate(e))return e.toISOString();if(!n&&w.isBlob(e))throw new x("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(e)||w.isTypedArray(e)?n&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function i(e,n,t){let i=e;if(e&&!t&&"object"==typeof e)if(w.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(w.isArray(e)&&(o=e,w.isArray(o))&&!o.some(rt)||(w.isFileList(e)||w.endsWith(n,"[]"))&&(i=w.toArray(e)))return n=st(n),i.forEach(function(e,t){w.isUndefined(e)||null===e||r.append(!0===l?at([n],t,a):null===l?n:n+"[]",c(e))}),!1;var o;return!!rt(e)||(r.append(at(t,n,a),c(e)),!1)}const u=[],d=Object.assign(lt,{defaultVisitor:i,convertValue:c,isVisitable:rt});if(w.isObject(e))return function n(e,i){if(!w.isUndefined(e)){if(-1!==u.indexOf(e))throw Error("Circular reference detected in "+i.join("."));u.push(e),w.forEach(e,function(e,t){!0===(!(w.isUndefined(e)||null===e)&&o.call(r,e,w.isString(t)?t.trim():t,i,d))&&n(e,i?i.concat(t):[t])}),u.pop()}}(e),r;throw new TypeError("data must be an object")}function ut(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function dt(e,t){this.m=[],e&&ct(e,this,t)}h=dt.prototype;function ht(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pt(e,t,n){if(t){var i=n&&n.encode||ht,o=(n=w.isFunction(n)?{serialize:n}:n)&&n.serialize,o=o?o(t,n):w.isURLSearchParams(t)?t.toString():new dt(t,n).toString(i);if(o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}}return e}h.append=function(e,t){this.m.push([e,t])},h.toString=function(t){const n=t?function(e){return t.call(this,e,ut)}:ut;return this.m.map(function(e){return n(e[0])+"="+n(e[1])},"").join("&")};var ft=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){w.forEach(this.handlers,function(e){null!==e&&t(e)})}},mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:dt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},p="undefined"!=typeof window&&"undefined"!=typeof document,s="object"==typeof navigator&&navigator||void 0,f=p&&(!s||["ReactNative","NativeScript","NS"].indexOf(s.product)<0),c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,n=p&&window.location.href||"http://localhost",S={...Object.freeze({__proto__:null,hasBrowserEnv:p,hasStandardBrowserWebWorkerEnv:c,hasStandardBrowserEnv:f,navigator:s,origin:n}),...l};function gt(e){if(w.isFormData(e)&&w.isFunction(e.entries)){const n={};return w.forEachEntry(e,(e,t)=>{!function e(t,n,i,o){var r,s,a=t[o++];return"__proto__"===a||(r=Number.isFinite(+a),s=o>=t.length,a=!a&&w.isArray(i)?i.length:a,s?w.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n:(i[a]&&w.isObject(i[a])||(i[a]=[]),e(t,n,i[a],o)&&w.isArray(i[a])&&(i[a]=function(e){var t={},n=Object.keys(e);let i;var o,r=n.length;for(i=0;i<r;i++)t[o=n[i]]=e[o];return t}(i[a]))),!r)}(w.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),t,n,0)}),n}return null}const vt={transitional:mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,i,o=t.getContentType()||"",r=-1<o.indexOf("application/json"),s=w.isObject(e);if(s&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return r?JSON.stringify(gt(e)):e;if(!(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))){if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(-1<o.indexOf("application/x-www-form-urlencoded"))return n=e,i=this.formSerializer,ct(n,new S.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return S.isNode&&w.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},i)).toString();if((n=w.isFileList(e))||-1<o.indexOf("multipart/form-data")){const t=this.env&&this.env.FormData;return ct(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(s||r){t.setContentType("application/json",!1);var a=e;if(w.isString(a))try{return(0,JSON.parse)(a),w.trim(a)}catch(a){if("SyntaxError"!==a.name)throw a}return(0,JSON.stringify)(a)}}return e}],transformResponse:[function(e){const t=this.transitional||vt.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(!w.isResponse(e)&&!w.isReadableStream(e)&&e&&w.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw x.from(e,x.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:S.classes.FormData,Blob:S.classes.Blob},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],e=>{vt.headers[e]={}});var yt=vt;const bt=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wt=Symbol("internals");function xt(e){return e&&(e+"").trim().toLowerCase()}function St(e){return!1===e||null==e?e:w.isArray(e)?e.map(St):e+""}function Et(e,t,n,i,o){return w.isFunction(i)?i.call(this,t,n):w.isString(t=o?n:t)&&(w.isString(i)?-1!==t.indexOf(i):w.isRegExp(i)&&i.test(t))}class Ct{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function i(e,t,n){var i=xt(t);if(!i)throw Error("header name must be a non-empty string");i=w.findKey(o,i);i&&void 0!==o[i]&&!0!==n&&(void 0!==n||!1===o[i])||(o[i||t]=St(e))}var r=(e,n)=>w.forEach(e,(e,t)=>i(e,t,n));if(w.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(w.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((()=>{const t={};let n,i,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),i=e.substring(o+1).trim(),!n||t[n]&&bt[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(),t);else if(w.isHeaders(e))for(const[t,o]of e.entries())i(o,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=xt(e)){var n=w.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t){for(var i,o=e,r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;i=s.exec(o);)r[i[1]]=i[2];return r}if(w.isFunction(t))return t.call(this,e,n);if(w.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){return!!(e=xt(e))&&!(!(e=w.findKey(this,e))||void 0===this[e]||t&&!Et(0,this[e],e,t))}delete(e,t){const n=this;let i=!1;function o(e){(e=xt(e))&&(e=w.findKey(n,e))&&(!t||Et(0,n[e],e,t))&&(delete n[e],i=!0)}return w.isArray(e)?e.forEach(o):o(e),i}clear(e){var t=Object.keys(this);let n=t.length,i=!1;for(;n--;){var o=t[n];e&&!Et(0,this[o],o,e,!0)||(delete this[o],i=!0)}return i}normalize(i){const o=this,r={};return w.forEach(this,(e,t)=>{var n=w.findKey(r,t);n?(o[n]=St(e),delete o[t]):((n=i?t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):(t+"").trim())!==t&&delete o[t],o[n]=St(e),r[n]=!0)}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(n){const i=Object.create(null);return w.forEach(this,(e,t)=>{null!=e&&!1!==e&&(i[t]=n&&w.isArray(e)?e.join(", "):e)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const i=(this[wt]=this[wt]={accessors:{}}).accessors,s=this.prototype;function t(e){var t=xt(e);if(!i[t]){{var n=s,o=e;const r=w.toCamelCase(" "+o);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+r,{value:function(e,t,n){return this[i].call(this,o,e,t,n)},configurable:!0})})}i[t]=!0}}return w.isArray(e)?e.forEach(t):t(e),this}}Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),w.reduceDescriptors(Ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),w.freezeMethods(Ct);var E=Ct;function kt(e,t){const n=this||yt,i=t||n,o=E.from(i.headers);let r=i.data;return w.forEach(e,function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function Tt(e){return!(!e||!e.p)}function Ot(e,t,n){x.call(this,e??"canceled",x.ERR_CANCELED,t,n),this.name="CanceledError"}function Pt(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new x("Request failed with status code "+n.status,[x.ERR_BAD_REQUEST,x.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}w.inherits(Ot,x,{p:!0});const At=(a,l,e=3)=>{let c=0;const u=function(){const r=Array(50),s=Array(50);let a,l=0,c=0;return function(e){var t=Date.now(),n=s[c];a=a||t,r[l]=e,s[l]=t;let i=c,o=0;for(;i!==l;)o+=r[i++],i%=50;return(l=(l+1)%50)===c&&(c=(c+1)%50),!(t-a<250)&&(e=n&&t-n)?Math.round(1e3*o/e):void 0}}();{var n=e=>{var t=e.loaded,n=e.lengthComputable?e.total:void 0,i=t-c,o=u(i);c=t,a({loaded:t,total:n,progress:n?t/n:void 0,bytes:i,rate:o||void 0,estimated:o&&n&&t<=n?(n-t)/o:void 0,event:e,lengthComputable:null!=n,[l?"download":"upload"]:!0})};let i,o,r=0,s=1e3/e;const d=(e,t=Date.now())=>{r=t,i=null,o&&(clearTimeout(o),o=null),n.apply(null,e)};return[(...e)=>{var t=Date.now(),n=t-r;n>=s?d(e,t):(i=e,o=o||setTimeout(()=>{o=null,d(i)},s-n))},()=>i&&d(i)]}},Lt=(t,n)=>{const i=null!=t;return[e=>n[0]({lengthComputable:i,total:t,loaded:e}),n[1]]},It=t=>(...e)=>w.asap(()=>t(...e));var Rt,_t,jt=S.hasStandardBrowserEnv?(Rt=new URL(S.origin),_t=S.navigator&&/(msie|trident)/i.test(S.navigator.userAgent),e=>(e=new URL(e,S.origin),Rt.protocol===e.protocol&&Rt.host===e.host&&(_t||Rt.port===e.port))):()=>!0,Nt=S.hasStandardBrowserEnv?{write(e,t,n,i,o,r){e=[e+"="+encodeURIComponent(t)];w.isNumber(n)&&e.push("expires="+new Date(n).toGMTString()),w.isString(i)&&e.push("path="+i),w.isString(o)&&e.push("domain="+o),!0===r&&e.push("secure"),document.cookie=e.join("; ")},read(e){e=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?(e=e,(n=t)?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e):t;var n}const qt=e=>e instanceof E?{...e}:e;function C(i,o){o=o||{};const r={};function s(e,t,n,i){return w.isPlainObject(e)&&w.isPlainObject(t)?w.merge.call({caseless:i},e,t):w.isPlainObject(t)?w.merge({},t):w.isArray(t)?t.slice():t}function a(e,t,n,i){return w.isUndefined(t)?w.isUndefined(e)?void 0:s(void 0,e,0,i):s(e,t,0,i)}function e(e,t){if(!w.isUndefined(t))return s(void 0,t)}function t(e,t){return w.isUndefined(t)?w.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function l(e,t,n){return n in o?s(e,t):n in i?s(void 0,e):void 0}const c={url:e,method:e,data:e,baseURL:t,transformRequest:t,transformResponse:t,paramsSerializer:t,timeout:t,timeoutMessage:t,withCredentials:t,withXSRFToken:t,adapter:t,responseType:t,xsrfCookieName:t,xsrfHeaderName:t,onUploadProgress:t,onDownloadProgress:t,decompress:t,maxContentLength:t,maxBodyLength:t,beforeRedirect:t,transport:t,httpAgent:t,httpsAgent:t,cancelToken:t,socketPath:t,responseEncoding:t,validateStatus:l,headers:(e,t,n)=>a(qt(e),qt(t),0,!0)};return w.forEach(Object.keys(Object.assign({},i,o)),function(e){var t=c[e]||a,n=t(i[e],o[e],e);w.isUndefined(n)&&t!==l||(r[e]=n)}),r}var Dt,Ht,zt=e=>{const t=C({},e);let n,{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=E.from(a),t.url=pt(Mt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),w.isFormData(i))if(S.hasStandardBrowserEnv||S.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(S.hasStandardBrowserEnv&&((o=o&&w.isFunction(o)?o(t):o)||!1!==o&&jt(t.url))){const e=r&&s&&Nt.read(s);e&&a.set(r,e)}return t},i="undefined"!=typeof XMLHttpRequest&&function(g){return new Promise(function(t,n){const i=zt(g);var e=i.data,o=E.from(i.headers).normalize();let r,s,a,l,c,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i;function p(){l&&l(),c&&c(),i.cancelToken&&i.cancelToken.unsubscribe(r),i.signal&&i.signal.removeEventListener("abort",r)}let f=new XMLHttpRequest;function m(){var e;f&&(e=E.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),Pt(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:g,request:f}),f=null)}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(m)},f.onabort=function(){f&&(n(new x("Request aborted",x.ECONNABORTED,g,f)),f=null)},f.onerror=function(){n(new x("Network Error",x.ERR_NETWORK,g,f)),f=null},f.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";var t=i.transitional||mt;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new x(e,t.clarifyTimeoutError?x.ETIMEDOUT:x.ECONNABORTED,g,f)),f=null},void 0===e&&o.setContentType(null),"setRequestHeader"in f&&w.forEach(o.toJSON(),function(e,t){f.setRequestHeader(t,e)}),w.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),u&&"json"!==u&&(f.responseType=i.responseType),h&&([a,c]=At(h,!0),f.addEventListener("progress",a)),d&&f.upload&&([s,l]=At(d),f.upload.addEventListener("progress",s),f.upload.addEventListener("loadend",l)),(i.cancelToken||i.signal)&&(r=e=>{f&&(n(!e||e.type?new Ot(null,g,f):e),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(r),i.signal)&&(i.signal.aborted?r():i.signal.addEventListener("abort",r));o=function(e){e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return e&&e[1]||""}(i.url);o&&-1===S.protocols.indexOf(o)?n(new x("Unsupported protocol "+o+":",x.ERR_BAD_REQUEST,g)):f.send(e||null)})};const Ft=(e,t,r,n)=>{const s=async function*(e,t){for await(const r of async function*(e){if(e[Symbol.asyncIterator])yield*e;else{var t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}}(e)){n=void 0;i=void 0;o=void 0;var n=r;var i=t;var o=n.byteLength;if(o<i)yield n;else{let e,t=0;for(;t<o;)e=t+i,yield n.slice(t,e),t=e}}}(e,t);let i,a=0,l=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{var t,n,{done:i,value:o}=await s.next();i?(l(),e.close()):(t=o.byteLength,r&&(n=a+=t,r(n)),e.enqueue(new Uint8Array(o)))}catch(e){throw l(e),e}},cancel:e=>(l(e),s.return())},{highWaterMark:2})},Ut="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Bt=Ut&&"function"==typeof ReadableStream,Wt=Ut&&("function"==typeof TextEncoder?(Dt=new TextEncoder,e=>Dt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Yt=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},$t=Bt&&Yt(()=>{let e=!1;var t=new Request(S.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Xt=Bt&&Yt(()=>w.isReadableStream(new Response("").body)),Kt={stream:Xt&&(e=>e.body)},Gt=(Ut&&(Ht=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(n=>{Kt[n]||(Kt[n]=w.isFunction(Ht[n])?e=>e[n]():(e,t)=>{throw new x(`Response type '${n}' is not supported`,x.ERR_NOT_SUPPORT,t)})})),{http:null,xhr:i,fetch:Ut&&(async o=>{let{url:r,method:e,data:s,signal:t,cancelToken:n,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=zt(o);u=u?(u+"").toLowerCase():"text";let f,m=((i,o)=>{var r=(i=i?i.filter(Boolean):[])["length"];if(o||r){let t,n=new AbortController;const s=function(e){t||(t=!0,a(),e=e instanceof Error?e:this.reason,n.abort(e instanceof x?e:new Ot(e instanceof Error?e.message:e)))};let e=o&&setTimeout(()=>{e=null,s(new x(`timeout ${o} of ms exceeded`,x.ETIMEDOUT))},o);const a=()=>{i&&(e&&clearTimeout(e),e=null,i.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),i=null)};i.forEach(e=>e.addEventListener("abort",s));r=n["signal"];return r.unsubscribe=()=>w.asap(a),r}})([t,n&&n.toAbortSignal()],a);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(c&&$t&&"get"!==e&&"head"!==e&&0!==(v=(y=d,b=s,await(w.toFiniteNumber(y.getContentLength())??(async e=>{return null==e?0:w.isBlob(e)?e.size:w.isSpecCompliantForm(e)?(await new Request(S.origin,{method:"POST",body:e}).arrayBuffer()).byteLength:w.isArrayBufferView(e)||w.isArrayBuffer(e)?e.byteLength:(w.isURLSearchParams(e)&&(e+=""),w.isString(e)?(await Wt(e)).byteLength:void 0)})(b))))){let e,t=new Request(r,{method:"POST",body:s,duplex:"half"});if(w.isFormData(s)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[o,r]=Lt(v,At(It(c)));s=Ft(t.body,65536,o,r)}}w.isString(h)||(h=h?"include":"omit");const t="credentials"in Request.prototype;f=new Request(r,{...p,signal:m,method:e.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:t?h:void 0});let n=await fetch(f);const a=Xt&&("stream"===u||"response"===u);if(Xt&&(l||a&&g)){const o={},r=(["status","statusText","headers"].forEach(e=>{o[e]=n[e]}),w.toFiniteNumber(n.headers.get("content-length"))),[e,s]=l&&Lt(r,At(It(l),!0))||[];n=new Response(Ft(n.body,65536,e,()=>{s&&s(),g&&g()}),o)}u=u||"text";let i=await Kt[w.findKey(Kt,u)||"text"](n,o);return!a&&g&&g(),await new Promise((e,t)=>{Pt(e,t,{data:i,headers:E.from(n.headers),status:n.status,statusText:n.statusText,config:o,request:f})})}catch(r){if(g&&g(),r&&"TypeError"===r.name&&/fetch/i.test(r.message))throw Object.assign(new x("Network Error",x.ERR_NETWORK,o,f),{cause:r.cause||r});throw x.from(r,r&&r.code,o,f)}var y,b})}),Zt=(w.forEach(Gt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}),e=>"- "+e),Vt=e=>w.isFunction(e)||null===e||!1===e;var Jt=n=>{var e=(n=w.isArray(n)?n:[n])["length"];let i,o;var r={};for(let t=0;t<e;t++){let e;if(i=n[t],o=i,!Vt(i)&&void 0===(o=Gt[(e=i+"").toLowerCase()]))throw new x(`Unknown adapter '${e}'`);if(o)break;r[e||"#"+t]=o}if(o)return o;{const n=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new x("There is no suitable adapter to dispatch the request "+(e?1<n.length?"since :\n"+n.map(Zt).join("\n"):" "+Zt(n[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}};function Qt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ot(null,e)}function en(t){return Qt(t),t.headers=E.from(t.headers),t.data=kt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Jt(t.adapter||yt.adapter)(t).then(function(e){return Qt(t),e.data=kt.call(t,t.transformResponse,e),e.headers=E.from(e.headers),e},function(e){return Tt(e)||(Qt(t),e&&e.response&&(e.response.data=kt.call(t,t.transformResponse,e.response),e.response.headers=E.from(e.response.headers))),Promise.reject(e)})}const tn={},nn=(["object","boolean","number","function","string","symbol"].forEach((t,n)=>{tn[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}}),{});tn.transitional=function(i,o,r){return(e,t,n)=>{if(!1===i)throw new x("[Axios v1.7.9] Transitional option '"+t+"' has been removed"+(o?" in "+o:"")+(r?". "+r:""),x.ERR_DEPRECATED);return o&&!nn[t]&&(nn[t]=!0),!i||i(e,t,n)}},tn.spelling=function(e){return(e,t)=>!0};var on={assertOptions:function(e,t,n){if("object"!=typeof e)throw new x("options must be an object",x.ERR_BAD_OPTION_VALUE);var i=Object.keys(e);let o=i.length;for(;0<o--;){var r=i[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new x("option "+r+" must be "+n,x.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new x("Unknown option "+r,x.ERR_BAD_OPTION)}},validators:tn};const k=on.validators;class rn{constructor(e){this.defaults=e,this.interceptors={request:new ft,response:new ft}}async request(t,n){try{return await this.k(t,n)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=Error();n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!(t.stack+"").endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(t){}}throw t}}k(t,n){"string"==typeof t?(n=n||{}).url=t:n=t||{};const{transitional:e,paramsSerializer:i,headers:o}=n=C(this.defaults,n);void 0!==e&&on.assertOptions(e,{silentJSONParsing:k.transitional(k.boolean),forcedJSONParsing:k.transitional(k.boolean),clarifyTimeoutError:k.transitional(k.boolean)},!1),null!=i&&(w.isFunction(i)?n.paramsSerializer={serialize:i}:on.assertOptions(i,{encode:k.function,serialize:k.function},!0)),on.assertOptions(n,{baseUrl:k.spelling("baseURL"),withXsrfToken:k.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();var r=o&&w.merge(o.common,o[n.method]);o&&w.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),n.headers=E.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(n)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(a){u=s.length;let e=n;for(d=0;d<u;){const t=s[d++],n=s[d++];try{e=t(e)}catch(t){n.call(this,t);break}}try{c=en(e)}catch(t){return Promise.reject(t)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++])}else{const t=[en.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(n);d<u;)c=c.then(t[d++],t[d++])}return c}getUri(e){return pt(Mt((e=C(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}w.forEach(["delete","get","head","options"],function(n){rn.prototype[n]=function(e,t){return this.request(C(t||{},{method:n,url:e,data:(t||{}).data}))}}),w.forEach(["post","put","patch"],function(o){function e(i){return function(e,t,n){return this.request(C(n||{},{method:o,headers:i?{"Content-Type":"multipart/form-data"}:{},url:e,data:t}))}}rn.prototype[o]=e(),rn.prototype[o+"Form"]=e(!0)});var sn=rn;a=class gr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(e){i=e});const o=this;this.promise.then(t=>{if(o.O){let e=o.O.length;for(;0<e--;)o.O[e](t);o.O=null}}),this.promise.then=e=>{let t;return(e=new Promise(e=>{o.subscribe(e),t=e}).then(e)).cancel=function(){o.unsubscribe(t)},e},e(function(e,t,n){o.reason||(o.reason=new Ot(e,t,n),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this.O?this.O.push(e):this.O=[e]}unsubscribe(e){this.O&&-1!==(e=this.O.indexOf(e))&&this.O.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new gr(function(e){t=e}),cancel:t}}};const an={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(an).forEach(([e,t])=>{an[t]=e});var d=an,m=function t(n){var e=new sn(n),i=Ce(sn.prototype.request,e);return w.extend(i,sn.prototype,e,{allOwnKeys:!0}),w.extend(i,e,null,{allOwnKeys:!0}),i.create=function(e){return t(C(n,e))},i}(yt),h=(m.Axios=sn,m.CanceledError=Ot,m.CancelToken=a,m.isCancel=Tt,m.VERSION="1.7.9",m.toFormData=ct,m.AxiosError=x,m.Cancel=m.CanceledError,m.all=function(e){return Promise.all(e)},m.spread=function(t){return function(e){return t.apply(null,e)}},m.isAxiosError=function(e){return w.isObject(e)&&!0===e.isAxiosError},m.mergeConfig=C,m.AxiosHeaders=E,m.formToJSON=e=>gt(w.isHTMLForm(e)?new FormData(e):e),m.getAdapter=Jt,m.HttpStatusCode=d,m.default=m),ln=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},T=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},p=e&&e.o||function(e){return e&&e.t?e:{default:e}},cn=(Object.defineProperty(u,"t",{value:!0}),p(h)),un=o,dn=p(r);function O(e){this.configuration=e,this.apiKey=this.configuration.apiKey,this.nodes=null==this.configuration.nodes?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=null==this.configuration.nearestNode?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}O.prototype.get=function(t,n,e){void 0===n&&(n={});var e=void 0===e?{}:e,i=e.abortSignal,o=void 0===i?null:i,i=e.responseType,r=void 0===i?void 0:i;return ln(this,void 0,void 0,function(){return T(this,function(e){return[2,this.performRequest("get",t,{queryParameters:n,abortSignal:o,responseType:r})]})})},O.prototype.delete=function(t,n){return void 0===n&&(n={}),ln(this,void 0,void 0,function(){return T(this,function(e){return[2,this.performRequest("delete",t,{queryParameters:n})]})})},O.prototype.post=function(t,n,i,o){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o={}),ln(this,void 0,void 0,function(){return T(this,function(e){return[2,this.performRequest("post",t,{queryParameters:i,bodyParameters:n,additionalHeaders:o})]})})},O.prototype.put=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),ln(this,void 0,void 0,function(){return T(this,function(e){return[2,this.performRequest("put",t,{queryParameters:i,bodyParameters:n})]})})},O.prototype.patch=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),ln(this,void 0,void 0,function(){return T(this,function(e){return[2,this.performRequest("patch",t,{queryParameters:i,bodyParameters:n})]})})},O.prototype.performRequest=function(u,d,e){var h,p,t=e.queryParameters,f=void 0===t?null:t,t=e.bodyParameters,m=void 0===t?null:t,t=e.additionalHeaders,g=void 0===t?{}:t,t=e.abortSignal,v=void 0===t?null:t,t=e.responseType,y=void 0===t?void 0:t,t=e.skipConnectionTimeout,b=void 0!==t&&t;return ln(this,void 0,void 0,function(){var a,l,t,c,n,i;return T(this,function(e){switch(e.label){case 0:this.configuration.validate(),a=Date.now(),this.logger.debug("Request #".concat(a,": Performing ").concat(u.toUpperCase()," request: ").concat(d)),t=function(t){var n,i,o,r,s;return T(this,function(e){switch(e.label){case 0:if(n=c.getNextNode(a),c.logger.debug("Request #".concat(a,": Attempting ").concat(u.toUpperCase()," request Try #").concat(t," to Node ").concat(n.index)),v&&v.aborted)return[2,{value:Promise.reject(Error("Request aborted by caller."))}];i=void 0,e.label=1;case 1:return e.trys.push([1,3,5,6]),s={method:u,url:c.uriFor(d,n),headers:Object.assign({},c.defaultHeaders(),g,c.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,responseType:y,validateStatus:function(e){return 0<e},transformResponse:[function(e,t){var n=e;return n=void 0!==t&&"string"==typeof e&&t["content-type"]&&t["content-type"].startsWith("application/json")?JSON.parse(e):n}]},!0!==b&&(s.timeout=1e3*c.connectionTimeoutSeconds),f&&0!==Object.keys(f).length&&(s.params=f),c.sendApiKeyAsQueryParam&&(s.params=s.params||{},s.params["x-typesense-api-key"]=c.apiKey),c.configuration.httpAgent&&(c.logger.debug("Request #".concat(a,": Using custom httpAgent")),s.httpAgent=c.configuration.httpAgent),c.configuration.httpsAgent&&(c.logger.debug("Request #".concat(a,": Using custom httpsAgent")),s.httpsAgent=c.configuration.httpsAgent),m&&("string"==typeof m&&0!==m.length||"object"==typeof m&&0!==Object.keys(m).length)&&(s.data=m),v&&(r=cn.default.CancelToken,o=r.source(),i=function(){return o.cancel()},v.addEventListener("abort",i),s.cancelToken=o.token),[4,(0,cn.default)(s)];case 2:if(1<=(r=e.sent()).status&&r.status<=499&&c.setNodeHealthcheck(n,!0),c.logger.debug("Request #".concat(a,": Request to Node ").concat(n.index," was made. Response Code was ").concat(r.status,".")),200<=r.status&&r.status<300)return[2,{value:Promise.resolve(r.data)}];if(r.status<500)return[2,{value:Promise.reject(c.customErrorForResponse(r,null==(h=r.data)?void 0:h.message))}];throw c.customErrorForResponse(r,null==(h=r.data)?void 0:h.message);case 3:return s=e.sent(),c.setNodeHealthcheck(n,!1),l=s,c.logger.warn("Request #".concat(a,": Request to Node ").concat(n.index,' failed due to "').concat(s.code," ").concat(s.message).concat(null==s.response?"":" - "+JSON.stringify(null==(p=s.response)?void 0:p.data),'"')),c.logger.warn("Request #".concat(a,": Sleeping for ").concat(c.retryIntervalSeconds,"s and then retrying request...")),[4,c.timer(c.retryIntervalSeconds)];case 4:return e.sent(),[3,6];case 5:return v&&i&&v.removeEventListener("abort",i),[7];case 6:return[2]}})},c=this,n=1,e.label=1;case 1:return n<=this.numRetriesPerRequest+1?[5,t(n)]:[3,4];case 2:if("object"==typeof(i=e.sent()))return[2,i.value];e.label=3;case 3:return n++,[3,1];case 4:return this.logger.debug("Request #".concat(a,": No retries left. Raising last error")),[2,Promise.reject(l)]}})})},O.prototype.getNextNode=function(e){if(void 0===e&&(e=0),null!=this.nearestNode){if(this.logger.debug("Request #".concat(e,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(!0===this.nearestNode.isHealthy?"Healthy":"Unhealthy")),!0===this.nearestNode.isHealthy||this.nodeDueForHealthcheck(this.nearestNode,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(e,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(e,": Nodes Health: ").concat(this.nodes.map(function(e){return"Node ".concat(e.index," is ").concat(!0===e.isHealthy?"Healthy":"Unhealthy")}).join(" || ")));for(var t=this.nodes[0],n=0;n<=this.nodes.length;n++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,!0===(t=this.nodes[this.currentNodeIndex]).isHealthy||this.nodeDueForHealthcheck(t,e))return this.logger.debug("Request #".concat(e,": Updated current node to Node ").concat(t.index)),t;return this.logger.debug("Request #".concat(e,": No healthy nodes were found. Returning the next node, Node ").concat(t.index)),t},O.prototype.nodeDueForHealthcheck=function(e,t){void 0===t&&(t=0);var n=Date.now()-e.lastAccessTimestamp>1e3*this.healthcheckIntervalSeconds;return n&&this.logger.debug("Request #".concat(t,": Node ").concat(e.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),n},O.prototype.initializeMetadataForNodes=function(){var n=this;null!=this.nearestNode&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,!0)),this.nodes.forEach(function(e,t){e.index=t,n.setNodeHealthcheck(e,!0)})},O.prototype.setNodeHealthcheck=function(e,t){e.isHealthy=t,e.lastAccessTimestamp=Date.now()},O.prototype.uriFor=function(e,t){return(null!=t.url?"".concat(t.url):"".concat(t.protocol,"://").concat(t.host,":").concat(t.port).concat(t.path)).concat(e)},O.prototype.defaultHeaders=function(){var e={};return this.sendApiKeyAsQueryParam||(e["X-TYPESENSE-API-KEY"]=this.apiKey),e["Content-Type"]="application/json",e},O.prototype.timer=function(t){return ln(this,void 0,void 0,function(){return T(this,function(e){return[2,new Promise(function(e){return setTimeout(e,1e3*t)})]})})},O.prototype.customErrorForResponse=function(e,t){var n="Request failed with HTTP code ".concat(e.status),t=("string"==typeof t&&""!==t.trim()&&(n+=" | Server said: ".concat(t)),new dn.default(n));return(t=new(400===e.status?un.RequestMalformed:401===e.status?un.RequestUnauthorized:404===e.status?un.ObjectNotFound:409===e.status?un.ObjectAlreadyExists:422===e.status?un.ObjectUnprocessable:500<=e.status&&e.status<=599?un.ServerError:un.HTTPError)(n)).httpStatus=e.status,t},u.default=O;var c={},hn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},pn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},fn=(Object.defineProperty(c,"t",{value:!0}),"/collections");function mn(e){this.apiCall=e}mn.prototype.create=function(t,n){return void 0===n&&(n={}),hn(this,void 0,void 0,function(){return pn(this,function(e){return[2,this.apiCall.post(fn,t,n)]})})},mn.prototype.retrieve=function(){return hn(this,void 0,void 0,function(){return pn(this,function(e){return[2,this.apiCall.get(fn)]})})},Object.defineProperty(mn,"RESOURCEPATH",{get:function(){return fn},enumerable:!1,configurable:!0}),c.default=mn;var f={},s={},n={},l={},gn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},vn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},yn=e&&e.j||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};function bn(){this.responseCache=new Map,this.responsePromiseCache=new Map}Object.defineProperty(l,"t",{value:!0}),bn.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},bn.prototype.perform=function(a,l,c,u){return gn(this,void 0,void 0,function(){var t,n,i,o,r,s;return vn(this,function(e){switch(e.label){case 0:if(o=u.cacheResponseForSeconds,o=void 0===o?120:o,t=u.maxSize,t=void 0===t?100:t,o<=0||t<=0)return[2,l.call.apply(l,yn([a],c,!1))];if(n=JSON.stringify(c),r=this.responseCache.get(n),i=Date.now(),r){if(i-r.requestTimestamp<1e3*o)return this.responseCache.delete(n),this.responseCache.set(n,r),[2,Promise.resolve(r.response)];this.responseCache.delete(n)}if(r=this.responsePromiseCache.get(n)){if(i-r.requestTimestamp<1e3*o)return this.responsePromiseCache.delete(n),this.responsePromiseCache.set(n,r),[2,r.responsePromise];this.responsePromiseCache.delete(n)}return o=l.call.apply(l,yn([a],c,!1)),this.responsePromiseCache.set(n,{requestTimestamp:i,responsePromise:o}),[4,o];case 1:return r=e.sent(),this.responseCache.set(n,{requestTimestamp:i,response:r}),this.responseCache.size>t&&(s=this.responseCache.keys().next().value,this.responseCache.delete(s)),this.responsePromiseCache.size>t&&(s=this.responsePromiseCache.keys().next().value,this.responsePromiseCache.delete(s)),[2,r]}})})},l.default=bn;var wn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},xn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},i=e&&e.o||function(e){return e&&e.t?e:{default:e}},Sn=(Object.defineProperty(n,"t",{value:!0}),n.SearchOnlyDocuments=void 0,i(l)),En=i(c),Cn="/documents";function kn(e,t,n){this.collectionName=e,this.apiCall=t,this.configuration=n,this.requestWithCache=new Sn.default}kn.prototype.clearCache=function(){this.requestWithCache.clearCache()},kn.prototype.search=function(o,e){var e=void 0===e?{}:e,t=e.cacheSearchResultsForSeconds,r=void 0===t?this.configuration.cacheSearchResultsForSeconds:t,t=e.abortSignal,s=void 0===t?null:t;return wn(this,void 0,void 0,function(){var t,n,i;return xn(this,function(e){for(n in t={},!0===this.configuration.useServerSideSearchCache&&(t.use_cache=!0),o)Array.isArray(o[n])&&(t[n]=o[n].join(","));return i=Object.assign({},o,t),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.get,[this.endpointPath("search"),i,{abortSignal:s}],{cacheResponseForSeconds:r})]})})},kn.prototype.endpointPath=function(e){return"".concat(En.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Cn).concat(void 0===e?"":"/"+e)},Object.defineProperty(kn,"RESOURCEPATH",{get:function(){return Cn},enumerable:!1,configurable:!0}),n.SearchOnlyDocuments=kn;var Tn,On,a=e&&e.i||(Tn=function(e,t){return(Tn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}Tn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},A=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Pn=(Object.defineProperty(s,"t",{value:!0}),o),d=(On=n.SearchOnlyDocuments,a(L,On),L.prototype.create=function(t,n){return void 0===n&&(n={}),P(this,void 0,void 0,function(){return A(this,function(e){if(t)return[2,this.apiCall.post(this.endpointPath(),t,n)];throw Error("No document provided")})})},L.prototype.upsert=function(t,n){return void 0===n&&(n={}),P(this,void 0,void 0,function(){return A(this,function(e){if(t)return[2,this.apiCall.post(this.endpointPath(),t,Object.assign({},n,{action:"upsert"}))];throw Error("No document provided")})})},L.prototype.update=function(t,n){return void 0===n&&(n={}),P(this,void 0,void 0,function(){return A(this,function(e){if(t)return null!=n.filter_by?[2,this.apiCall.patch(this.endpointPath(),t,Object.assign({},n))]:[2,this.apiCall.post(this.endpointPath(),t,Object.assign({},n,{action:"update"}))];throw Error("No document provided")})})},L.prototype.delete=function(t){return void 0===t&&(t={}),P(this,void 0,void 0,function(){return A(this,function(e){return[2,this.apiCall.delete(this.endpointPath(),t)]})})},L.prototype.createMany=function(t,n){return void 0===n&&(n={}),P(this,void 0,void 0,function(){return A(this,function(e){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(t,n)]})})},L.prototype.import=function(r,s){return void 0===s&&(s={}),P(this,void 0,void 0,function(){var t,n,i,o;return A(this,function(e){switch(e.label){case 0:if(Array.isArray(r))try{t=r.map(function(e){return JSON.stringify(e)}).join("\n")}catch(e){if(RangeError instanceof e&&null!=e&&e.includes("Too many properties to enumerate"))throw Error("".concat(e,"\n          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object\n\n          Please try reducing the number of keys in your document, or using CURL to import your data.\n          "));throw Error(e)}else t=r;return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:s,bodyParameters:t,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:if(n=e.sent(),Array.isArray(r)){if(i=n.split("\n").map(function(e){return JSON.parse(e)}),0<(o=i.filter(function(e){return!1===e.success})).length)throw new Pn.ImportError("".concat(i.length-o.length," documents imported successfully, ").concat(o.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),i);return[2,i]}return[2,n]}})})},L.prototype.export=function(t){return void 0===t&&(t={}),P(this,void 0,void 0,function(){return A(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),t)]})})},L.prototype.exportStream=function(t){return void 0===t&&(t={}),P(this,void 0,void 0,function(){return A(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),t,{responseType:"stream"})]})})},L);function L(e,t,n){return On.call(this,e,t,n)||this}s.default=d;var m={},An=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Ln=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},In=(Object.defineProperty(m,"t",{value:!0}),h(c));function Rn(e,t){this.collectionName=e,this.apiCall=t}Rn.prototype.upsert=function(t,n){return An(this,void 0,void 0,function(){return Ln(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Rn.prototype.retrieve=function(){return An(this,void 0,void 0,function(){return Ln(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Rn.prototype.endpointPath=function(e){return"".concat(In.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Rn.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Rn,"RESOURCEPATH",{get:function(){return"/overrides"},enumerable:!1,configurable:!0}),m.default=Rn;var p={},_n=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},jn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=e&&e.o||function(e){return e&&e.t?e:{default:e}},Nn=(Object.defineProperty(p,"t",{value:!0}),r(c)),Mn=r(m);function qn(e,t,n){this.collectionName=e,this.overrideId=t,this.apiCall=n}qn.prototype.retrieve=function(){return _n(this,void 0,void 0,function(){return jn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},qn.prototype.delete=function(){return _n(this,void 0,void 0,function(){return jn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},qn.prototype.endpointPath=function(){return"".concat(Nn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Mn.default.RESOURCEPATH,"/").concat(this.overrideId)},p.default=qn;var i={},Dn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Hn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=e&&e.o||function(e){return e&&e.t?e:{default:e}},zn=(Object.defineProperty(i,"t",{value:!0}),a(c));function Fn(e,t){this.collectionName=e,this.apiCall=t}Fn.prototype.upsert=function(t,n){return Dn(this,void 0,void 0,function(){return Hn(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Fn.prototype.retrieve=function(){return Dn(this,void 0,void 0,function(){return Hn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Fn.prototype.endpointPath=function(e){return"".concat(zn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Fn.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Fn,"RESOURCEPATH",{get:function(){return"/synonyms"},enumerable:!1,configurable:!0}),i.default=Fn;var d={},Un=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Bn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},Wn=(Object.defineProperty(d,"t",{value:!0}),h(c)),Yn=h(i);function $n(e,t,n){this.collectionName=e,this.synonymId=t,this.apiCall=n}$n.prototype.retrieve=function(){return Un(this,void 0,void 0,function(){return Bn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},$n.prototype.delete=function(){return Un(this,void 0,void 0,function(){return Bn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},$n.prototype.endpointPath=function(){return"".concat(Wn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Yn.default.RESOURCEPATH,"/").concat(this.synonymId)},d.default=$n;var r={},Xn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Kn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=e&&e.o||function(e){return e&&e.t?e:{default:e}},Gn=(Object.defineProperty(r,"t",{value:!0}),r.Document=void 0,a(c)),Zn=a(s);function Vn(e,t,n){this.collectionName=e,this.documentId=t,this.apiCall=n}Vn.prototype.retrieve=function(){return Xn(this,void 0,void 0,function(){return Kn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Vn.prototype.delete=function(){return Xn(this,void 0,void 0,function(){return Kn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Vn.prototype.update=function(t,n){return void 0===n&&(n={}),Xn(this,void 0,void 0,function(){return Kn(this,function(e){return[2,this.apiCall.patch(this.endpointPath(),t,n)]})})},Vn.prototype.endpointPath=function(){return"".concat(Gn.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Zn.default.RESOURCEPATH,"/").concat(this.documentId)},r.Document=Vn;var Jn=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Qn=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=e&&e.o||function(e){return e&&e.t?e:{default:e}},ei=(Object.defineProperty(f,"t",{value:!0}),h(c)),ti=h(s),ni=o,ii=h(m),oi=h(p),ri=h(i),si=h(d),ai=r;function I(e,t,n){this.name=e,this.apiCall=t,this.configuration=n,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=e,this.apiCall=t,this.configuration=n,this.R=new ti.default(this.name,this.apiCall,this.configuration),this.T=new ii.default(this.name,this.apiCall),this.P=new ri.default(this.name,this.apiCall)}I.prototype.retrieve=function(){return Jn(this,void 0,void 0,function(){return Qn(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},I.prototype.update=function(t){return Jn(this,void 0,void 0,function(){return Qn(this,function(e){return[2,this.apiCall.patch(this.endpointPath(),t)]})})},I.prototype.delete=function(){return Jn(this,void 0,void 0,function(){return Qn(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},I.prototype.exists=function(){return Jn(this,void 0,void 0,function(){var t;return Qn(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return e.sent(),[2,!0];case 2:if((t=e.sent())instanceof ni.ObjectNotFound)return[2,!1];throw t;case 3:return[2]}})})},I.prototype.documents=function(e){return e?(void 0===this.individualDocuments[e]&&(this.individualDocuments[e]=new ai.Document(this.name,e,this.apiCall)),this.individualDocuments[e]):this.R},I.prototype.overrides=function(e){return void 0===e?this.T:(void 0===this.individualOverrides[e]&&(this.individualOverrides[e]=new oi.default(this.name,e,this.apiCall)),this.individualOverrides[e])},I.prototype.synonyms=function(e){return void 0===e?this.P:(void 0===this.individualSynonyms[e]&&(this.individualSynonyms[e]=new si.default(this.name,e,this.apiCall)),this.individualSynonyms[e])},I.prototype.endpointPath=function(){return"".concat(ei.default.RESOURCEPATH,"/").concat(this.name)},f.default=I;var a={},li=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},ci=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},ui=(Object.defineProperty(a,"t",{value:!0}),"/aliases");function di(e){this.apiCall=e}di.prototype.upsert=function(t,n){return li(this,void 0,void 0,function(){return ci(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},di.prototype.retrieve=function(){return li(this,void 0,void 0,function(){return ci(this,function(e){return[2,this.apiCall.get(ui)]})})},di.prototype.endpointPath=function(e){return"".concat(di.RESOURCEPATH,"/").concat(e)},Object.defineProperty(di,"RESOURCEPATH",{get:function(){return ui},enumerable:!1,configurable:!0}),a.default=di;var s={},hi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},pi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},m=e&&e.o||function(e){return e&&e.t?e:{default:e}},fi=(Object.defineProperty(s,"t",{value:!0}),m(a));function mi(e,t){this.name=e,this.apiCall=t}mi.prototype.retrieve=function(){return hi(this,void 0,void 0,function(){return pi(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},mi.prototype.delete=function(){return hi(this,void 0,void 0,function(){return pi(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},mi.prototype.endpointPath=function(){return"".concat(fi.default.RESOURCEPATH,"/").concat(this.name)},s.default=mi;var gi,vi,yi,p={},i=(gi=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))).t?gi:("function"==typeof(vi=gi.default)?(yi=function e(){return this instanceof e?Reflect.construct(vi,arguments,this.constructor):vi.apply(this,arguments)}).prototype=vi.prototype:yi={},Object.defineProperty(yi,"t",{value:!0}),Object.keys(gi).forEach(function(e){var t=Object.getOwnPropertyDescriptor(gi,e);Object.defineProperty(yi,e,t.get?t:{enumerable:!0,get:function(){return gi[e]}})}),yi),bi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},wi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},xi=(Object.defineProperty(p,"t",{value:!0}),i);function Si(e){this.apiCall=e,this.apiCall=e}Si.prototype.create=function(t){return bi(this,void 0,void 0,function(){return wi(this,function(e){return[2,this.apiCall.post(Si.RESOURCEPATH,t)]})})},Si.prototype.retrieve=function(){return bi(this,void 0,void 0,function(){return wi(this,function(e){return[2,this.apiCall.get("/keys")]})})},Si.prototype.generateScopedSearchKey=function(e,t){var t=JSON.stringify(t),n=Buffer.from((0,xi.createHmac)("sha256",e).update(t).digest("base64")),e=e.substr(0,4),n="".concat(n).concat(e).concat(t);return Buffer.from(n).toString("base64")},Object.defineProperty(Si,"RESOURCEPATH",{get:function(){return"/keys"},enumerable:!1,configurable:!0}),p.default=Si;var h={},Ei=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Ci=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},d=e&&e.o||function(e){return e&&e.t?e:{default:e}},ki=(Object.defineProperty(h,"t",{value:!0}),d(p));function Ti(e,t){this.id=e,this.apiCall=t}Ti.prototype.retrieve=function(){return Ei(this,void 0,void 0,function(){return Ci(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Ti.prototype.delete=function(){return Ei(this,void 0,void 0,function(){return Ci(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Ti.prototype.endpointPath=function(){return"".concat(ki.default.RESOURCEPATH,"/").concat(this.id)},h.default=Ti;var r={},Oi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Pi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Ai(e){this.apiCall=e}Object.defineProperty(r,"t",{value:!0}),Ai.prototype.retrieve=function(){return Oi(this,void 0,void 0,function(){return Pi(this,function(e){return[2,this.apiCall.get("/debug")]})})},r.default=Ai;var m={},Li=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Ii=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Ri(e){this.apiCall=e}Object.defineProperty(m,"t",{value:!0}),Ri.prototype.retrieve=function(){return Li(this,void 0,void 0,function(){return Ii(this,function(e){return[2,this.apiCall.get("/metrics.json")]})})},m.default=Ri;var i={},_i=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},ji=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Ni(e){this.apiCall=e}Object.defineProperty(i,"t",{value:!0}),Ni.prototype.retrieve=function(){return _i(this,void 0,void 0,function(){return ji(this,function(e){return[2,this.apiCall.get("/health")]})})},i.default=Ni;var d={},Mi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},qi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Di(e){this.apiCall=e}Object.defineProperty(d,"t",{value:!0}),Di.prototype.perform=function(t,n){return void 0===n&&(n={}),Mi(this,void 0,void 0,function(){return qi(this,function(e){return[2,this.apiCall.post("".concat("/operations","/").concat(t),{},n)]})})},d.default=Di;var Hi={},zi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Fi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Ui=e&&e.o||function(e){return e&&e.t?e:{default:e}},Bi=(Object.defineProperty(Hi,"t",{value:!0}),Ui(l));function Wi(e,t,n){void 0===n&&(n=!1),this.apiCall=e,this.configuration=t,this.useTextContentType=n,this.requestWithCache=new Bi.default}Wi.prototype.clearCache=function(){this.requestWithCache.clearCache()},Wi.prototype.perform=function(i,o,e){void 0===o&&(o={});var e=(void 0===e?{}:e).cacheSearchResultsForSeconds,r=void 0===e?this.configuration.cacheSearchResultsForSeconds:e;return zi(this,void 0,void 0,function(){var t,n;return Fi(this,function(e){return t={},this.useTextContentType&&(t["content-type"]="text/plain"),n={},!0===this.configuration.useServerSideSearchCache&&(n.use_cache=!0),n=Object.assign({},o,n),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.post,["/multi_search",i,n,t],{cacheResponseForSeconds:r})]})})},Hi.default=Wi;var Ui={},Yi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},$i=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function Xi(e){this.apiCall=e}Object.defineProperty(Ui,"t",{value:!0}),Xi.prototype.upsert=function(t,n){return Yi(this,void 0,void 0,function(){return $i(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},Xi.prototype.retrieve=function(){return Yi(this,void 0,void 0,function(){return $i(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Xi.prototype.endpointPath=function(e){return"".concat(Xi.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(Xi,"RESOURCEPATH",{get:function(){return"/presets"},enumerable:!1,configurable:!0}),Ui.default=Xi;var l={},Ki=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Gi=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Zi=e&&e.o||function(e){return e&&e.t?e:{default:e}},Vi=(Object.defineProperty(l,"t",{value:!0}),Zi(Ui));function Ji(e,t){this.presetId=e,this.apiCall=t}Ji.prototype.retrieve=function(){return Ki(this,void 0,void 0,function(){return Gi(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Ji.prototype.delete=function(){return Ki(this,void 0,void 0,function(){return Gi(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Ji.prototype.endpointPath=function(){return"".concat(Vi.default.RESOURCEPATH,"/").concat(this.presetId)},l.default=Ji;var Zi={},R={},Qi=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},eo=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function to(e){this.apiCall=e,this.apiCall=e}Object.defineProperty(R,"t",{value:!0}),to.prototype.upsert=function(t,n){return Qi(this,void 0,void 0,function(){return eo(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},to.prototype.retrieve=function(){return Qi(this,void 0,void 0,function(){return eo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},to.prototype.endpointPath=function(e){return"".concat(to.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(to,"RESOURCEPATH",{get:function(){return"/analytics/rules"},enumerable:!1,configurable:!0}),R.default=to;var _={},no=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},io=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},oo=e&&e.o||function(e){return e&&e.t?e:{default:e}},ro=(Object.defineProperty(_,"t",{value:!0}),oo(R));function so(e,t){this.name=e,this.apiCall=t}so.prototype.retrieve=function(){return no(this,void 0,void 0,function(){return io(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},so.prototype.delete=function(){return no(this,void 0,void 0,function(){return io(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},so.prototype.endpointPath=function(){return"".concat(ro.default.RESOURCEPATH,"/").concat(this.name)},_.default=so;var oo=e&&e.o||function(e){return e&&e.t?e:{default:e}},ao=(Object.defineProperty(Zi,"t",{value:!0}),oo(R)),lo=oo(_);function co(e){this.apiCall=e,this.individualAnalyticsRules={},this.apiCall=e,this.A=new ao.default(this.apiCall)}co.prototype.rules=function(e){return void 0===e?this.A:(void 0===this.individualAnalyticsRules[e]&&(this.individualAnalyticsRules[e]=new lo.default(e,this.apiCall)),this.individualAnalyticsRules[e])},Object.defineProperty(co,"RESOURCEPATH",{get:function(){return"/analytics"},enumerable:!1,configurable:!0}),Zi.default=co;var R={},uo=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},ho=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function po(e){this.apiCall=e}Object.defineProperty(R,"t",{value:!0}),po.prototype.upsert=function(t,n){return uo(this,void 0,void 0,function(){return ho(this,function(e){return[2,this.apiCall.put(this.endpointPath(t),n)]})})},po.prototype.retrieve=function(){return uo(this,void 0,void 0,function(){return ho(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},po.prototype.endpointPath=function(e){return"".concat(po.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(po,"RESOURCEPATH",{get:function(){return"/stopwords"},enumerable:!1,configurable:!0}),R.default=po;var oo={},fo=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},mo=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},_=e&&e.o||function(e){return e&&e.t?e:{default:e}},go=(Object.defineProperty(oo,"t",{value:!0}),_(R));function vo(e,t){this.stopwordId=e,this.apiCall=t}vo.prototype.retrieve=function(){return fo(this,void 0,void 0,function(){return mo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},vo.prototype.delete=function(){return fo(this,void 0,void 0,function(){return mo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},vo.prototype.endpointPath=function(){return"".concat(go.default.RESOURCEPATH,"/").concat(this.stopwordId)},oo.default=vo;var _={},yo={},bo=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},wo=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function xo(e){this.apiCall=e,this.apiCall=e}Object.defineProperty(yo,"t",{value:!0}),xo.prototype.create=function(t){return bo(this,void 0,void 0,function(){return wo(this,function(e){return[2,this.apiCall.post(this.endpointPath(),t)]})})},xo.prototype.retrieve=function(){return bo(this,void 0,void 0,function(){return wo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},xo.prototype.endpointPath=function(e){return"".concat(xo.RESOURCEPATH).concat(void 0===e?"":"/"+e)},Object.defineProperty(xo,"RESOURCEPATH",{get:function(){return"/conversations/models"},enumerable:!1,configurable:!0}),yo.default=xo;var j={},So=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Eo=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Co=e&&e.o||function(e){return e&&e.t?e:{default:e}},ko=(Object.defineProperty(j,"t",{value:!0}),Co(yo));function To(e,t){this.id=e,this.apiCall=t}To.prototype.update=function(t){return So(this,void 0,void 0,function(){return Eo(this,function(e){return[2,this.apiCall.put(this.endpointPath(),t)]})})},To.prototype.retrieve=function(){return So(this,void 0,void 0,function(){return Eo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},To.prototype.delete=function(){return So(this,void 0,void 0,function(){return Eo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},To.prototype.endpointPath=function(){return"".concat(ko.default.RESOURCEPATH,"/").concat(this.id)},j.default=To;var Oo=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},Po=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Co=e&&e.o||function(e){return e&&e.t?e:{default:e}},Ao=(Object.defineProperty(_,"t",{value:!0}),Co(yo)),Lo=Co(j),Io="/conversations";function Ro(e){this.apiCall=e,this.individualConversationModels={},this.apiCall=e,this.N=new Ao.default(this.apiCall)}Ro.prototype.retrieve=function(){return Oo(this,void 0,void 0,function(){return Po(this,function(e){return[2,this.apiCall.get(Io)]})})},Ro.prototype.models=function(e){return void 0===e?this.N:(void 0===this.individualConversationModels[e]&&(this.individualConversationModels[e]=new Lo.default(e,this.apiCall)),this.individualConversationModels[e])},Object.defineProperty(Ro,"RESOURCEPATH",{get:function(){return Io},enumerable:!1,configurable:!0}),_.default=Ro;var yo={},_o=e&&e.S||function(e,s,a,l){return new(a=a||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}r((l=l.apply(e,s||[])).next())})},jo=e&&e._||function(i,o){var r,s,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l=c&&t[c=0]?0:l;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!((a=0<(a=l.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Co=e&&e.o||function(e){return e&&e.t?e:{default:e}},No=(Object.defineProperty(yo,"t",{value:!0}),Co(_));function Mo(e,t){this.id=e,this.apiCall=t}Mo.prototype.retrieve=function(){return _o(this,void 0,void 0,function(){return jo(this,function(e){return[2,this.apiCall.get(this.endpointPath())]})})},Mo.prototype.update=function(t){return _o(this,void 0,void 0,function(){return jo(this,function(e){return[2,this.apiCall.put(this.endpointPath(),t)]})})},Mo.prototype.delete=function(){return _o(this,void 0,void 0,function(){return jo(this,function(e){return[2,this.apiCall.delete(this.endpointPath())]})})},Mo.prototype.endpointPath=function(){return"".concat(No.default.RESOURCEPATH,"/").concat(this.id)},yo.default=Mo;var j=e&&e.o||function(e){return e&&e.t?e:{default:e}},qo=(Object.defineProperty(M,"t",{value:!0}),j(q)),Do=j(u),Ho=j(c),zo=j(f),Fo=j(a),Uo=j(s),Bo=j(p),Wo=j(h),Yo=j(r),$o=j(m),Xo=j(i),Ko=j(d),Go=j(Hi),Zo=j(Ui),Vo=j(l),Jo=j(Zi),Qo=j(R),er=j(oo),tr=j(_),nr=j(yo);function ir(e){var t;e.sendApiKeyAsQueryParam=null!=(t=e.sendApiKeyAsQueryParam)&&t,this.configuration=new qo.default(e),this.apiCall=new Do.default(this.configuration),this.debug=new Yo.default(this.apiCall),this.metrics=new $o.default(this.apiCall),this.health=new Xo.default(this.apiCall),this.operations=new Ko.default(this.apiCall),this.multiSearch=new Go.default(this.apiCall,this.configuration),this.M=new Ho.default(this.apiCall),this.individualCollections={},this.C=new Fo.default(this.apiCall),this.individualAliases={},this.U=new Bo.default(this.apiCall),this.individualKeys={},this.$=new Zo.default(this.apiCall),this.individualPresets={},this.D=new Qo.default(this.apiCall),this.individualStopwords={},this.analytics=new Jo.default(this.apiCall),this.F=new tr.default(this.apiCall),this.individualConversations={}}ir.prototype.collections=function(e){return void 0===e?this.M:(void 0===this.individualCollections[e]&&(this.individualCollections[e]=new zo.default(e,this.apiCall,this.configuration)),this.individualCollections[e])},ir.prototype.aliases=function(e){return void 0===e?this.C:(void 0===this.individualAliases[e]&&(this.individualAliases[e]=new Uo.default(e,this.apiCall)),this.individualAliases[e])},ir.prototype.keys=function(e){return void 0===e?this.U:(void 0===this.individualKeys[e]&&(this.individualKeys[e]=new Wo.default(e,this.apiCall)),this.individualKeys[e])},ir.prototype.presets=function(e){return void 0===e?this.$:(void 0===this.individualPresets[e]&&(this.individualPresets[e]=new Vo.default(e,this.apiCall)),this.individualPresets[e])},ir.prototype.stopwords=function(e){return void 0===e?this.D:(void 0===this.individualStopwords[e]&&(this.individualStopwords[e]=new er.default(e,this.apiCall)),this.individualStopwords[e])},ir.prototype.conversations=function(e){return void 0===e?this.F:(void 0===this.individualConversations[e]&&(this.individualConversations[e]=new nr.default(e,this.apiCall)),this.individualConversations[e])},M.default=ir;var Co={},c={},or=(Object.defineProperty(c,"t",{value:!0}),c.SearchOnlyCollection=void 0,n);function rr(e,t,n){this.name=e,this.apiCall=t,this.configuration=n,this.R=new or.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}rr.prototype.documents=function(){return this.R},c.SearchOnlyCollection=rr;var f=e&&e.o||function(e){return e&&e.t?e:{default:e}},sr=(Object.defineProperty(Co,"t",{value:!0}),f(q)),ar=f(u),lr=f(Hi),cr=c;function ur(e){var t;e.sendApiKeyAsQueryParam=null==(t=e.sendApiKeyAsQueryParam)||t,!0===e.sendApiKeyAsQueryParam&&2e3<(e.apiKey||"").length&&(e.sendApiKeyAsQueryParam=!1),this.configuration=new sr.default(e),this.apiCall=new ar.default(this.configuration),this.multiSearch=new lr.default(this.apiCall,this.configuration,!0),this.individualCollections={}}ur.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach(function(e){e[0],e[1].documents().clearCache()})},ur.prototype.collections=function(e){if(e)return void 0===this.individualCollections[e]&&(this.individualCollections[e]=new cr.SearchOnlyCollection(e,this.apiCall,this.configuration)),this.individualCollections[e];throw Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},Co.default=ur;var dr=e&&e.h||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.t:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),hr=e&&e.l||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e&&e.v||function(e){if(e&&e.t)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&dr(t,e,n);return hr(t,e),t},s=e&&e.o||function(e){return e&&e.t?e:{default:e}},p=(Object.defineProperty(t,"t",{value:!0}),t.Errors=t.SearchClient=t.Client=void 0,s(M)),h=(t.Client=p.default,s(Co)),r=(t.SearchClient=h.default,a(o)),pr=(t.Errors=r,t.default={Client:p.default,SearchClient:h.default,Errors:r});{let n=!1,i=null;function fr(){var e;n&&((e=document.querySelector("script[data-sodo-search]"))&&e.remove(),e=document.getElementById("sodo-search-root"))&&e.remove()}const N="mp-search";class vr{constructor(e={}){if(n)return window.magicPagesSearch;this.isModalOpen=!1,this.activeElement=null,this.scrollPosition=0;var t=window.__MP_SEARCH_CONFIG__||{typesenseNodes:[{host:"localhost",port:"8108",protocol:"http"}],typesenseApiKey:null,collectionName:null,commonSearches:[],theme:"system",enableHighlighting:!0,enableDidYouMean:!0,searchFields:{title:{weight:5,highlight:!0},excerpt:{weight:3,highlight:!0},plaintext:{weight:4,highlight:!0},"tags.name":{weight:4,highlight:!0},"tags.slug":{weight:3,highlight:!0}}};if(this.config={...t,...e,commonSearches:e.commonSearches||t.commonSearches||[]},!this.config.typesenseNodes||!this.config.typesenseApiKey||!this.config.collectionName)throw Error("MagicPagesSearch: Missing required Typesense configuration");this.selectedIndex=-1,this.searchDebounceTimeout=null,this.cachedElements={},this.init(),n=!0}async init(){var e;document.getElementById("mp-search-styles")||((e=document.createElement("style")).id="mp-search-styles",e.textContent="/* MagicPages Search UI Styles - Original Design with mp-search- prefix */\n\n/* Base document styles */\n:root {\n    /* Color system */\n    --color-base-50: 255 255 255;\n    --color-base-100: 250 250 250;\n    --color-base-200: 229 231 235;\n    --color-base-300: 209 213 219;\n    --color-base-700: 55 65 81;\n    --color-base-800: 31 41 55;\n    --color-base-900: 17 24 39;\n    --color-base-950: 3 7 18;\n\n    /* Animation configs */\n    --transition-base: 80ms cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-smooth: 120ms cubic-bezier(0.4, 0, 0.2, 1);\n    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n}\n\n/* System/Default theme (light) */\n.mp-search-modal {\n    /* Size multiplier - rem equivalent */\n    --mp-rem: 16px;\n    \n    --color-surface: rgb(252, 252, 252);\n    --color-surface-elevated: rgb(255, 255, 255);\n    --color-surface-hover: rgba(0, 0, 0, 0.04);\n    --color-text: rgb(23, 23, 23);\n    --color-text-secondary: rgb(82, 82, 82);\n    --color-border: rgba(0, 0, 0, 0.08);\n    --color-backdrop: rgba(0, 0, 0, 0.15);\n    --accent-color: var(--ghost-accent-color, #6366f1);\n    --accent-color-hover: color-mix(in srgb, black 15%, var(--accent-color));\n    --color-result-bg: rgb(252, 252, 252);\n    --color-result-hover: color-mix(in srgb, var(--accent-color) 8%, transparent);\n}\n\n/* Dark theme */\n.mp-search-dark {\n    --color-surface: rgb(32, 32, 32);\n    --color-surface-elevated: rgb(45, 45, 45);\n    --color-surface-hover: rgba(255, 255, 255, 0.04);\n    --color-text: rgb(250, 250, 250);\n    --color-text-secondary: rgb(161, 161, 161);\n    --color-border: rgba(255, 255, 255, 0.08);\n    --color-backdrop: rgba(0, 0, 0, 0.4);\n    --accent-color: var(--ghost-accent-color, #818cf8);\n    --accent-color-hover: color-mix(in srgb, white 15%, var(--accent-color));\n    --color-result-bg: rgb(38, 38, 38);\n    --color-result-hover: color-mix(in srgb, var(--accent-color) 8%, transparent);\n}\n\n/* Base typography for modal content */\n.mp-search-modal {\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    line-height: 1.5;\n    font-size: var(--mp-rem);\n    -webkit-text-size-adjust: 100%;\n}\n\n.mp-search-modal * {\n    box-sizing: border-box;\n}\n\n.mp-search-modal button {\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n}\n\n/* Utility classes */\n.mp-search-hidden {\n    display: none !important;\n}\n\n/* Modal structure */\n.mp-search-modal {\n    position: fixed;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    background-color: var(--color-backdrop);\n    backdrop-filter: blur(4px);\n    align-items: flex-start;\n    justify-content: center;\n    -webkit-tap-highlight-color: transparent;\n    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);\n    /* Above subscribe button on mobile */\n    z-index: 3999999;\n}\n\n@media (min-width: 640px) {\n    .mp-search-modal {\n        /* Below subscribe button on desktop */\n        z-index: 3999997;\n    }\n}\n\n/* Backdrop with glass effect */\n.mp-search-backdrop {\n    position: fixed;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n    backdrop-filter: blur(8px);\n    background: var(--color-backdrop);\n    transition: opacity var(--transition-smooth);\n}\n\n/* Modal container and content */\n.mp-search-container {\n    position: relative;\n    z-index: 1;\n    width: 100%;\n    max-width: calc(42 * var(--mp-rem));\n    margin: 0 auto;\n    padding: 0;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    transition: transform 0.1s ease-out;\n}\n\n@media (min-width: 640px) {\n    .mp-search-container {\n        padding: calc(1.25 * var(--mp-rem));\n        height: auto;\n        max-height: 60vh;\n        min-height: 20vh;\n        margin-top: 10vh;\n    }\n}\n\n.mp-search-content {\n    background: var(--color-surface);\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    overflow: hidden;\n    width: 100%;\n    position: relative;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    /* Ensure content doesn't overflow viewport */\n    max-height: 100%;\n}\n\n@media (min-width: 640px) {\n    .mp-search-content {\n        border: 1px solid var(--color-border);\n        border-radius: calc(0.75 * var(--mp-rem));\n        box-shadow: var(--shadow-lg);\n    }\n}\n\n/* Loading state */\n.mp-search-loading {\n    display: none;\n    padding: calc(2 * var(--mp-rem)) calc(1.25 * var(--mp-rem));\n    text-align: center;\n    color: var(--color-text-secondary);\n}\n\n.mp-search-loading:not(.mp-search-hidden) {\n    display: block;\n}\n\n.mp-search-spinner {\n    display: inline-block;\n    width: calc(2 * var(--mp-rem));\n    height: calc(2 * var(--mp-rem));\n    margin-bottom: calc(1 * var(--mp-rem));\n    border: 2px solid var(--color-border);\n    border-top-color: var(--accent-color);\n    border-radius: 50%;\n    animation: mp-spin 0.8s linear infinite;\n}\n\n@keyframes mp-spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n/* Search header */\n.mp-search-header {\n    align-items: center;\n    border-bottom: 1px solid var(--color-border);\n    padding: calc(0.75 * var(--mp-rem)) calc(1.25 * var(--mp-rem));\n    position: relative;\n    background: var(--color-surface-elevated);\n    display: grid;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n    gap: calc(1 * var(--mp-rem));\n}\n\n@media (min-width: 640px) {\n    .mp-search-header {\n        padding: calc(0.875 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n    }\n}\n\n.mp-search-form {\n    position: relative;\n}\n\n.mp-search-form:before {\n    content: \"\";\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='rgb(55, 65, 81)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z' /%3E%3C/svg%3E\");\n    height: calc(1.125 * var(--mp-rem));\n    width: calc(1.125 * var(--mp-rem));\n    position: absolute;\n    left: calc(0.75 * var(--mp-rem));\n    top: 50%;\n    transform: translateY(-50%);\n    opacity: 0.7;\n    color: var(--color-text);\n    pointer-events: none;\n    z-index: 1;\n    transition: opacity var(--transition-base);\n}\n\n@media (min-width: 640px) {\n    .mp-search-form:before {\n        left: calc(0.875 * var(--mp-rem));\n    }\n}\n\n.mp-search-dark .mp-search-form:before {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='rgb(209, 213, 219)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z' /%3E%3C/svg%3E\");\n}\n\n.mp-search-input {\n    -webkit-appearance: none;\n    background: transparent;\n    border-radius: calc(0.75 * var(--mp-rem));\n    border: 1px solid var(--color-border);\n    box-shadow: var(--shadow-sm);\n    color: var(--color-text);\n    font-size: calc(1 * var(--mp-rem));\n    height: calc(2.75 * var(--mp-rem));\n    outline: none;\n    padding: calc(0.75 * var(--mp-rem)) calc(0.75 * var(--mp-rem)) calc(0.75 * var(--mp-rem)) calc(2.75 * var(--mp-rem));\n    width: 100%;\n    transition: all var(--transition-smooth);\n    background: var(--color-surface);\n    letter-spacing: -0.011em;\n}\n\n/* Hide the search clear button */\n.mp-search-input::-webkit-search-cancel-button {\n    -webkit-appearance: none;\n    display: none;\n}\n\n@media (min-width: 640px) {\n    .mp-search-input {\n        font-size: calc(1.125 * var(--mp-rem));\n        height: calc(3 * var(--mp-rem));\n        padding: calc(0.875 * var(--mp-rem)) calc(0.875 * var(--mp-rem)) calc(0.875 * var(--mp-rem)) calc(3 * var(--mp-rem));\n    }\n}\n\n.mp-search-input:focus,\n.mp-search-input:focus-visible {\n    background: var(--color-surface);\n    outline: none;\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 1px var(--accent-color);\n}\n\n.mp-search-input::placeholder {\n    color: var(--color-text-secondary);\n    opacity: 0.7;\n}\n\n/* Results container */\n.mp-search-results-container {\n    flex: 1;\n    overflow-y: auto;\n    overscroll-behavior: contain;\n    position: relative;\n    scroll-behavior: smooth;\n    padding: calc(0.5 * var(--mp-rem)) 0;\n    -webkit-overflow-scrolling: touch;\n    min-height: 0;\n    background: var(--color-surface);\n    padding: calc(0.75 * var(--mp-rem)) calc(calc(1.5 * var(--mp-rem)) - 6px) calc(0.75 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n}\n\n@media (min-width: 640px) {\n    .mp-search-results-container {\n        height: auto;\n        max-height: calc(60vh - calc(4 * var(--mp-rem)));\n        padding-bottom: calc(1 * var(--mp-rem));\n    }\n}\n\n.mp-search-results-container::-webkit-scrollbar {\n    width: 6px;\n}\n\n.mp-search-results-container::-webkit-scrollbar-track {\n    background: transparent;\n}\n\n.mp-search-results-container::-webkit-scrollbar-thumb {\n    background: var(--color-border);\n    border-radius: 3px;\n}\n\n.mp-search-results-container > :last-child {\n    margin-bottom: calc(0.75 * var(--mp-rem));\n}\n\n/* Common searches */\n.mp-search-common-searches {\n    padding: calc(0.75 * var(--mp-rem)) 0;\n    padding-right: 6px;\n    margin: 0;\n}\n\n.mp-search-common-searches-title {\n    color: var(--color-text-secondary);\n    font-size: calc(0.75 * var(--mp-rem));\n    font-weight: 600;\n    letter-spacing: 0.05em;\n    margin: 0 0 calc(0.75 * var(--mp-rem));\n    text-transform: uppercase;\n}\n\n#mp-search-common-searches-container {\n    display: flex;\n    flex-direction: column;\n    gap: calc(0.25 * var(--mp-rem));\n}\n\n.mp-search-common-search-btn {\n    background: transparent;\n    border: none;\n    color: var(--color-text);\n    border-radius: calc(0.5 * var(--mp-rem));\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    padding: calc(0.75 * var(--mp-rem)) calc(1 * var(--mp-rem));\n    text-decoration: none;\n    transition: all var(--transition-base);\n    font-size: calc(0.875 * var(--mp-rem));\n    text-align: left;\n    border: 1px solid transparent;\n}\n\n.mp-search-common-search-btn:hover,\n.mp-search-common-search-btn.mp-search-selected {\n    background: var(--color-result-hover);\n    border-color: var(--accent-color);\n}\n\n.mp-search-hits-list {\n    margin-block-start: calc(0.5 * var(--mp-rem));\n    margin-block-end: calc(0.5 * var(--mp-rem));\n}\n\n/* Search result link wrapper */\n.mp-search-result-link {\n    text-decoration: none;\n    color: inherit;\n    display: block;\n}\n\n/* Search results */\n.mp-search-result-item {\n    border-radius: calc(0.75 * var(--mp-rem));\n    display: block;\n    margin: calc(0.5 * var(--mp-rem)) 0;\n    padding: calc(1.25 * var(--mp-rem));\n    text-decoration: none;\n    transition: background-color var(--transition-base), transform var(--transition-base);\n    border: 1px solid transparent;\n    word-break: break-word;\n    background: var(--color-result-bg);\n}\n\n.mp-search-result-link:hover .mp-search-result-item,\n.mp-search-result-link.mp-search-selected .mp-search-result-item,\n.mp-search-result-link:focus .mp-search-result-item {\n    background: var(--color-result-hover);\n    border-color: var(--accent-color);\n    transform: translateX(2px);\n}\n\n.mp-search-result-title {\n    color: var(--accent-color);\n    font-size: calc(1.125 * var(--mp-rem));\n    font-weight: 600;\n    line-height: 1.4;\n    margin-top: 0;\n    margin-bottom: calc(0.5 * var(--mp-rem));\n    word-break: break-word;\n    transition: color var(--transition-base);\n}\n\n.mp-search-result-excerpt {\n    color: var(--color-text-secondary);\n    font-size: calc(0.9375 * var(--mp-rem));\n    line-height: 1.6;\n    margin: 0;\n    word-break: break-word;\n}\n\n/* Keyboard hints */\n.mp-search-hints {\n    display: flex;\n    align-items: center;\n    font-size: calc(0.75 * var(--mp-rem));\n    gap: calc(1 * var(--mp-rem));\n    color: var(--color-text-secondary);\n    white-space: nowrap;\n    user-select: none;\n    margin-right: calc(0.5 * var(--mp-rem));\n}\n\n.mp-search-kbd {\n    background: var(--color-surface-elevated);\n    border: 1px solid var(--color-border);\n    border-radius: calc(0.375 * var(--mp-rem));\n    color: var(--color-text-secondary);\n    font-size: calc(0.75 * var(--mp-rem));\n    padding: calc(0.25 * var(--mp-rem)) calc(0.375 * var(--mp-rem));\n    box-shadow: var(--shadow-sm);\n    font-size: calc(0.75 * var(--mp-rem));\n    font-weight: 500;\n    padding: calc(0.25 * var(--mp-rem)) calc(0.5 * var(--mp-rem));\n    box-shadow: var(--shadow-sm);\n    margin: 0 calc(0.25 * var(--mp-rem));\n}\n\n/* Empty state */\n.mp-search-empty {\n    padding: calc(2.5 * var(--mp-rem)) calc(1.5 * var(--mp-rem));\n    text-align: center;\n}\n\n.mp-search-empty-message {\n    color: var(--color-text-secondary);\n    font-size: calc(1 * var(--mp-rem));\n}\n\n/* Close button */\n.mp-search-close {\n    position: fixed;\n    top: calc(1.25 * var(--mp-rem));\n    right: calc(1.5 * var(--mp-rem));\n    width: calc(2 * var(--mp-rem));\n    height: calc(2 * var(--mp-rem));\n    border-radius: 9999px;\n    border: 1px solid var(--color-border);\n    background: var(--color-surface-elevated);\n    color: var(--color-text-secondary);\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all var(--transition-base);\n    font-size: calc(1.25 * var(--mp-rem));\n    line-height: 1;\n    z-index: 50;\n    padding: 0;\n}\n\n.mp-search-close:hover {\n    background: var(--color-surface-hover);\n    color: var(--color-text);\n    border-color: var(--accent-color);\n}\n\n.mp-search-close:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--color-surface), 0 0 0 4px var(--accent-color);\n    border-color: var(--accent-color);\n}\n\n/* Highlight styles */\n.mp-search-highlight {\n    background: none;\n    background: color-mix(in srgb, var(--accent-color) 15%, transparent);\n    color: color-mix(in srgb, var(--accent-color) 85%, var(--color-text));\n    font-weight: 600;\n    border-radius: 2px;\n    padding: 0 1px;\n}\n\n/* Mobile optimizations */\n@media (max-width: 640px) {\n    .mp-search-hints {\n        display: none;\n    }\n\n    .mp-search-content {\n        margin-top: 0;\n        border-radius: 0;\n        height: 100vh;\n    }\n\n    .mp-search-container {\n        padding: 0;\n        margin: 0;\n    }\n\n    .mp-search-results-container {\n        padding-bottom: calc(1.5 * var(--mp-rem));\n        max-height: calc(100vh - calc(4 * var(--mp-rem)));\n    }\n}\n\n/* Fix header positioning on mobile */\n@media (max-width: 640px) {\n    .mp-search-header {\n        padding-right: calc(4.25 * var(--mp-rem));\n    }\n}",document.head.appendChild(e)),await this.createSearchModal(),this.initEventListeners(),this.setupHashHandling(),await this.handleInitialState()}async createSearchModal(){var e;document.getElementById(N+"-modal")||(e=`
                <div id="${N}-modal" class="${N}-modal ${N}-hidden" role="dialog" aria-modal="true" aria-label="Search">
                    <div class="${N}-backdrop"></div>
                    <div class="${N}-container">
                        <button class="${N}-close" aria-label="Close search">
                            <span aria-hidden="true">×</span>
                        </button>
                        <div class="${N}-content">
                            <div class="${N}-header">
                                <div id="${N}-searchbox" role="search">
                                    <form class="${N}-form" role="search">
                                        <input 
                                            type="search" 
                                            class="${N}-input" 
                                            placeholder="Search for anything"
                                            autocomplete="off"
                                            autocorrect="off"
                                            autocapitalize="off"
                                            spellcheck="false"
                                            maxlength="512"
                                            aria-label="Search"
                                        />
                                    </form>
                                </div>
                                <div class="${N}-hints">
                                    <span>
                                        <kbd class="${N}-kbd">↑↓</kbd>
                                        to navigate
                                    </span>
                                    <span>
                                        <kbd class="${N}-kbd">esc</kbd>
                                        to close
                                    </span>
                                </div>
                            </div>
                            <div class="${N}-results-container">
                                ${this.getCommonSearchesHtml()}
                                <div id="${N}-hits" class="${N}-hits-list" role="region" aria-label="Search results"></div>
                                <div id="${N}-loading" class="${N}-loading ${N}-hidden" role="status" aria-live="polite">
                                    <div class="${N}-spinner" aria-hidden="true"></div>
                                    <div>Searching...</div>
                                </div>
                                <div id="${N}-empty" class="${N}-empty ${N}-hidden" role="status" aria-live="polite">
                                    <div class="${N}-empty-message">
                                        <p>No results found for your search</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,document.body.insertAdjacentHTML("beforeend",e),this.modal=document.getElementById(N+"-modal"),this.searchInput=this.modal.querySelector(`.${N}-input`),this.searchForm=this.modal.querySelector(`.${N}-form`),this.hitsList=this.modal.querySelector(`#${N}-hits`),this.commonSearches=this.modal.querySelector(`.${N}-common-searches`),this.loadingState=this.modal.querySelector(`#${N}-loading`),this.emptyState=this.modal.querySelector(`#${N}-empty`),this.updateTheme())}getCommonSearchesHtml(){return this.config.commonSearches?.length?`
                <div class="${N}-common-searches">
                    <div class="${N}-common-searches-title" role="heading" aria-level="2">
                        Common searches
                    </div>
                    <div id="${N}-common-searches-container" role="list">
                        ${this.config.commonSearches.map(e=>`
                            <button type="button" 
                                class="${N}-common-search-btn" 
                                data-search="${e}"
                                role="listitem">
                                ${e}
                            </button>
                        `).join("")}
                    </div>
                </div>
            `:`
                    <div class="${N}-common-searches">
                        <div class="${N}-empty-message">Start typing to search...</div>
                    </div>
                `}updateTheme(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.modal.classList.toggle(N+"-dark",e)}initEventListeners(){this.modal.querySelector(`.${N}-close`).addEventListener("click",()=>this.closeModal()),this.modal.addEventListener("click",e=>{e.target!==this.modal&&!e.target.classList.contains(N+"-backdrop")||this.closeModal()}),this.modal.querySelector(`.${N}-container`).addEventListener("click",e=>e.stopPropagation()),this.searchForm.addEventListener("submit",e=>{e.preventDefault()}),this.searchInput.addEventListener("input",e=>{const t=e.target.value;this.searchDebounceTimeout&&clearTimeout(this.searchDebounceTimeout),this.searchDebounceTimeout=setTimeout(()=>{this.handleSearch(t)},80)}),this.attachCommonSearchListeners(),document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),this.openModal()),"/"!==e.key||e.ctrlKey||e.metaKey||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||(e.preventDefault(),this.openModal()),"Escape"===e.key&&this.isModalOpen&&(e.preventDefault(),this.closeModal())}),this.modal.addEventListener("keydown",e=>this.handleKeydown(e)),document.querySelectorAll("[data-ghost-search]").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.openModal()})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.updateTheme()})}attachCommonSearchListeners(){var e,t=this.modal.querySelector(`#${N}-common-searches-container`);t&&(t.addEventListener("click",e=e=>{var t=e.target.closest(`.${N}-common-search-btn`);if(t){e.preventDefault();const n=t.dataset.search;this.searchInput&&(this.selectedIndex=-1,this.searchInput.value=n,this.searchInput.dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{this.searchInput.focus(),this.searchInput.setSelectionRange(n.length,n.length)},0))}}),t.addEventListener("touchend",e))}lockBodyScroll(){this.scrollPosition=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${this.scrollPosition}px`,document.body.style.width="100%"}unlockBodyScroll(){document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),window.scrollTo(0,this.scrollPosition)}async openModal(){var e;this.isModalOpen||(this.activeElement=document.activeElement,this.modal.classList.remove(N+"-hidden"),this.isModalOpen=!0,this.lockBodyScroll(),setTimeout(()=>{this.searchInput.focus()},50),"#/search"!==window.location.hash&&history.replaceState(null,null,""+window.location.pathname+window.location.search+"#/search"),(e=(e=new URLSearchParams(window.location.search)).get("s")||e.get("q"))&&this.searchInput&&(this.searchInput.value=e,this.handleSearch(e)))}closeModal(){this.isModalOpen&&(this.modal.classList.add(N+"-hidden"),this.isModalOpen=!1,this.unlockBodyScroll(),this.selectedIndex=-1,this.searchInput&&(this.searchInput.value=""),this.handleSearch(""),this.activeElement&&"function"==typeof this.activeElement.focus&&this.activeElement.focus(),"#/search"===window.location.hash)&&history.replaceState(null,null,""+window.location.pathname+window.location.search)}async handleSearch(e){if(e=e?.trim()){this.commonSearches&&this.commonSearches.classList.add(N+"-hidden"),this.hitsList&&this.hitsList.classList.remove(N+"-hidden"),this.loadingState&&this.loadingState.classList.remove(N+"-hidden"),this.emptyState&&this.emptyState.classList.add(N+"-hidden");try{this.typesenseClient||(this.typesenseClient=new pr.Client({nodes:this.config.typesenseNodes,apiKey:this.config.typesenseApiKey,connectionTimeoutSeconds:2}));var t,n={q:e,...this.getSearchParameters()},i=await this.typesenseClient.collections(this.config.collectionName).documents().search(n);(this.loadingState&&this.loadingState.classList.add(N+"-hidden"),0===i.hits.length)?(this.emptyState&&this.emptyState.classList.remove(N+"-hidden"),this.hitsList&&(this.hitsList.innerHTML="",this.hitsList.classList.add(N+"-hidden"))):(this.emptyState&&this.emptyState.classList.add(N+"-hidden"),this.hitsList.innerHTML="",t=i.hits.map(e=>{var t=e.document.title||"Untitled",n=e.document.excerpt||e.document.plaintext?.substring(0,160)||"";return`
                        <a href="${e.document.url||"#"}" 
                            class="${N}-result-link"
                            aria-label="${t}">
                            <article class="${N}-result-item" role="article">
                                <h3 class="${N}-result-title" role="heading" aria-level="3">${t}</h3>
                                <p class="${N}-result-excerpt" aria-label="Article excerpt">${n}</p>
                            </article>
                        </a>
                    `}).join(""),this.hitsList.innerHTML=t,this.hitsList.classList.remove(N+"-hidden"))}catch(e){this.loadingState&&this.loadingState.classList.add(N+"-hidden"),this.emptyState&&this.emptyState.classList.remove(N+"-hidden"),this.hitsList&&(this.hitsList.innerHTML="",this.hitsList.classList.add(N+"-hidden"))}}else this.selectedIndex=-1,this.hitsList&&this.hitsList.classList.add(N+"-hidden"),this.commonSearches&&this.commonSearches.classList.remove(N+"-hidden"),this.emptyState&&this.emptyState.classList.add(N+"-hidden"),this.loadingState&&this.loadingState.classList.add(N+"-hidden")}getSearchParameters(){const e=0<Object.keys(this.config.searchFields||{}).length?this.config.searchFields:{title:{weight:5,highlight:!0},excerpt:{weight:3,highlight:!0},plaintext:{weight:4,highlight:!0},"tags.name":{weight:4,highlight:!0},"tags.slug":{weight:3,highlight:!0}},n=[],i=[],o=[];return Object.entries(e).forEach(([e,t])=>{n.push(e),i.push(t.weight||1),t.highlight&&o.push(e)}),{query_by:n.join(","),query_by_weights:i.join(","),highlight_full_fields:o.join(","),highlight_affix_num_tokens:30,include_fields:"title,url,excerpt,plaintext,published_at,tags",typo_tolerance:!1,num_typos:0,prefix:!0,per_page:20,drop_tokens_threshold:0,enable_nested_fields:!0,prioritize_exact_match:!0,sort_by:"_text_match:desc,published_at:desc"}}handleKeydown(e){if("Escape"===e.key)e.preventDefault(),this.closeModal();else if(e.target===this.searchInput)switch(e.key){case"ArrowDown":e.preventDefault(),this.navigateResults("next");break;case"ArrowUp":e.preventDefault(),this.navigateResults("prev");break;case"Enter":-1!==this.selectedIndex&&(e.preventDefault(),this.handleEnterKey())}}navigateResults(e){var t=[...this.modal.querySelectorAll(`.${N}-result-link, .${N}-common-search-btn:not(.${N}-hidden)`)].filter(e=>null!==e.offsetParent&&!e.closest(`.${N}-hidden`));0!==t.length&&(-1===this.selectedIndex?this.selectedIndex="next"===e?0:t.length-1:this.selectedIndex="next"===e?(this.selectedIndex+1)%t.length:(this.selectedIndex-1+t.length)%t.length,t.forEach(e=>e.classList.remove(N+"-selected")),(e=t[this.selectedIndex]).classList.add(N+"-selected"),e.scrollIntoView({block:"nearest",behavior:"auto"}))}handleEnterKey(){var e=[...this.modal.querySelectorAll(`.${N}-result-link, .${N}-common-search-btn:not(.${N}-hidden)`)].filter(e=>null!==e.offsetParent&&!e.closest(`.${N}-hidden`));0<=this.selectedIndex&&this.selectedIndex<e.length&&((e=e[this.selectedIndex]).classList.contains(N+"-result-link")?window.location.href=e.href:(this.searchInput.value=e.textContent.trim(),this.searchInput.dispatchEvent(new Event("input",{bubbles:!0}))))}setupHashHandling(){window.addEventListener("hashchange",()=>this.syncWithHash())}async syncWithHash(){var e=window.location.hash.startsWith("#/search");e!==this.isModalOpen&&(e?await this.openModal():this.closeModal())}async handleInitialState(){var e=new URLSearchParams(window.location.search),e=e.get("s")||e.get("q"),t=window.location.hash.split("/");let n=null;(n=2<t.length&&"search"===t[1]?decodeURIComponent(t[2]).replace(/\+/g," "):n)?(await this.openModal(),this.searchInput&&(this.searchInput.value=n,this.handleSearch(n))):e?(await this.openModal(),this.searchInput&&(this.searchInput.value=e,this.handleSearch(e))):"#/search"===window.location.hash&&await this.openModal()}}function mr(){var e=new URLSearchParams(window.location.search),e=e.has("s")||e.has("q");if(!window.magicPagesSearch&&(window.__MP_SEARCH_CONFIG__||"#/search"===window.location.hash||e||0<document.querySelectorAll("[data-ghost-search]").length)){window.magicPagesSearch=new vr;{(i=new MutationObserver(e=>{if(n)for(const n of e)for(const e of n.addedNodes)1===e.nodeType&&("SCRIPT"===e.tagName&&e.hasAttribute("data-sodo-search")||"sodo-search-root"===e.id)&&e.remove()})).observe(document.documentElement,{childList:!0,subtree:!0});const t=setInterval(fr,100);setTimeout(()=>{clearInterval(t),i&&(i.disconnect(),i=null)},5e3)}}}window.MagicPagesSearch=vr,new Promise(e=>{if(document.body)e();else{const t=new MutationObserver(()=>{document.body&&(t.disconnect(),e())});t.observe(document.documentElement,{childList:!0})}}).then(mr),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",mr)}}(),(new class{constructor(e="#webmentions"){this.targetSelector=e,this.container=null,this.cache=new Map,this.initialized=!1}init(){this.initialized||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup(),this.initialized=!0)}setup(){var e;this.container=document.querySelector(this.targetSelector),this.container?(this.container.innerHTML='<div class="wm-loading">Loading mentions...</div>',e=window.location.href.replace(/#.*$/,""),console.log("Fetching webmentions for:",e),this.fetchWebmentions(e).then(e=>this.renderWebmentions(e)).catch(e=>this.handleError(e))):console.log("Webmention container not found")}async fetchWebmentions(e){if(this.cache.has(e))return this.cache.get(e);try{var t=new URL(e),n=[],i=(t.hostname.startsWith("www.")?(n.push(e),n.push(e.replace("www.",""))):(n.push(e),n.push(e.replace("://","://www."))),"https://webmention.io/api/mentions.jf2?"+n.map(e=>"target[]="+encodeURIComponent(e)).join("&")),o=(console.log("Fetching from endpoint:",i),await fetch(i));if(!o.ok)throw new Error("HTTP error! status: "+o.status);const r=await o.json();return console.log("Received webmentions:",r),n.forEach(e=>this.cache.set(e,r)),r}catch(e){throw console.error("Error fetching webmentions:",e),e}}renderWebmentions(t){if(this.container)if(t.children&&0!==t.children.length){this.container.style.display="";var n=t.children.filter(e=>["like-of","repost-of","bookmark-of"].includes(e["wm-property"])),t=t.children.filter(e=>["mention-of","in-reply-to"].includes(e["wm-property"]));let e='<div class="wm-container">';e+=`
          <h3 class="wm-header">Mentions around the web</h3>
          <div class="wm-avatar-grid">
              ${n.map(e=>this.renderAvatar(e)).join("")}
              <span class="wm-reactions-count">${n.length} Likes and Retweets</span>
          </div>
      `,0<t.length&&(e+=`
              <div class="wm-mentions-list">
                  ${t.map(e=>this.renderMention(e)).join("")}
              </div>
              ${4<t.length?`<button class="wm-show-more">Show ${t.length-4} more</button>`:""}
          `),e+="</div>",this.container.innerHTML=e;const i=this.container.querySelector(".wm-show-more");i&&i.addEventListener("click",()=>{this.container.querySelector(".wm-mentions-list").classList.add("wm-show-all"),i.style.display="none"})}else this.container.style.display="none"}renderAvatar(e){var t=e.author||{},n="https://webmention.io/avatar/default.svg";return`
            <a href="${e.url}" 
               class="wm-avatar-link" 
               target="_blank" 
               rel="noopener noreferrer"
               title="${t.name||"Someone"} ${this.getReactionText(e["wm-property"])}">
                <img src="${t.photo||n}"
                     alt="${t.name||"Anonymous"}"
                     loading="lazy"
                     class="wm-avatar-img"
                     onerror="this.src='${n}'">
            </a>
        `}renderMention(e){var t=e.author||{},n=new Date(e.published||e["wm-received"]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return`
          <div class="wm-mention-item">
              <img src="${t.photo||"https://webmention.io/avatar/default.svg"}"
                   alt="${t.name||"Anonymous"}"
                   loading="lazy"
                   class="wm-author-img">
              
              <div class="wm-mention-content-wrapper">
                  <div class="wm-mention-header">
                      <a href="${t.url||e.url}" 
                         class="wm-author-name" 
                         target="_blank" 
                         rel="noopener noreferrer">
                          ${t.name||"Anonymous"}
                      </a>
                      <span class="wm-mention-metadata">
                          ${this.getMentionType(e["wm-property"])} on
                          <a href="${e.url}" 
                             class="wm-mention-source" 
                             target="_blank" 
                             rel="noopener noreferrer">
                              ${this.getSourceName(e.url)}
                          </a>
                          — ${n}
                      </span>
                  </div>
                  ${e.content?.text?`
                      <div class="wm-mention-content">
                          ${this.formatContent(e.content.text)}
                      </div>
                  `:""}
              </div>
          </div>
      `}getReactionText(e){return{"like-of":"liked this","repost-of":"reposted this","bookmark-of":"bookmarked this"}[e]||"reacted to this"}getMentionType(e){return{"mention-of":"mentioned","in-reply-to":"replied to"}[e]||"mentioned"}getSourceName(e){try{var t=new URL(e).hostname.replace("www.","");return t.split(".")[0].charAt(0).toUpperCase()+t.split(".")[0].slice(1)}catch(e){return"Link"}}formatContent(e){e=e.replace(/[&<>"']/g,e=>({"&":"&","<":"<",">":">",'"':'"',"'":"&#39;"})[e]);return 280<e.length?e.substring(0,280)+"...":e}handleError(e){this.container&&(console.error("Webmention error:",e),this.container.innerHTML='<div class="wm-error">Error loading mentions</div>')}}).init(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).GLightbox=t()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}var a=Date.now();function c(e){var t={},n=!0,i=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(n=e,i++);for(;i<o;i++){r=void 0;var r,s=arguments[i];for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n&&"[object Object]"===Object.prototype.toString.call(s[r])?t[r]=c(!0,t[r],s[r]):t[r]=s[r])}return t}function h(e,t){if(0!=A(e=P(e=!F(e)&&e!==window&&e!==document?e:[e])||u(e)?e:[e]))if(P(e)&&!u(e))for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);else if(u(e))for(var o in e)if(w(e,o)&&!1===t.call(e[o],e[o],o,e))break}function C(e,t,n){var i=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==n?n:null,t=e[a]=e[a]||[],r={all:t,evt:null,found:null};return i&&o&&0<A(t)&&h(t,function(e,t){if(e.eventName==i&&e.fn.toString()==o.toString())return r.found=!0,r.evt=t,!1}),r}function _(n,e,t){var e=1<arguments.length&&void 0!==e?e:{},i=e.onElement,o=e.withCallback,r=e.avoidDuplicate,s=void 0===r||r,r=e.once,a=void 0!==r&&r,r=e.useCapture,l=void 0!==r&&r,c=2<arguments.length?t:void 0,u=i||[];function d(e){z(o)&&o.call(c,e,this),a&&d.destroy()}return b(u)&&(u=document.querySelectorAll(u)),d.destroy=function(){h(u,function(e){var t=C(e,n,d);t.found&&t.all.splice(t.evt,1),e.removeEventListener&&e.removeEventListener(n,d,l)})},h(u,function(e){var t=C(e,n,d);(e.addEventListener&&s&&!t.found||!s)&&(e.addEventListener(n,d,l),t.all.push({eventName:n,fn:d}))}),d}function j(t,e){h(e.split(" "),function(e){return t.classList.add(e)})}function N(t,e){h(e.split(" "),function(e){return t.classList.remove(e)})}function M(e,t){return e.classList.contains(t)}function q(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if("function"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function D(t,e,n){var i,e=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==n&&n;if(t&&""!==e)return"none"===e?z(o)&&o():(n=function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),h(i=e.split(" "),function(e){j(t,"g"+e)}),void _(n,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(e,t){h(i,function(e){N(t,"g"+e)}),z(o)&&o()}}))}function H(e,t){t=1<arguments.length&&void 0!==t?t:"";if(""===t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function k(e){e.style.display="block"}function l(e){e.style.display="none"}function g(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function Y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function v(e,t,n,i){var o,r;e()?t():(n=n||100,r=setInterval(function(){e()&&(clearInterval(r),o&&clearTimeout(o),t())},n),i&&(o=setTimeout(function(){clearInterval(r)},i)))}function T(e,t,n){if(U(e))console.error("Inject assets error");else if(z(t)&&(n=t,t=!1),b(t)&&t in window)z(n)&&n();else{var i,o,r;if(-1!==e.indexOf(".css"))return(i=document.querySelectorAll('link[href="'+e+'"]'))&&0<i.length||(s=(o=document.getElementsByTagName("head")[0]).querySelectorAll('link[rel="stylesheet"]'),(r=document.createElement("link")).rel="stylesheet",r.type="text/css",r.href=e,r.media="all",s?o.insertBefore(r,s[0]):o.appendChild(r)),z(n)&&n();if((i=document.querySelectorAll('script[src="'+e+'"]'))&&0<i.length){if(z(n)){if(b(t))return v(function(){return void 0!==window[t]},function(){n()});n()}}else{var s=document.createElement("script");s.type="text/javascript",s.src=e,s.onload=function(){if(z(n)){if(b(t))return v(function(){return void 0!==window[t]},function(){n()}),!1;n()}},document.body.appendChild(s)}}}function y(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function z(e){return"function"==typeof e}function b(e){return"string"==typeof e}function F(e){return e&&e.nodeType&&1==e.nodeType}function O(e){return Array.isArray(e)}function P(e){return e&&e.length&&isFinite(e.length)}function u(e){return"object"===t(e)&&null!=e&&!z(e)&&!O(e)}function U(e){return null==e}function w(e,t){return null!==e&&hasOwnProperty.call(e,t)}function A(e){if(u(e)){if(e.keys)return e.keys().length;var t,n=0;for(t in e)w(e,t)&&n++;return n}return e.length}function B(e){return!isNaN(parseFloat(e))&&isFinite(e)}function $(e){var e=0<arguments.length&&void 0!==e?e:-1,t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length)return!1;if(1==t.length)return t[0];"string"==typeof e&&(e=parseInt(e));var n=[],t=(h(t,function(e){n.push(e.getAttribute("data-taborder"))}),Math.max.apply(Math,n.map(function(e){return parseInt(e)}))),i=e<0?1:e+1;t<i&&(i="1");e=n.filter(function(e){return e>=parseInt(i)}).sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(e,'"]'))}function p(e){return Math.sqrt(e.x*e.x+e.y*e.y)}e(n,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"del",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;0<=t;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:"dispatch",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var n=this.handlers[e];"function"==typeof n&&n.apply(this.el,arguments)}}}]);var L=n;function n(e){s(this,n),this.handlers=[],this.el=e}function o(e,t){e=new L(e);return e.add(t),e}e(r,[{key:"start",value:function(e){var t,n;e.touches&&(e.target&&e.target.nodeName&&0<=["a","button","input"].indexOf(e.target.nodeName.toLowerCase())?console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase()):(this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=0<this.delta&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap)&&clearTimeout(this.singleTapTimeout),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now,t=this.preV,1<e.touches.length&&(this._cancelLongTap(),this._cancelSingleTap(),n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1},t.x=n.x,t.y=n.y,this.pinchStartLen=p(t),this.multipointStart.dispatch(e,this.element)),this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)))}},{key:"move",value:function(e){var t,n,i,o,r,s,a,l,c,u,d,h;e.touches&&(t=this.preV,n=e.touches.length,i=e.touches[0].pageX,o=e.touches[0].pageY,this.isDoubleTap=!1,1<n?(r=e.touches[1].pageX,s=e.touches[1].pageY,a={x:e.touches[1].pageX-i,y:e.touches[1].pageY-o},null!==t.x&&(0<this.pinchStartLen&&(e.zoom=p(a)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=(h=c=t,h=0==(d=p(u=l=a)*p(h))?0:(1<(u=(u.x*h.x+u.y*h.y)/d)&&(u=1),Math.acos(u)),0<l.x*c.y-c.x*l.y&&(h*=-1),180*h/Math.PI),this.rotate.dispatch(e,this.element)),t.x=a.x,t.y=a.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(i-this.x2+r-this.sx2)/2,e.deltaY=(o-this.y2+s-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=r,this.sy2=s):(null!==this.x2?(e.deltaX=i-this.x2,e.deltaY=o-this.y2,d=Math.abs(this.x1-this.x2),u=Math.abs(this.y1-this.y2),(10<d||10<u)&&(this._preventTap=!0)):(e.deltaX=0,e.deltaY=0),this.pressMove.dispatch(e,this.element)),this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=i,this.y2=o,1<n)&&e.preventDefault()}},{key:"end",value:function(e){var t;e.changedTouches&&(this._cancelLongTap(),t=this,e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&30<Math.abs(this.x1-this.x2)||this.y2&&30<Math.abs(this.y1-this.y2)?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){t.swipe.dispatch(e,t.element)},0)):(this.tapTimeout=setTimeout(function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)},0),t.isDoubleTap||(t.singleTapTimeout=setTimeout(function(){t.singleTap.dispatch(e,t.element)},250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null)}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?0<e-t?"Left":"Right":0<n-i?"Up":"Down"}},{key:"on",value:function(e,t){this[e]&&this[e].add(t)}},{key:"off",value:function(e,t){this[e]&&this[e].del(t)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);var X=r;function r(e,t){s(this,r),this.element="string"==typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;function n(){}this.rotate=o(this.element,t.rotate||n),this.touchStart=o(this.element,t.touchStart||n),this.multipointStart=o(this.element,t.multipointStart||n),this.multipointEnd=o(this.element,t.multipointEnd||n),this.pinch=o(this.element,t.pinch||n),this.swipe=o(this.element,t.swipe||n),this.tap=o(this.element,t.tap||n),this.doubleTap=o(this.element,t.doubleTap||n),this.longTap=o(this.element,t.longTap||n),this.singleTap=o(this.element,t.singleTap||n),this.pressMove=o(this.element,t.pressMove||n),this.twoFingerPressMove=o(this.element,t.twoFingerPressMove||n),this.touchMove=o(this.element,t.touchMove||n),this.touchEnd=o(this.element,t.touchEnd||n),this.touchCancel=o(this.element,t.touchCancel||n),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}function W(e){var t=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=M(e,"gslide-media")?e:e.querySelector(".gslide-media"),o=q(i,".ginner-container"),e=e.querySelector(".gslide-description");j(i=769<n?o:i,"greset"),H(i,"translate3d(0, 0, 0)"),_(t,{onElement:i,once:!0,withCallback:function(e,t){N(i,"greset")}}),i.style.opacity="",e&&(e.style.opacity="")}e(f,[{key:"zoomIn",value:function(){var e,t=this.widowWidth();this.zoomedIn||t<=768||((e=this.img).setAttribute("data-style",e.getAttribute("style")),e.style.maxWidth=e.naturalWidth+"px",e.style.maxHeight=e.naturalHeight+"px",e.naturalWidth>t&&(t=t/2-e.naturalWidth/2,this.setTranslate(this.img.parentNode,t,0)),this.slide.classList.add("zoomed"),this.zoomedIn=!0)}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove("dragging")},100)}},{key:"drag",value:function(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(e){var t;this.zoomedIn&&(t=e.clientX-this.img.naturalWidth/2,e=e.clientY-this.img.naturalHeight/2,this.setTranslate(this.img,t,e))}},{key:"setTranslate",value:function(e,t,n){e.style.transform="translate3d("+t+"px, "+n+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]);var I=f,R=(e(d,[{key:"dragStart",value:function(e){var t;this.slide.classList.contains("zoomed")||("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),t=e.target.nodeName.toLowerCase(),e.target.classList.contains("nodrag"))||q(e.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||"img"!==t&&q(e.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=q(e.target,".ginner-container")))}},{key:"dragEnd",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange)&&this.instance.nextSlide(),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove("dragging"),t.slide.classList.remove("dragging-nav"),t.dragContainer.style.transform="",t.dragContainer.style.transition=""},100)}},{key:"drag",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var e=Math.abs(this.currentX),t=Math.abs(this.currentY);if(0<e&&e>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var n=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&n&&(this.doSlideChange=n),this.instance.settings.dragAutoSnap&&n)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==n&&this.instance.prevSlide(),void("left"==n&&this.instance.nextSlide())}0<this.toleranceY&&0<t&&e<=t&&(!this.lastDirection||"y"==this.lastDirection)&&(this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY),n=this.shouldClose(),!this.instance.settings.dragAutoSnap&&n&&(this.doSlideClose=!0),this.instance.settings.dragAutoSnap)&&n&&this.instance.close()}}},{key:"shouldChange",value:function(){var e,t=!1;return t=Math.abs(this.currentX)>=this.toleranceX&&("left"==(e=0<this.currentX?"right":"left")&&this.slide!==this.slide.parentNode.lastChild||"right"==e&&this.slide!==this.slide.parentNode.firstChild)?e:t}},{key:"shouldClose",value:function(){var e=!1;return e=Math.abs(this.currentY)>=this.toleranceY?!0:e}},{key:"setTranslate",value:function(e,t,n){e.style.transition=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?"all .2s ease":"",e.style.transform="translate3d(".concat(t,"px, ").concat(n,"px, 0)")}}]),d);function d(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(s(this,d),e.dragEl),i=e.toleranceX,i=void 0===i?40:i,o=e.toleranceY,o=void 0===o?65:o,r=e.slide,r=void 0===r?null:r,e=e.instance,e=void 0===e?null:e;this.el=n,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=i,this.toleranceY=o,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=r,this.instance=e,this.el.addEventListener("mousedown",function(e){return t.dragStart(e)},!1),this.el.addEventListener("mouseup",function(e){return t.dragEnd(e)},!1),this.el.addEventListener("mousemove",function(e){return t.drag(e)},!1)}function f(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(s(this,f),this.img=e,this.slide=t,this.onclose=i,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(e){return n.dragStart(e)},!1),this.img.addEventListener("mouseup",function(e){return n.dragEnd(e)},!1),this.img.addEventListener("mousemove",function(e){return n.drag(e)},!1),this.img.addEventListener("click",function(e){return n.slide.classList.contains("dragging-nav")?(n.zoomOut(),!1):n.zoomedIn?void(n.zoomedIn&&!n.dragging&&n.zoomOut()):n.zoomIn()},!1),this.img.setZoomEvents=!0}function K(e){var t=q(e.target,".gslide-media");"enterfullscreen"===e.type&&j(t,"fullscreen"),"exitfullscreen"===e.type&&N(t,"fullscreen")}e(E,[{key:"sourceType",value:function(e){var t=e;return null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||null!==e.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==e.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":-1<e.indexOf("#")&&""!==t.split("#").pop().trim()?"inline":-1<e.indexOf("goajax=true")?"ajax":"external"}},{key:"parseConfig",value:function(i,o){var r=this,s=c({descPosition:o.descPosition},this.defaults);if(u(i)&&!F(i))return w(i,"type")||(w(i,"content")&&i.content?i.type="inline":w(i,"href")&&(i.type=this.sourceType(i.href))),t=c(s,i),this.setSize(t,o),t;var a,e,t="",l=i.getAttribute("data-glightbox"),n=i.nodeName.toLowerCase();if("a"===n&&(t=i.href),"img"===n&&(t=i.src,s.alt=i.alt),s.href=t,h(s,function(e,t){w(o,t)&&"width"!==t&&(s[t]=o[t]);var n=i.dataset[t];U(n)||(s[t]=r.sanitizeValue(n))}),s.content&&(s.type="inline"),!s.type&&t&&(s.type=this.sourceType(t)),U(l)?(s.title||"a"!=n||U(t=i.title)||""===t||(s.title=t),s.title||"img"!=n||U(t=i.alt)||""===t||(s.title=t)):(a=[],h(s,function(e,t){a.push(";\\s?"+t)}),a=a.join("\\s?:|"),""!==l.trim()&&h(s,function(e,t){var n=l,i=new RegExp("s?"+t+"s?:s?(.*?)("+a+"s?:|$)"),n=n.match(i);n&&n.length&&n[1]&&(i=n[1].trim().replace(/;\s*$/,""),s[t]=r.sanitizeValue(i))})),s.description&&"."===s.description.substring(0,1)){try{e=document.querySelector(s.description).innerHTML}catch(i){if(!(i instanceof DOMException))throw i}e&&(s.description=e)}return s.description||(n=i.querySelector(".glightbox-desc"))&&(s.description=n.innerHTML),this.setSize(s,o,i),this.slideConfig=s}},{key:"setSize",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i="video"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),t=this.checkSize(t.height);return e.width=w(e,"width")&&""!==e.width?this.checkSize(e.width):i,e.height=w(e,"height")&&""!==e.height?this.checkSize(e.height):t,n&&"image"==e.type&&(e._hasCustomWidth=!!n.dataset.width,e._hasCustomHeight=!!n.dataset.height),e}},{key:"checkSize",value:function(e){return B(e)?"".concat(e,"px"):e}},{key:"sanitizeValue",value:function(e){return"true"!==e&&"false"!==e?e:"true"===e}}]);var G=E,m=(e(S,[{key:"setContent",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(M(n,"loaded"))return!1;var i,o=this.instance.settings,r=this.slideConfig,s=y(),a=(z(o.beforeSlideLoad)&&o.beforeSlideLoad({index:this.index,slide:n,player:!1}),r.type),l=r.descPosition,c=n.querySelector(".gslide-media"),u=n.querySelector(".gslide-title"),d=n.querySelector(".gslide-desc"),h=n.querySelector(".gdesc-inner"),p=e,f="gSlideTitle_"+this.index,m="gSlideDesc_"+this.index;if(z(o.afterSlideLoad)&&(p=function(){z(e)&&e(),o.afterSlideLoad({index:t.index,slide:n,player:t.instance.getSlidePlayerInstance(t.index)})}),""==r.title&&""==r.description?h&&h.parentNode.parentNode.removeChild(h.parentNode):(u&&""!==r.title?(u.id=f,u.innerHTML=r.title):u.parentNode.removeChild(u),d&&""!==r.description?(d.id=m,s&&0<o.moreLength?(r.smallDescription=this.slideShortDesc(r.description,o.moreLength,o.moreText),d.innerHTML=r.smallDescription,this.descriptionEvents(d,r)):d.innerHTML=r.description):d.parentNode.removeChild(d),j(c.parentNode,"desc-".concat(l)),j(h.parentNode,"description-".concat(l))),j(c,"gslide-".concat(a)),j(n,"loaded"),"video"!==a){if("external"!==a)return"inline"===a?(function(e,t,n,i){var o,r=this,e=e.querySelector(".gslide-media"),s=!(!w(t,"href")||!t.href)&&t.href.split("#").pop().trim(),a=!(!w(t,"content")||!t.content)&&t.content;if(a&&(b(a)&&(o=g('<div class="ginlined-content">'.concat(a,"</div>"))),F(a))&&("none"==a.style.display&&(a.style.display="block"),(l=document.createElement("div")).className="ginlined-content",l.appendChild(a),o=l),s){a=document.getElementById(s);if(!a)return!1;var l=a.cloneNode(!0);l.style.height=t.height,l.style.maxWidth=t.width,j(l,"ginlined-content"),o=l}if(!o)return console.error("Unable to append inline slide content",t),!1;e.style.height=t.height,e.style.width=t.width,e.appendChild(o),this.events["inlineclose"+s]=_("click",{onElement:e.querySelectorAll(".gtrigger-close"),withCallback:function(e){e.preventDefault(),r.close()}}),z(i)&&i()}.apply(this.instance,[n,r,this.index,p]),void(r.draggable&&new R({dragEl:n.querySelector(".gslide-inline"),toleranceX:o.dragToleranceX,toleranceY:o.dragToleranceY,slide:n,instance:this.instance}))):void("image"!==a?z(p)&&p():(f=n,u=r,m=this.index,i=function(){var e=n.querySelector("img");r.draggable&&new R({dragEl:e,toleranceX:o.dragToleranceX,toleranceY:o.dragToleranceY,slide:n,instance:t.instance}),r.zoomable&&e.naturalWidth>e.offsetWidth&&(j(e,"zoomable"),new I(e,n,function(){t.instance.resize()})),z(p)&&p()},f=f.querySelector(".gslide-media"),s=new Image,d="gSlideTitle_"+m,m="gSlideDesc_"+m,s.addEventListener("load",function(){z(i)&&i()},!1),s.src=u.href,""!=u.sizes&&""!=u.srcset&&(s.sizes=u.sizes,s.srcset=u.srcset),s.alt="",U(u.alt)||""===u.alt||(s.alt=u.alt),""!==u.title&&s.setAttribute("aria-labelledby",d),""!==u.description&&s.setAttribute("aria-describedby",m),u.hasOwnProperty("_hasCustomWidth")&&u._hasCustomWidth&&(s.style.width=u.width),u.hasOwnProperty("_hasCustomHeight")&&u._hasCustomHeight&&(s.style.height=u.height),f.insertBefore(s,f.firstChild)));!function(e,t,n,i){var o,r,s,e=e.querySelector(".gslide-media"),a=(i={url:t.href,callback:i},a=i.url,o=i.allow,r=i.callback,i=i.appendTo,(s=document.createElement("iframe")).className="vimeo-video gvideo",s.src=a,s.style.width="100%",s.style.height="100%",o&&s.setAttribute("allow",o),s.onload=function(){s.onload=null,j(s,"node-ready"),z(r)&&r()},i&&i.appendChild(s),s);e.parentNode.style.maxWidth=t.width,e.parentNode.style.height=t.height,e.appendChild(a)}.apply(this,[n,r,this.index,p])}else!function(t,n,i,o){var r=this,e=t.querySelector(".ginner-container"),s="gvideo"+i,a=t.querySelector(".gslide-media"),l=this.getAllPlayers(),c=(j(e,"gvideo-container"),a.insertBefore(g('<div class="gvideo-wrapper"></div>'),a.firstChild),t.querySelector(".gvideo-wrapper")),u=(T(this.settings.plyr.css,"Plyr"),n.href),d=null==n?void 0:n.videoProvider,h=!1;a.style.maxWidth=n.width,T(this.settings.plyr.js,"Plyr",function(){"local"!==(d=!(d=!d&&u.match(/vimeo\.com\/([0-9]*)/)?"vimeo":d)&&(u.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||u.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||u.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))?"youtube":d)&&d||(d="local",e=(e=(e='<video id="'+s+'" ')+'style="background:#000; max-width: '.concat(n.width,';" ')+'preload="metadata" x-webkit-airplay="allow" playsinline controls class="gvideo-local">')+'<source src="'.concat(u,'">'),h=g(e+="</video>"));var e=h||g('<div id="'.concat(s,'" data-plyr-provider="').concat(d,'" data-plyr-embed-id="').concat(u,'"></div>')),e=(j(c,"".concat(d,"-video gvideo")),c.appendChild(e),c.setAttribute("data-id",s),c.setAttribute("data-index",i),w(r.settings.plyr,"config")?r.settings.plyr.config:{}),e=new Plyr("#"+s,e);e.on("ready",function(e){l[s]=e.detail.plyr,z(o)&&o()}),v(function(){return t.querySelector("iframe")&&"true"==t.querySelector("iframe").dataset.ready},function(){r.resize(t)}),e.on("enterfullscreen",K),e.on("exitfullscreen",K)})}.apply(this.instance,[n,r,this.index,p])}},{key:"slideShortDesc",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");i.innerHTML=e;var o=n;return!((e=i.innerText.trim()).length<=t)&&(e=e.substr(0,t-1),o)?(i=null,e+'... <a href="#" class="desc-more">'+n+"</a>"):e}},{key:"descriptionEvents",value:function(e,r){var s=this,e=e.querySelector(".desc-more");if(!e)return!1;_("click",{onElement:e,withCallback:function(e,t){e.preventDefault();var n=document.body,i=q(t,".gslide-desc");if(!i)return!1;i.innerHTML=r.description,j(n,"gdesc-open");var o=_("click",{onElement:[n,q(i,".gslide-description")],withCallback:function(e,t){"a"!==e.target.nodeName.toLowerCase()&&(N(n,"gdesc-open"),j(n,"gdesc-closed"),i.innerHTML=r.smallDescription,s.descriptionEvents(i,r),setTimeout(function(){N(n,"gdesc-closed")},400),o.destroy())}})}})}},{key:"create",value:function(){return g(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){F(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var e=new G(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),S),Z=y(),V=null!==y()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,J=document.getElementsByTagName("html")[0],Q={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},ee=(e(x,[{key:"init",value:function(){var n=this,e=this.getSelector();e&&(this.baseEvents=_("click",{onElement:e,withCallback:function(e,t){e.preventDefault(),n.open(t)}})),this.elements=this.getElements()}},{key:"open",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var n,r,i,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,S,E,C,k,T,O,P,A,L,I,t=B(t)?t:this.settings.startAt,R=(B(t=F(e)&&((R=e.getAttribute("data-gallery"))&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,R)),U(t))&&(t=this.getElementIndex(e))<0?0:t)||(t=0),this.build(),D(this.overlay,"none"===this.settings.openEffect?"none":this.settings.cssEfects.fade.in),document.body),e=window.innerWidth-document.documentElement.clientWidth;0<e&&((n=document.createElement("style")).type="text/css",n.className="gcss-styles",n.innerText=".gscrollbar-fixer {margin-right: ".concat(e,"px}"),document.head.appendChild(n),j(R,"gscrollbar-fixer")),j(R,"glightbox-open"),j(J,"glightbox-open"),Z&&(j(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(t,!0),(1===this.elements.length?(j(this.prevButton,"glightbox-button-hidden"),j):(N(this.prevButton,"glightbox-button-hidden"),N))(this.nextButton,"glightbox-button-hidden"),this.lightboxOpen=!0,this.trigger("open"),z(this.settings.onOpen)&&this.settings.onOpen(),V&&this.settings.touchNavigation&&((i=this).events.hasOwnProperty("touch")||(e=Y(),l=e.width,c=e.height,f=u=!1,S=x=w=b=p=h=d=null,T=k=y=v=!(g=m=1),O={},P={},L=A=C=E=0,e=document.getElementById("glightbox-slider"),I=document.querySelector(".goverlay"),e=new X(e,{touchStart:function(e){u=!0,(M(e.targetTouches[0].target,"ginner-container")||q(e.targetTouches[0].target,".gslide-desc")||"a"==e.targetTouches[0].target.nodeName.toLowerCase())&&(u=!1),(u=!(q(e.targetTouches[0].target,".gslide-inline")&&!M(e.targetTouches[0].target.parentNode,"gslide-inline"))&&u)&&(P=e.targetTouches[0],O.pageX=e.targetTouches[0].pageX,O.pageY=e.targetTouches[0].pageY,A=e.targetTouches[0].clientX,L=e.targetTouches[0].clientY,d=i.activeSlide,h=d.querySelector(".gslide-media"),a=d.querySelector(".gslide-inline"),p=null,M(h,"gslide-image")&&(p=h.querySelector("img")),769<(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&(h=d.querySelector(".ginner-container")),N(I,"greset"),20<e.pageX&&e.pageX<window.innerWidth-20||e.preventDefault())},touchMove:function(e){if(u&&(P=e.targetTouches[0],!v)&&!y){if(a&&a.offsetHeight>c){var t=O.pageX-P.pageX;if(Math.abs(t)<=13)return!1}f=!0;var n,t=e.targetTouches[0].clientX,e=e.targetTouches[0].clientY,t=A-t,e=L-e;if(Math.abs(t)>Math.abs(e)?T=!(k=!1):k=!(T=!1),o=P.pageX-O.pageX,E=100*o/l,s=P.pageY-O.pageY,C=100*s/c,k&&p&&(n=1-Math.abs(s)/c,I.style.opacity=n,i.settings.touchFollowAxis)&&(E=0),T&&(n=1-Math.abs(o)/l,h.style.opacity=n,i.settings.touchFollowAxis)&&(C=0),!p)return H(h,"translate3d(".concat(E,"%, 0, 0)"));H(h,"translate3d(".concat(E,"%, ").concat(C,"%, 0)"))}},touchEnd:function(){if(u){var e,t;if(f=!1,!y&&!v)return e=Math.abs(parseInt(C)),t=Math.abs(parseInt(E)),29<e&&p?void i.close():e<29&&t<25?(j(I,"greset"),I.style.opacity=1,W(h)):void 0;x=b,S=w}},multipointEnd:function(){setTimeout(function(){v=!1},50)},multipointStart:function(){v=!0,m=g||1},pinch:function(e){if(!p||f)return!1;v=!0,p.scaleX=p.scaleY=m*e.zoom;e=m*e.zoom;y=!0,e<=1?(y=!1,e=1,w=b=x=S=null,p.setAttribute("style","")):(p.style.transform="scale3d(".concat(e=4.5<e?4.5:e,", ").concat(e,", 1)"),g=e)},pressMove:function(e){var t,n;y&&!v&&(n=P.pageX-O.pageX,t=P.pageY-O.pageY,x&&(n+=x),S&&(t+=S),b=n,w=t,n="translate3d(".concat(n,"px, ").concat(t,"px, 0)"),g&&(n+=" scale3d(".concat(g,", ").concat(g,", 1)")),H(p,n))},swipe:function(e){if(!y)if(v)v=!1;else{if("Left"==e.direction){if(i.index==i.elements.length-1)return W(h);i.nextSlide()}if("Right"==e.direction){if(0==i.index)return W(h);i.prevSlide()}}}}),i.events.touch=e)),!this.settings.keyboardNavigation||(r=this).events.hasOwnProperty("keyboard")||(r.events.keyboard=_("keydown",{onElement:window,withCallback:function(e,t){var n=(e=e||window.event).keyCode;if(9==n){var i=document.querySelector(".gbtn.focused");if(!i){var o=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==o||"textarea"==o||"button"==o)return}e.preventDefault();o=document.querySelectorAll(".gbtn[data-taborder]");if(!o||o.length<=0)return;if(!i)return void((e=$())&&(e.focus(),j(e,"focused")));o=$(i.getAttribute("data-taborder"));N(i,"focused"),o&&(o.focus(),j(o,"focused"))}39==n&&r.nextSlide(),37==n&&r.prevSlide(),27==n&&r.close()}}))}},{key:"openAt",value:function(){this.open(null,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"showSlide",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=(k(this.loader),this.index=parseInt(n),this.slidesContainer.querySelector(".current")),r=(o&&N(o,"current"),this.slideAnimateOut(),this.slidesContainer.querySelectorAll(".gslide")[n]);M(r,"loaded")?(this.slideAnimateIn(r,i),l(this.loader)):(k(this.loader),o=this.elements[n],e={index:this.index,slide:r,slideNode:r,slideConfig:o.slideConfig,slideIndex:this.index,trigger:o.node,player:null},this.trigger("slide_before_load",e),o.instance.setContent(r,function(){l(t.loader),t.resize(),t.slideAnimateIn(r,i),t.trigger("slide_after_load",e)})),this.slideDescription=r.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&M(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(n+1),this.preloadSlide(n-1)),this.updateNavigationClasses(),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t,n,i,o,r=this;return!(e<0||e>this.elements.length-1||U(this.elements[e])||M(t=this.slidesContainer.querySelectorAll(".gslide")[e],"loaded"))&&(i=(n=this.elements[e]).type,o={index:e,slide:t,slideNode:t,slideConfig:n.slideConfig,slideIndex:e,trigger:n.node,player:null},this.trigger("slide_before_load",o),void("video"===i||"external"===i?setTimeout(function(){n.instance.setContent(t,function(){r.trigger("slide_after_load",o)})},200):n.instance.setContent(t,function(){r.trigger("slide_after_load",o)})))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:"insertSlide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,e=(t<0&&(t=this.elements.length),new m(e,this,t)),n=e.getConfig(),i=c({},n),o=e.create(),r=this.elements.length-1,e=(i.index=t,i.node=!1,i.instance=e,i.slideConfig=n,this.elements.splice(t,0,i),null),s=null;this.slidesContainer&&(r<t?this.slidesContainer.appendChild(o):(r=this.slidesContainer.querySelectorAll(".gslide")[t],this.slidesContainer.insertBefore(o,r)),(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),e=this.slidesContainer.querySelectorAll(".gslide")[t],s=this.getSlidePlayerInstance(t),i.slideNode=e),this.trigger("slide_inserted",{index:t,slide:e,slideNode:e,slideConfig:n,slideIndex:t,trigger:null,player:s}),z(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:e,player:s})}},{key:"removeSlide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger("slide_removed",e),z(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:"slideAnimateIn",value:function(e,t){var n=this,i=e.querySelector(".gslide-media"),o=e.querySelector(".gslide-description"),r={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:U(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:U(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},s={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};0<i.offsetWidth&&o&&(l(o),o.style.display=""),N(e,this.effectsClasses),t?D(e,this.settings.cssEfects[this.settings.openEffect].in,function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:r,current:s}),z(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,s])}):(o="none"!==(i=this.settings.slideEffect)?this.settings.cssEfects[i].in:i,this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(o=this.settings.cssEfects.slideBack.in),D(e,o,function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:r,current:s}),z(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,s])})),setTimeout(function(){n.resize(e)},100),j(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var i=this.prevActiveSlide,e=(N(i,this.effectsClasses),j(i,"prev"),this.settings.slideEffect),e="none"!==e?this.settings.cssEfects[e].out:e;this.slidePlayerPause(i),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:U(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:U(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),z(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(e=this.settings.cssEfects.slideBack.out),D(i,e,function(){var e=i.querySelector(".ginner-container"),t=i.querySelector(".gslide-media"),n=i.querySelector(".gslide-description");e.style.transform="",t.style.transform="",N(t,"greset"),t.style.opacity="",n&&(n.style.opacity=""),N(i,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(e){var e="gvideo"+e,t=this.getAllPlayers();return!(!w(t,e)||!t[e])&&t[e]}},{key:"stopSlideVideo",value:function(e){F(e)&&(t=e.querySelector(".gvideo-wrapper"))&&(e=t.getAttribute("data-index")),console.log("stopSlideVideo is deprecated, use slidePlayerPause");var t=this.getSlidePlayerInstance(e);t&&t.playing&&t.pause()}},{key:"slidePlayerPause",value:function(e){F(e)&&(t=e.querySelector(".gvideo-wrapper"))&&(e=t.getAttribute("data-index"));var t=this.getSlidePlayerInstance(e);t&&t.playing&&t.pause()}},{key:"playSlideVideo",value:function(e){F(e)&&(t=e.querySelector(".gvideo-wrapper"))&&(e=t.getAttribute("data-index")),console.log("playSlideVideo is deprecated, use slidePlayerPlay");var t=this.getSlidePlayerInstance(e);t&&!t.playing&&t.play()}},{key:"slidePlayerPlay",value:function(e){var t;(!Z||null!=(t=this.settings.plyr.config)&&t.muted)&&(F(e)&&(t=e.querySelector(".gvideo-wrapper"))&&(e=t.getAttribute("data-index")),t=this.getSlidePlayerInstance(e))&&!t.playing&&(t.play(),this.settings.autofocusVideos)&&t.elements.container.focus()}},{key:"setElements",value:function(e){var o=this,r=(this.settings.elements=!1,[]);e&&e.length&&h(e,function(e,t){var e=new m(e,o,t),n=e.getConfig(),i=c({},n);i.slideConfig=n,i.instance=e,i.index=t,r.push(i)}),this.elements=r,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length)&&(h(this.elements,function(){var e=g(o.settings.slideHTML);o.slidesContainer.appendChild(e)}),this.showSlide(0,!0))}},{key:"getElementIndex",value:function(n){var i=!1;return h(this.elements,function(e,t){if(w(e,"node")&&e.node==n)return i=t,!0}),i}},{key:"getElements",value:function(){var r=this,s=[],e=(this.elements=this.elements||[],!U(this.settings.elements)&&O(this.settings.elements)&&this.settings.elements.length&&h(this.settings.elements,function(e,t){var e=new m(e,r,t),n=e.getConfig(),i=c({},n);i.node=!1,i.index=t,i.instance=e,i.slideConfig=n,s.push(i)}),!1);return(e=this.getSelector()?document.querySelectorAll(this.getSelector()):e)&&h(e,function(e,t){var n=new m(e,r,t),i=n.getConfig(),o=c({},i);o.node=e,o.index=t,o.instance=n,o.slideConfig=i,o.gallery=e.getAttribute("data-gallery"),s.push(o)}),s}},{key:"getGalleryElements",value:function(e,t){return e.filter(function(e){return e.gallery==t})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e,t,n=[];for(e in this.settings.cssEfects)this.settings.cssEfects.hasOwnProperty(e)&&(t=this.settings.cssEfects[e],n.push("g".concat(t.in)),n.push("g".concat(t.out)));return n.join(" ")}},{key:"build",value:function(){var n=this;if(this.built)return!1;var e=document.body.childNodes,t=[],e=(h(e,function(e){e.parentNode==document.body&&"#"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute("aria-hidden")&&(t.push(e),e.setAttribute("aria-hidden","true"))}),w(this.settings.svg,"next")?this.settings.svg.next:""),i=w(this.settings.svg,"prev")?this.settings.svg.prev:"",o=w(this.settings.svg,"close")?this.settings.svg.close:"",r=g(r=(r=(r=(r=this.settings.lightboxHTML).replace(/{nextSVG}/g,e)).replace(/{prevSVG}/g,i)).replace(/{closeSVG}/g,o)),e=(document.body.appendChild(r),document.getElementById("glightbox-body")),i=(this.modal=e).querySelector(".gclose");this.prevButton=e.querySelector(".gprev"),this.nextButton=e.querySelector(".gnext"),this.overlay=e.querySelector(".goverlay"),this.loader=e.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=t,this.events={},j(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&i&&(this.events.close=_("click",{onElement:i,withCallback:function(e,t){e.preventDefault(),n.close()}})),i&&!this.settings.closeButton&&i.parentNode.removeChild(i),this.nextButton&&(this.events.next=_("click",{onElement:this.nextButton,withCallback:function(e,t){e.preventDefault(),n.nextSlide()}})),this.prevButton&&(this.events.prev=_("click",{onElement:this.prevButton,withCallback:function(e,t){e.preventDefault(),n.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=_("click",{onElement:e,withCallback:function(e,t){n.preventOutsideClick||M(document.body,"glightbox-mobile")||q(e.target,".ginner-container")||q(e.target,".gbtn")||M(e.target,"gnext")||M(e.target,"gprev")||n.close()}})),h(this.elements,function(e,t){n.slidesContainer.appendChild(e.instance.create()),e.slideNode=n.slidesContainer.querySelectorAll(".gslide")[t]}),V&&j(document.body,"glightbox-touch"),this.events.resize=_("resize",{onElement:window,withCallback:function(){n.resize()}}),this.built=!0}},{key:"resize",value:function(){var e,t,n,i,o,r,s,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;(a=a||this.activeSlide)&&!M(a,"zoomed")&&(n=Y(),e=a.querySelector(".gvideo-wrapper"),a=a.querySelector(".gslide-image"),t=this.slideDescription,r=n.width,n=n.height,(r<=768?j:N)(document.body,"glightbox-mobile"),e||a)&&(i=!1,t&&(M(t,"description-bottom")||M(t,"description-top"))&&!M(t,"gabsolute")&&(i=!0),a&&(r<=768?a.querySelector("img"):i&&(o=t.offsetHeight,(a=a.querySelector("img")).setAttribute("style","max-height: calc(100vh - ".concat(o,"px)")),t.setAttribute("style","max-width: ".concat(a.offsetWidth,"px;")))),e)&&((o=w(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"")||(a=e.clientWidth,s=e.clientHeight,o="".concat(a/(a=a/s),":").concat(s/a)),s=o.split(":"),a=this.settings.videosWidth,o=this.settings.videosWidth,s=(o=B(a)||-1!==a.indexOf("px")?parseInt(a):-1!==a.indexOf("vw")?r*parseInt(a)/100:-1!==a.indexOf("vh")?n*parseInt(a)/100:-1!==a.indexOf("%")?r*parseInt(a)/100:parseInt(e.clientWidth))/(parseInt(s[0])/parseInt(s[1])),s=Math.floor(s),i&&(n-=t.offsetHeight),r<o||n<s||n<s&&o<r?(s=e.offsetWidth,o=e.offsetHeight,e.parentNode.setAttribute("style","max-width: ".concat((s={width:s*(r=n/o),height:o*r}).width,"px")),i&&t.setAttribute("style","max-width: ".concat(s.width,"px;"))):(e.parentNode.style.maxWidth="".concat(a),i&&t.setAttribute("style","max-width: ".concat(a,";"))))}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var e=this.loop();N(this.nextButton,"disabled"),N(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(j(this.prevButton,"disabled"),j(this.nextButton,"disabled")):0!==this.index||e?this.index!==this.elements.length-1||e||j(this.nextButton,"disabled"):j(this.prevButton,"disabled")}},{key:"loop",value:function(){var e=w(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return w(this.settings,"loop")?this.settings.loop:e}},{key:"close",value:function(){var n=this;if(!this.lightboxOpen){if(this.events){for(var e in this.events)this.events.hasOwnProperty(e)&&this.events[e].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&h(this.bodyHiddenChildElms,function(e){e.removeAttribute("aria-hidden")}),j(this.modal,"glightbox-closing"),D(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),D(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(n.activeSlide=null,n.prevActiveSlideIndex=null,n.prevActiveSlide=null,n.built=!1,n.events){for(var e in n.events)n.events.hasOwnProperty(e)&&n.events[e].destroy();n.events=null}var t=document.body,t=(N(J,"glightbox-open"),N(t,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),n.modal.parentNode.removeChild(n.modal),n.trigger("close"),z(n.settings.onClose)&&n.settings.onClose(),document.querySelector(".gcss-styles"));t&&t.parentNode.removeChild(t),n.lightboxOpen=!1,n.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!e||!z(t))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:e,once:n,callback:t})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"trigger",value:function(o){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=[];h(this.apiEvents,function(e,t){var n=e.evt,i=e.once,e=e.callback;n==o&&(e(r),i)&&s.push(t)}),s.length&&h(s,function(e){return t.apiEvents.splice(e,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),x);function x(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,x),this.customOptions=e,this.settings=c(Q,e),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}function S(e,t,n){s(this,S),this.element=e,this.instance=t,this.index=n}function E(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,E),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},u(e)&&(this.defaults=c(this.defaults,e))}return function(){var e=new ee(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}}),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;return e&&t&&((n=(n=this._events=this._events||{})[e]=n[e]||[]).includes(t)||n.push(t)),this},t.once=function(e,t){var n;return e&&t&&(this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];var i,o=this._onceEvents&&this._onceEvents[e];for(i of n)o&&o[i]&&(this.off(e,i),delete o[i]),i.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let r=t.jQuery,s=t.console;function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);let i=e;var o;(i="string"==typeof e?document.querySelectorAll(e):i)?(this.elements=(o=i,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?[...o]:[o]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||e))}(a.prototype=Object.create(e.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11],l=(a.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t,n,i=e["nodeType"];if(i&&o.includes(i)){for(t of e.querySelectorAll("img"))this.addImage(t);if("string"==typeof this.options.background)for(n of e.querySelectorAll(this.options.background))this.addElementBackgroundImages(n)}},/url\((['"])?(.*?)\1\)/gi);function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(t){var n=getComputedStyle(t);if(n){let e=l.exec(n.backgroundImage);for(;null!==e;){var i=e&&e[2];i&&this.addBackground(i,t),e=l.exec(n.backgroundImage)}}},a.prototype.addImage=function(e){e=new n(e);this.images.push(e)},a.prototype.addBackground=function(e,t){e=new i(e,t);this.images.push(e)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length){let t=(e,t,n)=>{setTimeout(()=>{this.progress(e,t,n)})};this.images.forEach(function(e){e.once("progress",t),e.check()})}else this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e;e=this.img.parentNode,e="PICTURE"===e.nodeName?e:this.img;this.emitEvent("progress",[this,e,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(r(this))})})(),a}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,a){function e(e){if(T)return!0;e=e||window.event,k.timeToIdle&&k.mouseUsed&&!b&&l();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<N.length;o++)(t=N[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),T=!0,e=a.features.isOldAndroid?600:30,setTimeout(function(){T=!1},e))}function n(){var e=1===k.getNumItemsFn();e!==C&&(_(p,"ui--one-slide",e),C=e)}function s(){_(v,"share-modal--hidden",R)}function o(){if((R=!R)?(a.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){R&&s()},300)):(s(),setTimeout(function(){R||a.addClass(v,"pswp__share-modal--fade-in")},30)),!R){for(var e,t,n,i,o="",r=0;r<k.shareButtons.length;r++)e=k.shareButtons[r],t=k.getImageURLForShare(e),n=k.getPageURLForShare(e),i=k.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",k.parseShareButtonOut&&(o=k.parseShareButtonOut(e,o));v.children[0].innerHTML=o,v.children[0].onclick=D}}function r(e){for(var t=0;t<k.closeElClasses.length;t++)if(a.hasClass(e,"pswp__"+k.closeElClasses[t]))return!0}function l(){clearTimeout(P),j=0,b&&A.setIdle(!1)}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(P),P=setTimeout(function(){A.setIdle(!0)},k.timeToIdleOutside))}function u(e){S!==e&&(_(x,"preloader--active",!e),S=e)}function d(e){var t,n=e.vGap;!i.likelyTouchDevice||k.mouseUsed||screen.width>k.fitControlsWidth?(t=k.barsSize,k.captionEl&&"auto"===t.bottom?(m||((m=a.createEl("pswp__caption pswp__caption--fake")).appendChild(a.createEl("pswp__caption__center")),p.insertBefore(m,f),a.addClass(p,"pswp__ui--fit")),k.addCaptionHTMLFn(e,m,!0)?(e=m.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function M(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],r=o.className;for(var i=0;i<N.length;i++)s=N[i],-1<r.indexOf("pswp__"+s.name)&&(k[s.option]?(a.removeClass(o,"pswp__element--disabled"),s.onInit&&s.onInit(o)):a.addClass(o,"pswp__element--disabled"))}}e(p.children);var o,r,s,t=a.getChildByClass(p,"pswp__top-bar");t&&e(t.children)}var h,p,f,m,t,g,v,y,b,w,x,S,E,C,k,T,O,P,A=this,L=!1,I=!0,R=!0,q={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(e,t,n){a[(n?"add":"remove")+"Class"](e,"pswp__"+t)},D=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),R||o(),1))},j=0,N=[{name:"caption",option:"captionEl",onInit:function(e){f=e}},{name:"share-modal",option:"shareEl",onInit:function(e){v=e},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(e){g=e},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){x=e}}];A.init=function(){var t;a.extend(i.options,q,!0),k=i.options,p=a.getChildByClass(i.scrollWrap,"pswp__ui"),(w=i.listen)("onVerticalDrag",function(e){I&&e<.95?A.hideControls():!I&&.95<=e&&A.showControls()}),w("onPinchClose",function(e){I&&e<.9?(A.hideControls(),t=!0):t&&!I&&.9<e&&A.showControls()}),w("zoomGestureEnded",function(){(t=!1)&&!I&&A.showControls()}),w("beforeChange",A.update),w("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(k.getDoubleTapZoom(!1,i.currItem),e,333)}),w("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),w("bindEvents",function(){a.bind(p,"pswpTap click",e),a.bind(i.scrollWrap,"pswpTap",A.onGlobalTap),i.likelyTouchDevice||a.bind(i.scrollWrap,"mouseover",A.onMouseOver)}),w("unbindEvents",function(){R||o(),O&&clearInterval(O),a.unbind(document,"mouseout",c),a.unbind(document,"mousemove",l),a.unbind(p,"pswpTap click",e),a.unbind(i.scrollWrap,"pswpTap",A.onGlobalTap),a.unbind(i.scrollWrap,"mouseover",A.onMouseOver),h&&(a.unbind(document,h.eventK,A.updateFullscreen),h.isFullscreen()&&(k.hideAnimationDuration=0,h.exit()),h=null)}),w("destroy",function(){k.captionEl&&(m&&p.removeChild(m),a.removeClass(f,"pswp__caption--empty")),v&&(v.children[0].onclick=null),a.removeClass(p,"pswp__ui--over-close"),a.addClass(p,"pswp__ui--hidden"),A.setIdle(!1)}),k.showAnimationDuration||a.removeClass(p,"pswp__ui--hidden"),w("initialZoomIn",function(){k.showAnimationDuration&&a.removeClass(p,"pswp__ui--hidden")}),w("initialZoomOut",function(){a.addClass(p,"pswp__ui--hidden")}),w("parseVerticalMargin",d),M(),k.shareEl&&g&&v&&(R=!0),n(),k.timeToIdle&&w("mouseUsed",function(){a.bind(document,"mousemove",l),a.bind(document,"mouseout",c),O=setInterval(function(){2===++j&&A.setIdle(!0)},k.timeToIdle/2)}),k.fullscreenEl&&!a.features.isOldAndroid&&((h=h||A.getFullscreenAPI())?(a.bind(document,h.eventK,A.updateFullscreen),A.updateFullscreen(),a.addClass(i.template,"pswp--supports-fs")):a.removeClass(i.template,"pswp--supports-fs")),k.preloaderEl&&(u(!0),w("beforeChange",function(){clearTimeout(E),E=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||u(!1):u(!0)},k.loadingIndicatorDelay)}),w("imageLoadComplete",function(e,t){i.currItem===t&&u(!0)}))},A.setIdle=function(e){_(p,"ui--idle",b=e)},A.update=function(){L=!(!I||!i.currItem||(A.updateIndexIndicator(),k.captionEl&&(k.addCaptionHTMLFn(i.currItem,f),_(f,"caption--empty",!i.currItem.title)),0)),R||o(),n()},A.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,a.getScrollY())},50),a[(h.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},A.updateIndexIndicator=function(){k.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+k.indexIndicatorSep+k.getNumItemsFn())},A.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!T)if(e.detail&&"mouse"===e.detail.pointerType)r(t)?i.close():a.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?k.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(k.tapToToggleControls&&(I?A.hideControls():A.showControls()),k.tapToClose&&(a.hasClass(t,"pswp__img")||r(t)))return void i.close()},A.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;_(p,"ui--over-close",r(e))},A.hideControls=function(){a.addClass(p,"pswp__ui--hidden"),I=!1},A.showControls=function(){I=!0,L||A.update(),a.removeClass(p,"pswp__ui--hidden")},A.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},A.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return y=k.closeOnScroll,k.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return k.closeOnScroll=y,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(h,q,t,D){var p={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){p.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){p.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(p.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(p.features)return p.features;var e,t,n=p.createEl().style,i="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var r,s,a,l=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],u=0;u<4;u++){for(var i=c[u],d=0;d<3;d++)r=l[d],s=i+(i?r.charAt(0).toUpperCase()+r.slice(1):r),!o[r]&&s in n&&(o[r]=s);i&&!o.raf&&(i=i.toLowerCase(),o.raf=window[i+"RequestAnimationFrame"],o.raf)&&(o.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}return o.raf||(a=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=window.setTimeout(function(){e(t+n)},n);return a=t+n,i},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=o}},f=(p.detectFeatures(),p.features.oldIE&&(p.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(o=t[a])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=s;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)}),this),H=25,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};p.extend(m,D);function e(){return{x:0,y:0}}function z(e,t){p.extend(f,t.publicMethods),Ye.push(e)}function F(e){var t=_();return t-1<e?e-t:e<0?t+e:e}function r(e,t){return Ke[e]||(Ke[e]=[]),Ke[e].push(t)}function U(e,t,n,i){i===f.currItem.initialZoomLevel?n[e]=f.currItem.initialPosition[e]:(n[e]=Qe(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function B(e){var t="";m.escKey&&27===e.keyCode?t="close":m.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]())}function W(e){e&&(Ae||Pe||y||ke)&&(e.preventDefault(),e.stopPropagation())}function Y(){f.setScrollOffset(0,p.getScrollY())}function $(e){var t;"mousedown"===e.type&&0<e.button||(Qt?e.preventDefault():Te&&"mousedown"===e.type||(It(e,!0)&&e.preventDefault(),E("pointerDown"),pe&&((t=p.arraySearch(mt,e.pointerId,"id"))<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Ht(e)).length,c=null,ct(),l&&1!==e||(l=Ne=!0,p.bind(window,ee,f),Ce=De=Me=ke=Ie=Ae=Oe=Pe=!1,je=null,E("firstTouchStart",t),O(Fe,b),ze.x=ze.y=0,O(I,t[0]),O(ft,I),gt.x=x.x*Ue,vt=[{x:I.x,y:I.y}],Se=xe=C(),it(v,!0),Tt(),Ot()),!u&&1<e&&!y&&!Ie&&(ne=v,u=Oe=!(Pe=!1),ze.y=ze.x=0,O(Fe,b),O(A,t[0]),O(pt,t[1]),_t(A,pt,Et),St.x=Math.abs(Et.x)-b.x,St.y=Math.abs(Et.y)-b.y,Re=kt(A,pt))))}function X(e){var t;e.preventDefault(),pe&&-1<(t=p.arraySearch(mt,e.pointerId,"id"))&&((t=mt[t]).x=e.pageX,t.y=e.pageY),l&&(t=Ht(e),je||Ae||u?c=t:R.x!==x.x*Ue?je="h":(e=Math.abs(t[0].x-I.x)-Math.abs(t[0].y-I.y),Math.abs(e)>=ht&&(je=0<e?"h":"v",c=t)))}function K(e){if(a.isOldAndroid){if(Te&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Te),Te=setTimeout(function(){Te=0},600))}var t;E("pointerUp"),It(e,!1)&&e.preventDefault(),pe&&-1<(r=p.arraySearch(mt,e.pointerId,"id"))&&(t=mt.splice(r,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(r=Ht(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(c=null);1===n&&O(ft,r[0]),0!==n||je||y||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),E("touchRelease",e,t));var i,o,r=-1;if(0===n&&(l=!1,p.unbind(window,ee,f),Tt(),u?r=0:-1!==xt&&(r=C()-xt)),xt=1===n?C():-1,e=-1!==r&&r<150?"zoom":"swipe",u&&n<2&&(u=!1,1===n&&(e="zoomPointerUp"),E("zoomGestureEnded")),c=null,Ae||Pe||y||ke)if(ct(),(Ee=Ee||Ut()).calculateSwipeSpeed("x"),ke)Nt()<m.verticalDragRange?f.close():(i=b.y,o=qe,ut("verticalDrag",0,1,300,p.easing.cubic.out,function(e){b.y=(f.currItem.initialPosition.y-i)*e+i,k((1-o)*e+o),T()}),E("onVerticalDrag",1));else{if((Ie||y)&&0===n){if(Wt(e,Ee))return;e="zoomPointerUp"}if(!y)return"swipe"!==e?void $t():void(!Ie&&v>f.currItem.fitRatio&&Bt(Ee))}}var G,Z,V,g,J,Q,ee,te,i,v,ne,ie,oe,re,se,s,ae,le,ce,ue,de,he,pe,o,fe,me,ge,ve,ye,be,a,we,xe,Se,Ee,Ce,ke,Te,l,Oe,Pe,Ae,Le,Ie,c,u,Re,d,_e,y,je,Ne,Me,qe,De,He,ze=e(),Fe=e(),b=e(),w={},Ue=0,Be={},x=e(),S=0,We=!0,Ye=[],$e={},Xe=!1,Ke={},E=function(e){var t=Ke[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(f,n)}},C=function(){return(new Date).getTime()},k=function(e){qe=e,f.bg.style.opacity=e*m.bgOpacity},Ge=function(e,t,n,i,o){(!Xe||o&&o!==f.currItem)&&(i/=(o||f.currItem).fitRatio),e[he]=ie+t+"px, "+n+"px"+oe+" scale("+i+")"},T=function(e){_e&&(e&&(v>f.currItem.fitRatio?Xe||(cn(f.currItem,!1,!0),Xe=!0):Xe&&(cn(f.currItem),Xe=!1)),Ge(_e,b.x,b.y,v))},Ze=function(e){e.container&&Ge(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ve=function(e,t){t[he]=ie+e+"px, 0px"+oe},Je=function(e,t){var n;!m.loop&&t&&(t=g+(x.x*Ue-e)/x.x,n=Math.round(e-R.x),t<0&&0<n||t>=_()-1&&n<0)&&(e=R.x+n*m.mainScrollEndFriction),R.x=e,Ve(e,J)},Qe=function(e,t){var n=St[e]-Be[e];return Fe[e]+ze[e]+n-t/ne*n},O=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(p.unbind(document,"mousemove",nt),p.addClass(h,"pswp--has_mouse"),m.mouseUsed=!0,E("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=an(f.currItem,w,e);return t&&(d=e),e},ot=function(e){return(e=e||f.currItem).initialZoomLevel},rt=function(e){return 0<(e=e||f.currItem).w?m.maxSpreadZoom:1},P={},st=0,at=function(e){P[e]&&(P[e].raf&&me(P[e].raf),st--,delete P[e])},lt=function(e){P[e]&&at(e),P[e]||(st++,P[e]={})},ct=function(){for(var e in P)P.hasOwnProperty(e)&&at(e)},ut=function(e,t,n,i,o,r,s){function a(){P[e]&&(l=C()-c,i<=l?(at(e),r(n),s&&s()):(r((n-t)*o(l/i)+t),P[e].raf=fe(a)))}var l,c=C();lt(e);a()},D={shout:E,listen:r,viewportSize:w,options:m,isMainScrollAnimating:function(){return y},getZoomLevel:function(){return v},getCurrentIndex:function(){return g},isDragging:function(){return l},isZooming:function(){return u},setScrollOffset:function(e,t){Be.x=e,be=Be.y=t,E("updateScrollOffset",Be)},applyZoomPan:function(e,t,n,i){b.x=t,b.y=n,v=e,T(i)},init:function(){if(!G&&!Z){f.framework=p,f.template=h,f.bg=p.getChildByClass(h,"pswp__bg"),ge=h.className,G=!0,a=p.detectFeatures(),fe=a.raf,me=a.caf,he=a.transform,ye=a.oldIE,f.scrollWrap=p.getChildByClass(h,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),J=f.container.style,f.itemHolders=s=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],s[0].el.style.display=s[2].el.style.display="none",he?(t=a.perspective&&!o,ie="translate"+(t?"3d(":"("),oe=a.perspective?", 0px)":")"):(he="left",p.addClass(h,"pswp--ie"),Ve=function(e,t){t.left=e+"px"},Ze=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},T=function(){var e,t,n,i;_e&&(e=_e,n=(i=1<(t=f.currItem).fitRatio?1:t.fitRatio)*t.w,i=i*t.h,e.width=n+"px",e.height=i+"px",e.left=b.x+"px",e.top=b.y+"px")}),i={resize:f.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){w.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Y,keydown:B,click:W};var e,t=a.isOldIOSPhone||a.isOldAndroid||a.isMobileOpera;for(a.animationName&&a.transform&&!t||(m.showAnimationDuration=m.hideAnimationDuration=0),e=0;e<Ye.length;e++)f["init"+Ye[e]]();q&&(f.ui=new q(f,p)).init(),E("firstUpdate"),g=g||m.index||0,(isNaN(g)||g<0||g>=_())&&(g=0),f.currItem=en(g),(a.isOldIOSPhone||a.isOldAndroid)&&(We=!1),h.setAttribute("aria-hidden","false"),m.modal&&(We?h.style.position="fixed":(h.style.position="absolute",h.style.top=p.getScrollY()+"px")),void 0===be&&(E("initialLayout"),be=ve=p.getScrollY());var n="pswp--open ";for(m.mainClass&&(n+=m.mainClass+" "),m.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=o?"pswp--touch":"pswp--notouch")+(a.animationName?" pswp--css_animation":""))+(a.svg?" pswp--svg":""),p.addClass(h,n),f.updateSize(),Q=-1,S=null,e=0;e<3;e++)Ve((e+Q)*x.x,s[e].el.style);ye||p.bind(f.scrollWrap,te,f),r("initialZoomInEnd",function(){f.setContent(s[0],g-1),f.setContent(s[2],g+1),s[0].el.style.display=s[2].el.style.display="block",m.focus&&h.focus(),p.bind(document,"keydown",f),a.transform&&p.bind(f.scrollWrap,"click",f),m.mouseUsed||p.bind(document,"mousemove",nt),p.bind(window,"resize scroll orientationchange",f),E("bindEvents")}),f.setContent(s[1],g),f.updateCurrItem(),E("afterInit"),We||(re=setInterval(function(){st||l||u||v!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(h,"pswp--visible")}var t},close:function(){G&&(Z=!(G=!1),E("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",i.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",nt),a.transform&&p.unbind(f.scrollWrap,"click",f),l&&p.unbind(window,ee,f),clearTimeout(we),E("unbindEvents"),tn(f.currItem,null,!0,f.destroy))},destroy:function(){E("destroy"),Zt&&clearTimeout(Zt),h.setAttribute("aria-hidden","true"),h.className=ge,re&&clearInterval(re),p.unbind(f.scrollWrap,te,f),p.unbind(window,"scroll",f),Tt(),ct(),Ke=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),b.x=e,b.y=t,T()},handleEvent:function(e){e=e||window.event,i[e.type]&&i[e.type](e)},goTo:function(e){var t=(e=F(e))-g;S=t,g=e,f.currItem=en(g),Ue-=t,Je(x.x*Ue),ct(),y=!1,f.updateCurrItem()},next:function(){f.goTo(g+1)},prev:function(){f.goTo(g-1)},updateCurrZoomItem:function(e){var t;e&&E("beforeChange",0),_e=s[1].el.children.length&&(t=s[1].el.children[0],p.hasClass(t,"pswp__zoom-wrap"))?t.style:null,d=f.currItem.bounds,ne=v=f.currItem.initialZoomLevel,b.x=d.center.x,b.y=d.center.y,e&&E("afterChange")},invalidateCurrItems:function(){se=!0;for(var e=0;e<3;e++)s[e].item&&(s[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==S){var t,n=Math.abs(S);if(!(e&&n<2)){f.currItem=en(g),Xe=!1,E("beforeChange",S),3<=n&&(Q+=S+(0<S?-3:3),n=3);for(var i=0;i<n;i++)0<S?(t=s.shift(),s[2]=t,Ve((++Q+2)*x.x,t.el.style),f.setContent(t,g-n+i+1+1)):(t=s.pop(),s.unshift(t),Ve(--Q*x.x,t.el.style),f.setContent(t,g+n-i-1-1));_e&&1===Math.abs(S)&&(e=en(ae)).initialZoomLevel!==v&&(an(e,w),cn(e),Ze(e)),S=0,f.updateCurrZoomItem(),ae=g,E("afterChange")}}},updateSize:function(e){if(!We&&m.modal){var t=p.getScrollY();if(be!==t&&(h.style.top=t+"px",be=t),!e&&$e.x===window.innerWidth&&$e.y===window.innerHeight)return;$e.x=window.innerWidth,$e.y=window.innerHeight,h.style.height=$e.y+"px"}if(w.x=f.scrollWrap.clientWidth,w.y=f.scrollWrap.clientHeight,Y(),x.x=w.x+Math.round(w.x*m.spacing),x.y=w.y,Je(x.x*Ue),E("beforeResize"),void 0!==Q){for(var n,i,o,r=0;r<3;r++)n=s[r],Ve((r+Q)*x.x,n.el.style),o=g+r-1,m.loop&&2<_()&&(o=F(o)),(i=en(o))&&(se||i.needsUpdate||!i.bounds)?(f.cleanSlide(i),f.setContent(n,o),1===r&&(f.currItem=i,f.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&f.setContent(n,o),i&&i.container&&(an(i,w),cn(i),Ze(i));se=!1}ne=v=f.currItem.initialZoomLevel,(d=f.currItem.bounds)&&(b.x=d.center.x,b.y=d.center.y,T(!0)),E("resize")},zoomTo:function(t,e,n,i,o){e&&(ne=v,St.x=Math.abs(e.x)-b.x,St.y=Math.abs(e.y)-b.y,O(Fe,b));function r(e){1===e?(v=t,b.x=s.x,b.y=s.y):(v=(t-a)*e+a,b.x=(s.x-l.x)*e+l.x,b.y=(s.y-l.y)*e+l.y),o&&o(e),T(1===e)}var e=it(t,!1),s={},a=(U("x",e,s,t),U("y",e,s,t),v),l={x:b.x,y:b.y};et(s);n?ut("customZoomTo",0,1,n,i||p.easing.sine.inOut,r):r(1)}},dt=30,ht=10,A={},pt={},L={},I={},ft={},mt=[],gt={},vt=[],yt={},bt=0,wt=e(),xt=0,R=e(),St=e(),Et=e(),Ct=function(e,t){return e.x===t.x&&e.y===t.y},kt=function(e,t){return yt.x=Math.abs(e.x-t.x),yt.y=Math.abs(e.y-t.y),Math.sqrt(yt.x*yt.x+yt.y*yt.y)},Tt=function(){Le&&(me(Le),Le=null)},Ot=function(){l&&(Le=fe(Ot),Ft())},Pt=function(){return!("fit"===m.scaleMode&&v===f.currItem.initialZoomLevel)},At=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:At(e.parentNode,t))},Lt={},It=function(e,t){return Lt.prevent=!At(e.target,m.isClickableElement),E("preventDragEvent",e,t,Lt),Lt.prevent},Rt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_t=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},jt=function(e,t,n){var i;50<e-Se&&((i=2<vt.length?vt.shift():{}).x=t,i.y=n,vt.push(i),Se=e)},Nt=function(){var e=b.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(w.y/2))},Mt={},qt={},Dt=[],Ht=function(e){for(;0<Dt.length;)Dt.pop();return pe?(He=0,mt.forEach(function(e){0===He?Dt[0]=e:1===He&&(Dt[1]=e),He++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Dt[0]=Rt(e.touches[0],Mt),1<e.touches.length)&&(Dt[1]=Rt(e.touches[1],qt)):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",Dt[0]=Mt),Dt},zt=function(e,t){var n,i,o,r=b[e]+t[e],s=0<t[e],a=R.x+t.x,l=R.x-gt.x,c=r>d.min[e]||r<d.max[e]?m.panEndFriction:1,r=b[e]+t[e]*c;return!m.allowPanToNext&&v!==f.currItem.initialZoomLevel||(_e?"h"!==je||"x"!==e||Pe||(s?(r>d.min[e]&&(c=m.panEndFriction,d.min[e],n=d.min[e]-Fe[e]),(n<=0||l<0)&&1<_()?(o=a,l<0&&a>gt.x&&(o=gt.x)):d.min.x!==d.max.x&&(i=r)):(r<d.max[e]&&(c=m.panEndFriction,d.max[e],n=Fe[e]-d.max[e]),(n<=0||0<l)&&1<_()?(o=a,0<l&&a<gt.x&&(o=gt.x)):d.min.x!==d.max.x&&(i=r))):o=a,"x"!==e)?void(y||Ie||v>f.currItem.fitRatio&&(b[e]+=t[e]*c)):(void 0!==o&&(Je(o,!0),Ie=o!==gt.x),d.min.x!==d.max.x&&(void 0!==i?b.x=i:Ie||(b.x+=t.x*c)),void 0!==o)},Ft=function(){var e,t,n,i,o,r;c&&0!==(e=c.length)&&(O(A,c[0]),L.x=A.x-I.x,L.y=A.y-I.y,u&&1<e?(I.x=A.x,I.y=A.y,!L.x&&!L.y&&Ct(c[1],pt)||(O(pt,c[1]),Pe||(Pe=!0,E("zoomGestureStarted")),e=kt(A,pt),(t=Yt(e))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(De=!0),n=1,i=ot(),o=rt(),t<i?m.pinchToClose&&!De&&ne<=f.currItem.initialZoomLevel?(k(r=1-(i-t)/(i/1.2)),E("onPinchClose",r),Me=!0):t=i-(n=1<(n=(i-t)/i)?1:n)*(i/3):o<t&&(t=o+(n=1<(n=(t-o)/(6*i))?1:n)*i),n<0&&(n=0),_t(A,pt,wt),ze.x+=wt.x-Et.x,ze.y+=wt.y-Et.y,O(Et,wt),b.x=Qe("x",t),b.y=Qe("y",t),Ce=v<t,v=t,T())):je&&(Ne&&(Ne=!1,Math.abs(L.x)>=ht&&(L.x-=c[0].x-ft.x),Math.abs(L.y)>=ht)&&(L.y-=c[0].y-ft.y),I.x=A.x,I.y=A.y,0===L.x&&0===L.y||("v"===je&&m.closeOnVerticalDrag&&!Pt()?(ze.y+=L.y,b.y+=L.y,r=Nt(),ke=!0,E("onVerticalDrag",r),k(r),T()):(jt(C(),A.x,A.y),Ae=!0,d=f.currItem.bounds,zt("x",L)||(zt("y",L),et(b),T())))))},Ut=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<vt.length?(t=C()-Se+50,vt[vt.length-2]):(t=C()-xe,ft))[e],i.lastFlickOffset[e]=I[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(b[t]>d.min[t]?i.backAnimDestination[t]=d.min[t]:b[t]<d.max[t]&&(i.backAnimDestination[t]=d.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05)&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ut("bounceZoomPan"+t,b[t],i.backAnimDestination[t],e||300,p.easing.sine.out,function(e){b[t]=e,T()})))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,b[e]+=i.distanceOffset[e])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=fe(i.panAnimLoop),i.now=C(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),T(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05)&&i.speedDecelerationRatioAbs.y<.05&&(b.x=Math.round(b.x),b.y=Math.round(b.y),T(),at("zoomPan"))}};return i},Bt=function(e){return e.calculateSwipeSpeed("y"),d=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=C(),void e.panAnimLoop())},Wt=function(e,t){var n,i,o;y||(bt=g),"swipe"===e&&(e=I.x-ft.x,r=t.lastFlickDist.x<10,dt<e&&(r||20<t.lastFlickOffset.x)?i=-1:e<-dt&&(r||t.lastFlickOffset.x<-20)&&(i=1)),i&&((g+=i)<0?(g=m.loop?_()-1:0,o=!0):g>=_()&&(g=m.loop?0:_()-1,o=!0),o&&!m.loop||(S+=i,Ue-=i,n=!0));var e=x.x*Ue,r=Math.abs(e-R.x),s=n||e>R.x==0<t.lastFlickSpeed.x?(s=0<Math.abs(t.lastFlickSpeed.x)?r/Math.abs(t.lastFlickSpeed.x):333,s=Math.min(s,400),Math.max(s,250)):333;return bt===g&&(n=!1),y=!0,E("mainScrollAnimStart"),ut("mainScroll",R.x,e,s,p.easing.cubic.out,Je,function(){ct(),y=!1,bt=-1,!n&&bt===g||f.updateCurrItem(),E("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Yt=function(e){return 1/Re*e*ne},$t=function(){var e=v,t=ot(),n=rt();v<t?e=t:n<v&&(e=n);var i,o=qe;return Me&&!Ce&&!De&&v<t?f.close():(Me&&(i=function(e){k((1-o)*e+o)}),f.zoomTo(e,0,200,p.easing.cubic.out,i)),!0};z("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){le=e+t,ce=e+n,ue=e+i,de=o?e+o:""}(pe=a.pointerEvent)&&a.touch&&(a.touch=!1),pe?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):a.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),ee=ce+" "+ue+" "+de,te=le,pe&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=o,i[le]=$,i[ce]=X,i[ue]=K,de&&(i[de]=i[ue]),a.touch&&(te+=" mousedown",ee+=" mousemove mouseup",i.mousedown=i[le],i.mousemove=i[ce],i.mouseup=i[ue]),o||(m.allowPanToNext=!1)}}});function Xt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=p.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Kt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=m.errorMsg.replace("%url%",e.src),1)}function Gt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var Zt,Vt,Jt,Qt,en,_,tn=function(r,e,s,t){function a(){at("initialZoom"),s?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(k(1),e&&(e.style.display="block"),p.addClass(h,"pswp--animated-in"),E("initialZoom"+(s?"OutEnd":"InEnd"))),t&&t(),Qt=!1}Zt&&clearTimeout(Zt),Jt=Qt=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=m.getThumbBoundsFn&&m.getThumbBoundsFn(g);var l,c,u,d=s?m.hideAnimationDuration:m.showAnimationDuration;d&&l&&void 0!==l.x?(c=V,u=!f.currItem.src||f.currItem.loadError||m.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),s||(v=l.w/r.w,b.x=l.x,b.y=l.y-ve,f[u?"template":"bg"].style.opacity=.001,T()),lt("initialZoom"),s&&!c&&p.removeClass(h,"pswp--animated-in"),u&&(s?p[(c?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){p.addClass(h,"pswp--animate_opacity")},30)),Zt=setTimeout(function(){var t,n,i,o,e;E("initialZoom"+(s?"Out":"In")),s?(t=l.w/r.w,n={x:b.x,y:b.y},i=v,o=qe,e=function(e){1===e?(v=t,b.x=l.x,b.y=l.y-be):(v=(t-i)*e+i,b.x=(l.x-n.x)*e+n.x,b.y=(l.y-be-n.y)*e+n.y),T(),u?h.style.opacity=1-e:k(o-e*o)},c?ut("initialZoom",0,1,d,p.easing.cubic.out,e,a):(e(1),Zt=setTimeout(a,d+20))):(v=r.initialZoomLevel,O(b,r.initialPosition),T(),k(1),u?h.style.opacity=1:k(1),Zt=setTimeout(a,d+20))},s?25:90)):(E("initialZoom"+(s?"Out":"In")),v=r.initialZoomLevel,O(b,r.initialPosition),T(),h.style.opacity=s?0:1,k(1),d?setTimeout(function(){a()},d):a())},j={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},sn=function(e,t,n){var i=e.bounds;i.center.x=Math.round((j.x-t)/2),i.center.y=Math.round((j.y-n)/2)+e.vGap.top,i.max.x=t>j.x?Math.round(j.x-t):i.center.x,i.max.y=n>j.y?Math.round(j.y-n)+e.vGap.top:i.center.y,i.min.x=t>j.x?0:i.center.x,i.min.y=n>j.y?e.vGap.top:i.center.y},an=function(e,t,n){var i,o;return e.src&&!e.loadError?((i=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),E("parseVerticalMargin",e)),j.x=t.x,j.y=t.y-e.vGap.top-e.vGap.bottom,i&&(t=j.x/e.w,o=j.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=m.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=rn())),n?(sn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,cn(t,i,t===f.currItem&&Xe),n.appendChild(i),r)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},cn=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")};z("Controller",{publicMethods:{lazyLoadItem:function(e){e=F(e);var t=en(e);t&&(!t.loaded&&!t.loading||se)&&(E("gettingData",e,t),t.src)&&Xt(t)},initController:function(){p.extend(m,on,!0),f.items=Vt=t,en=f.getItemAt,_=m.getNumItemsFn,m.loop,_()<3&&(m.loop=!1),r("beforeChange",function(e){for(var t=m.preload,n=null===e||0<=e,i=Math.min(t[0],_()),o=Math.min(t[1],_()),r=1;r<=(n?o:i);r++)f.lazyLoadItem(g+r);for(r=1;r<=(n?i:o);r++)f.lazyLoadItem(g-r)}),r("initialLayout",function(){f.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(g)}),r("mainScrollAnimComplete",Gt),r("initialZoomInEnd",Gt),r("destroy",function(){for(var e,t=0;t<Vt.length;t++)(e=Vt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==Vt[e]&&Vt[e]},allowProgressiveImg:function(){return m.forceProgressiveLoading||!o||m.mouseUsed||1200<screen.width},setContent:function(t,n){m.loop&&(n=F(n));var e=f.getItemAt(t.index);e&&(e.container=null);var i,o,r,e=f.getItemAt(n);e?(E("gettingData",n,e),t.index=n,o=(t.item=e).container=p.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?o.appendChild(e.html):o.innerHTML=e.html),Kt(e),an(e,w),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((i=p.createEl("pswp__img","img")).style.opacity=1,i.src=e.src,cn(e,i),ln(n,e,o,i,!0)):(e.loadComplete=function(e){if(G){if(t&&t.index===n){if(Kt(e,!0))return e.loadComplete=e.img=null,an(e,w),Ze(e),void(t.index===g&&f.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):a.transform&&(y||Qt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,o,e.img,y||Qt,!0)}e.loadComplete=null,e.img=null,E("imageLoadComplete",n,e)}},p.features.transform&&(r="pswp__img pswp__img--placeholder",r+=e.msrc?"":" pswp__img--placeholder--blank",r=p.createEl(r,e.msrc?"img":""),e.msrc&&(r.src=e.msrc),cn(e,r),o.appendChild(r),e.placeholder=r),e.loading||Xt(e),f.allowProgressiveImg()&&(!Jt&&a.transform?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t}):ln(n,e,o,e.img,!0,!0))),Jt||n!==g?Ze(e):(_e=o.style,tn(e,i||e.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function un(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}var dn,N,hn={};z("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",f.onTapStart),r("touchRelease",f.onTapRelease),r("destroy",function(){hn={},dn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(dn),dn=null)},onTapRelease:function(e,t){var n,i,o;!t||Ae||Oe||st||(n=t,dn&&(clearTimeout(dn),dn=null,i=n,o=hn,Math.abs(i.x-o.x)<H)&&Math.abs(i.y-o.y)<H?E("doubleTap",n):"mouse"===t.type?un(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||p.hasClass(e.target,"pswp__single-tap")?un(e,t):(O(hn,n),dn=setTimeout(function(){un(e,t),dn=null},300)))}}}),z("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ye||(o?r("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){N={};var t="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){p.bind(h,t,f.handleMouseWheel)}),r("unbindEvents",function(){N&&p.unbind(h,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function n(){f.mouseZoomedIn&&(p.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),v<1?p.addClass(h,"pswp--zoom-allowed"):p.removeClass(h,"pswp--zoom-allowed"),o()}var i,o=function(){i&&(p.removeClass(h,"pswp--dragging"),i=!1)};r("resize",n),r("afterChange",n),r("pointerDown",function(){f.mouseZoomedIn&&(i=!0,p.addClass(h,"pswp--dragging"))}),r("pointerUp",o),e||n()},handleMouseWheel:function(e){if(v<=f.currItem.fitRatio)return m.modal&&(!m.closeOnScroll||st||l?e.preventDefault():he&&2<Math.abs(e.deltaY)&&(V=!0,f.close())),!0;if(e.stopPropagation(),N.x=0,"deltaX"in e)1===e.deltaMode?(N.x=18*e.deltaX,N.y=18*e.deltaY):(N.x=e.deltaX,N.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(N.x=-.16*e.wheelDeltaX),e.wheelDeltaY?N.y=-.16*e.wheelDeltaY:N.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;N.y=e.detail}it(v,!0);var t=b.x-N.x,n=b.y-N.y;(m.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:w.x/2+Be.x,y:w.y/2+Be.y};var t=m.getDoubleTapZoom(!0,f.currItem),n=v===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),p[(n?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});function pn(){mn&&clearTimeout(mn),vn&&clearTimeout(vn)}function fn(){var e=Tn(),t={};if(!(e.length<5)){var n,i=e.split("&");for(r=0;r<i.length;r++)!i[r]||(n=i[r].split("=")).length<2||(t[n[0]]=n[1]);if(m.galleryPIDs){for(var o=t.pid,r=t.pid=0;r<Vt.length;r++)if(Vt[r].pid===o){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var mn,gn,vn,yn,bn,wn,n,xn,Sn,En,M,Cn,kn={history:!0,galleryUID:1},Tn=function(){return M.hash.substring(1)},On=function(){var e,t;vn&&clearTimeout(vn),st||l?vn=setTimeout(On,500):(yn?clearTimeout(gn):yn=!0,t=g+1,(e=en(g)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+m.galleryUID+"&pid="+t,xn||-1===M.hash.indexOf(e)&&(En=!0),t=M.href.split("#")[0]+"#"+e,Cn?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?M.replace(t):M.hash=e,xn=!0,gn=setTimeout(function(){yn=!1},60))};z("History",{publicMethods:{initHistory:function(){var e,t;p.extend(m,kn,!0),m.history&&(M=window.location,xn=Sn=En=!1,n=Tn(),Cn="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",f.updateURL),r("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),e=function(){wn=!0,Sn||(En?history.back():n?M.hash=n:Cn?history.pushState("",document.title,M.pathname+M.search):M.hash=""),pn()},r("unbindEvents",function(){V&&e()}),r("destroy",function(){wn||e()}),r("firstUpdate",function(){g=fn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){G&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return Tn()===n?(Sn=!0,void f.close()):void(yn||(bn=!0,f.goTo(fn().pid),bn=!1))},updateURL:function(){pn(),bn||(xn?mn=setTimeout(On,800):On())}}}),p.extend(f,D)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}return function(e,o){return void 0===o&&(o="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,i;-1!==e.className.split(" ").indexOf(o)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=o,(i=n.style).position="relative",i.width="100%",i.paddingTop=t+"%",(i=e.style).position="absolute",i.width="100%",i.height="100%",i.left="0",i.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(i=e.parentNode)&&i.removeChild(e),n.appendChild(e))})}});//# sourceMappingURL=main.js.map
